ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 2
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"SYNTHMACHINE.cpp"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text._ZN5daisy9DaisySeedD2Ev,"axG",%progbits,_ZN5daisy9DaisySeedD5Ev,comdat
  17              		.align	1
  18              		.p2align 2,,3
  19              		.weak	_ZN5daisy9DaisySeedD2Ev
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv5-d16
  26              	_ZN5daisy9DaisySeedD2Ev:
  27              	.LVL0:
  28              	.LFB2729:
  29              		.file 1 "../../libDaisy/src/daisy_seed.h"
   1:../../libDaisy/src/daisy_seed.h **** #pragma once
   2:../../libDaisy/src/daisy_seed.h **** #ifndef DSY_SEED_H
   3:../../libDaisy/src/daisy_seed.h **** #define DSY_SEED_H
   4:../../libDaisy/src/daisy_seed.h **** 
   5:../../libDaisy/src/daisy_seed.h **** #include "daisy.h"
   6:../../libDaisy/src/daisy_seed.h **** 
   7:../../libDaisy/src/daisy_seed.h **** //Uncomment this out if you're still using the rev2 hardware
   8:../../libDaisy/src/daisy_seed.h **** //#define SEED_REV2
   9:../../libDaisy/src/daisy_seed.h **** 
  10:../../libDaisy/src/daisy_seed.h **** namespace daisy
  11:../../libDaisy/src/daisy_seed.h **** {
  12:../../libDaisy/src/daisy_seed.h **** /**
  13:../../libDaisy/src/daisy_seed.h ****    @brief This is the higher-level interface for the Daisy board. \n 
  14:../../libDaisy/src/daisy_seed.h ****     All basic peripheral configuration/initialization is setup here. \n
  15:../../libDaisy/src/daisy_seed.h **** 
  16:../../libDaisy/src/daisy_seed.h ****    @ingroup boards
  17:../../libDaisy/src/daisy_seed.h **** */
  18:../../libDaisy/src/daisy_seed.h **** class DaisySeed
  19:../../libDaisy/src/daisy_seed.h **** {
  20:../../libDaisy/src/daisy_seed.h ****   public:
  21:../../libDaisy/src/daisy_seed.h ****     DaisySeed() {}
  22:../../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
  30              		.loc 1 22 5 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              	.LBB355:
  36              	.LBI355:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 2


  37              		.file 2 "../../libDaisy/src/dev/codec_ak4556.h"
   1:../../libDaisy/src/dev/codec_ak4556.h **** #pragma once
   2:../../libDaisy/src/dev/codec_ak4556.h **** #ifndef DSY_CODEC_AK4556_H
   3:../../libDaisy/src/dev/codec_ak4556.h **** #define DSY_CODEC_AK4556_H
   4:../../libDaisy/src/dev/codec_ak4556.h **** 
   5:../../libDaisy/src/dev/codec_ak4556.h **** #include "daisy_core.h"
   6:../../libDaisy/src/dev/codec_ak4556.h **** #include "per/gpio.h"
   7:../../libDaisy/src/dev/codec_ak4556.h **** 
   8:../../libDaisy/src/dev/codec_ak4556.h **** namespace daisy
   9:../../libDaisy/src/dev/codec_ak4556.h **** {
  10:../../libDaisy/src/dev/codec_ak4556.h **** /** @brief Ak4556 Codec support 
  11:../../libDaisy/src/dev/codec_ak4556.h ****  ** @author shensley
  12:../../libDaisy/src/dev/codec_ak4556.h ****  ** @addtogroup codec
  13:../../libDaisy/src/dev/codec_ak4556.h ****  ** 
  14:../../libDaisy/src/dev/codec_ak4556.h ****  ** I don't see any real reason to have this be more than a function, but in case we want
  15:../../libDaisy/src/dev/codec_ak4556.h ****  ** to add other functions down the road I wrapped the function in a class.
  16:../../libDaisy/src/dev/codec_ak4556.h ****  ***/
  17:../../libDaisy/src/dev/codec_ak4556.h **** class Ak4556
  18:../../libDaisy/src/dev/codec_ak4556.h **** {
  19:../../libDaisy/src/dev/codec_ak4556.h ****   public:
  20:../../libDaisy/src/dev/codec_ak4556.h ****     Ak4556() {}
  21:../../libDaisy/src/dev/codec_ak4556.h ****     ~Ak4556() {}
  38              		.loc 2 21 5 view .LVU1
  39              		.loc 2 21 5 is_stmt 0 view .LVU2
  40              	.LBE355:
  41              	.LBB356:
  42              	.LBI356:
  43              		.file 3 "../../libDaisy/src/sys/system.h"
   1:../../libDaisy/src/sys/system.h **** #ifndef DSY_SYSTEM_H
   2:../../libDaisy/src/sys/system.h **** #define DSY_SYSTEM_H
   3:../../libDaisy/src/sys/system.h **** 
   4:../../libDaisy/src/sys/system.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation is provided below
   5:../../libDaisy/src/sys/system.h **** 
   6:../../libDaisy/src/sys/system.h **** #include <cstdint>
   7:../../libDaisy/src/sys/system.h **** #include "per/tim.h"
   8:../../libDaisy/src/sys/system.h **** 
   9:../../libDaisy/src/sys/system.h **** namespace daisy
  10:../../libDaisy/src/sys/system.h **** {
  11:../../libDaisy/src/sys/system.h **** /** A handle for interacting with the Core System.
  12:../../libDaisy/src/sys/system.h ****  ** This includes the Clock tree, MPU, global DMA initialization,
  13:../../libDaisy/src/sys/system.h ****  ** cache handling, and any other necessary global initiailzation
  14:../../libDaisy/src/sys/system.h ****  **
  15:../../libDaisy/src/sys/system.h ****  ** @author shensley
  16:../../libDaisy/src/sys/system.h ****  ** @ingroup system
  17:../../libDaisy/src/sys/system.h ****  */
  18:../../libDaisy/src/sys/system.h **** class System
  19:../../libDaisy/src/sys/system.h **** {
  20:../../libDaisy/src/sys/system.h ****   public:
  21:../../libDaisy/src/sys/system.h ****     /** Contains settings for initializing the System */
  22:../../libDaisy/src/sys/system.h ****     struct Config
  23:../../libDaisy/src/sys/system.h ****     {
  24:../../libDaisy/src/sys/system.h ****         /** Specifies the system clock frequency that feeds APB/AHB clocks, etc. */
  25:../../libDaisy/src/sys/system.h ****         enum class SysClkFreq
  26:../../libDaisy/src/sys/system.h ****         {
  27:../../libDaisy/src/sys/system.h ****             FREQ_400MHZ,
  28:../../libDaisy/src/sys/system.h ****             FREQ_480MHZ,
  29:../../libDaisy/src/sys/system.h ****         };
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 3


  30:../../libDaisy/src/sys/system.h **** 
  31:../../libDaisy/src/sys/system.h ****         /** Method to call on the struct to set to defaults
  32:../../libDaisy/src/sys/system.h ****          ** CPU Freq set to 400MHz
  33:../../libDaisy/src/sys/system.h ****          ** Cache Enabled
  34:../../libDaisy/src/sys/system.h ****          ** */
  35:../../libDaisy/src/sys/system.h ****         void Defaults()
  36:../../libDaisy/src/sys/system.h ****         {
  37:../../libDaisy/src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_400MHZ;
  38:../../libDaisy/src/sys/system.h ****             use_dcache  = true;
  39:../../libDaisy/src/sys/system.h ****             use_icache  = true;
  40:../../libDaisy/src/sys/system.h ****             skip_clocks = false;
  41:../../libDaisy/src/sys/system.h ****         }
  42:../../libDaisy/src/sys/system.h **** 
  43:../../libDaisy/src/sys/system.h ****         /** Method to call on the struct to set to boost mode:
  44:../../libDaisy/src/sys/system.h ****          ** CPU Freq set to 480MHz
  45:../../libDaisy/src/sys/system.h ****          ** Cache Enabled
  46:../../libDaisy/src/sys/system.h ****          ** */
  47:../../libDaisy/src/sys/system.h ****         void Boost()
  48:../../libDaisy/src/sys/system.h ****         {
  49:../../libDaisy/src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_480MHZ;
  50:../../libDaisy/src/sys/system.h ****             use_dcache  = true;
  51:../../libDaisy/src/sys/system.h ****             use_icache  = true;
  52:../../libDaisy/src/sys/system.h ****             skip_clocks = false;
  53:../../libDaisy/src/sys/system.h ****         }
  54:../../libDaisy/src/sys/system.h **** 
  55:../../libDaisy/src/sys/system.h ****         SysClkFreq cpu_freq;
  56:../../libDaisy/src/sys/system.h ****         bool       use_dcache;
  57:../../libDaisy/src/sys/system.h ****         bool       use_icache;
  58:../../libDaisy/src/sys/system.h ****         bool       skip_clocks;
  59:../../libDaisy/src/sys/system.h ****     };
  60:../../libDaisy/src/sys/system.h **** 
  61:../../libDaisy/src/sys/system.h ****     /** Describes the different regions of memory available to the Daisy */
  62:../../libDaisy/src/sys/system.h ****     enum MemoryRegion
  63:../../libDaisy/src/sys/system.h ****     {
  64:../../libDaisy/src/sys/system.h ****         INTERNAL_FLASH = 0,
  65:../../libDaisy/src/sys/system.h ****         ITCMRAM,
  66:../../libDaisy/src/sys/system.h ****         DTCMRAM,
  67:../../libDaisy/src/sys/system.h ****         SRAM_D1,
  68:../../libDaisy/src/sys/system.h ****         SRAM_D2,
  69:../../libDaisy/src/sys/system.h ****         SRAM_D3,
  70:../../libDaisy/src/sys/system.h ****         SDRAM,
  71:../../libDaisy/src/sys/system.h ****         QSPI,
  72:../../libDaisy/src/sys/system.h ****         INVALID_ADDRESS,
  73:../../libDaisy/src/sys/system.h ****     };
  74:../../libDaisy/src/sys/system.h **** 
  75:../../libDaisy/src/sys/system.h ****     /** Bootloader struct for controlling bootloading parameters */
  76:../../libDaisy/src/sys/system.h ****     struct BootInfo
  77:../../libDaisy/src/sys/system.h ****     {
  78:../../libDaisy/src/sys/system.h ****         enum class Type : uint32_t
  79:../../libDaisy/src/sys/system.h ****         {
  80:../../libDaisy/src/sys/system.h ****             INVALID      = 0x00000000,
  81:../../libDaisy/src/sys/system.h ****             JUMP         = 0xDEADBEEF,
  82:../../libDaisy/src/sys/system.h ****             SKIP_TIMEOUT = 0x5AFEB007,
  83:../../libDaisy/src/sys/system.h ****             INF_TIMEOUT  = 0xB0074EFA,
  84:../../libDaisy/src/sys/system.h ****         } status;
  85:../../libDaisy/src/sys/system.h ****         uint32_t data;
  86:../../libDaisy/src/sys/system.h ****         enum class Version : uint32_t
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 4


  87:../../libDaisy/src/sys/system.h ****         {
  88:../../libDaisy/src/sys/system.h ****             LT_v6_0 = 0, // Less than v6.0
  89:../../libDaisy/src/sys/system.h ****             NONE,        // No bootloader present
  90:../../libDaisy/src/sys/system.h ****             v6_0,        // v6.0
  91:../../libDaisy/src/sys/system.h ****             v6_1,        // v6.1 or greater
  92:../../libDaisy/src/sys/system.h ****             LAST
  93:../../libDaisy/src/sys/system.h ****         } version;
  94:../../libDaisy/src/sys/system.h ****     };
  95:../../libDaisy/src/sys/system.h **** 
  96:../../libDaisy/src/sys/system.h ****     System() {}
  97:../../libDaisy/src/sys/system.h ****     ~System() {}
  44              		.loc 3 97 5 is_stmt 1 view .LVU3
  45              		.loc 3 97 5 is_stmt 0 view .LVU4
  46              	.LBE356:
  47              	.LBB357:
  48              	.LBI357:
  49              		.file 4 "../../libDaisy/src/hid/usb.h"
   1:../../libDaisy/src/hid/usb.h **** #pragma once
   2:../../libDaisy/src/hid/usb.h **** #ifndef DSY_HID_USB_H
   3:../../libDaisy/src/hid/usb.h **** #define DSY_HID_USB_H
   4:../../libDaisy/src/hid/usb.h **** #include <stdint.h>
   5:../../libDaisy/src/hid/usb.h **** #include <stdlib.h>
   6:../../libDaisy/src/hid/usb.h **** 
   7:../../libDaisy/src/hid/usb.h **** namespace daisy
   8:../../libDaisy/src/hid/usb.h **** /** @addtogroup human_interface
   9:../../libDaisy/src/hid/usb.h ****     @{
  10:../../libDaisy/src/hid/usb.h **** */
  11:../../libDaisy/src/hid/usb.h **** 
  12:../../libDaisy/src/hid/usb.h **** {
  13:../../libDaisy/src/hid/usb.h **** /** 
  14:../../libDaisy/src/hid/usb.h ****     @brief Interface for initializing and using the USB Peripherals on the daisy
  15:../../libDaisy/src/hid/usb.h ****     @author Stephen Hensley
  16:../../libDaisy/src/hid/usb.h ****     @date December 2019
  17:../../libDaisy/src/hid/usb.h **** */
  18:../../libDaisy/src/hid/usb.h **** class UsbHandle
  19:../../libDaisy/src/hid/usb.h **** {
  20:../../libDaisy/src/hid/usb.h ****   public:
  21:../../libDaisy/src/hid/usb.h ****     /** Return values for USBHandle Functions */
  22:../../libDaisy/src/hid/usb.h ****     enum class Result
  23:../../libDaisy/src/hid/usb.h ****     {
  24:../../libDaisy/src/hid/usb.h ****         OK,
  25:../../libDaisy/src/hid/usb.h ****         ERR,
  26:../../libDaisy/src/hid/usb.h ****     };
  27:../../libDaisy/src/hid/usb.h **** 
  28:../../libDaisy/src/hid/usb.h ****     /** Specified which of the two USB Peripherals to initialize. */
  29:../../libDaisy/src/hid/usb.h ****     enum UsbPeriph
  30:../../libDaisy/src/hid/usb.h ****     {
  31:../../libDaisy/src/hid/usb.h ****         FS_INTERNAL, /**< Internal pin */
  32:../../libDaisy/src/hid/usb.h ****         FS_EXTERNAL, /**< FS External D+ pin is Pin 38 (GPIO32). FS External D- pin is Pin 37 (GPIO
  33:../../libDaisy/src/hid/usb.h ****         FS_BOTH,     /**< Both */
  34:../../libDaisy/src/hid/usb.h ****     };
  35:../../libDaisy/src/hid/usb.h **** 
  36:../../libDaisy/src/hid/usb.h **** 
  37:../../libDaisy/src/hid/usb.h ****     /** Function called upon reception of a buffer */
  38:../../libDaisy/src/hid/usb.h ****     typedef void (*ReceiveCallback)(uint8_t* buff, uint32_t* len);
  39:../../libDaisy/src/hid/usb.h **** 
  40:../../libDaisy/src/hid/usb.h ****     UsbHandle() {}
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 5


  41:../../libDaisy/src/hid/usb.h **** 
  42:../../libDaisy/src/hid/usb.h ****     ~UsbHandle() {}
  50              		.loc 4 42 5 is_stmt 1 view .LVU5
  51              		.loc 4 42 5 is_stmt 0 view .LVU6
  52              	.LBE357:
  53              	.LBB358:
  54              	.LBI358:
  55              		.file 5 "../../libDaisy/src/per/adc.h"
   1:../../libDaisy/src/per/adc.h **** #pragma once
   2:../../libDaisy/src/per/adc.h **** #ifndef DSY_ADC_H
   3:../../libDaisy/src/per/adc.h **** #define DSY_ADC_H /**< Macro */
   4:../../libDaisy/src/per/adc.h **** #include <stdint.h>
   5:../../libDaisy/src/per/adc.h **** #include <stdlib.h>
   6:../../libDaisy/src/per/adc.h **** #include "daisy_core.h"
   7:../../libDaisy/src/per/adc.h **** #include "per/gpio.h"
   8:../../libDaisy/src/per/adc.h **** 
   9:../../libDaisy/src/per/adc.h **** #define DSY_ADC_MAX_CHANNELS 16 /**< Maximum number of ADC channels */
  10:../../libDaisy/src/per/adc.h **** 
  11:../../libDaisy/src/per/adc.h **** namespace daisy
  12:../../libDaisy/src/per/adc.h **** {
  13:../../libDaisy/src/per/adc.h **** /** @addtogroup per_analog
  14:../../libDaisy/src/per/adc.h ****     @{
  15:../../libDaisy/src/per/adc.h **** */
  16:../../libDaisy/src/per/adc.h **** 
  17:../../libDaisy/src/per/adc.h **** /* While there may not be many configuration options here,
  18:../../libDaisy/src/per/adc.h **** using a struct like this allows us to add more configuration
  19:../../libDaisy/src/per/adc.h **** later without breaking existing functionality.
  20:../../libDaisy/src/per/adc.h **** */
  21:../../libDaisy/src/per/adc.h **** 
  22:../../libDaisy/src/per/adc.h **** /** @brief   Configuration Structure for an ADC Channel 
  23:../../libDaisy/src/per/adc.h ****  *  @details This can be used to configure a a single input, 
  24:../../libDaisy/src/per/adc.h ****  *           or a multiplexed input, allowing up to 8 inputs on 
  25:../../libDaisy/src/per/adc.h ****  *           one channel.
  26:../../libDaisy/src/per/adc.h ****  *  @note    Sharing data lines to multiple muxes _is_ possible, but
  27:../../libDaisy/src/per/adc.h ****  *           each channel sharing data lines must be set to the maximum
  28:../../libDaisy/src/per/adc.h ****  *           number of channels, even if some multiplexers have fewer
  29:../../libDaisy/src/per/adc.h ****  *           inputs connected.
  30:../../libDaisy/src/per/adc.h **** */
  31:../../libDaisy/src/per/adc.h **** struct AdcChannelConfig
  32:../../libDaisy/src/per/adc.h **** {
  33:../../libDaisy/src/per/adc.h ****     /** Which pin to use for multiplexing */
  34:../../libDaisy/src/per/adc.h ****     enum MuxPin
  35:../../libDaisy/src/per/adc.h ****     {
  36:../../libDaisy/src/per/adc.h ****         MUX_SEL_0,    /**< & */
  37:../../libDaisy/src/per/adc.h ****         MUX_SEL_1,    /**< & */
  38:../../libDaisy/src/per/adc.h ****         MUX_SEL_2,    /**< & */
  39:../../libDaisy/src/per/adc.h ****         MUX_SEL_LAST, /**< & */
  40:../../libDaisy/src/per/adc.h ****     };
  41:../../libDaisy/src/per/adc.h **** 
  42:../../libDaisy/src/per/adc.h ****     /** \brief per channel conversion speed added to fixed time based on bitdepth, etc. */
  43:../../libDaisy/src/per/adc.h ****     enum ConversionSpeed
  44:../../libDaisy/src/per/adc.h ****     {
  45:../../libDaisy/src/per/adc.h ****         SPEED_1CYCLES_5,
  46:../../libDaisy/src/per/adc.h ****         SPEED_2CYCLES_5,
  47:../../libDaisy/src/per/adc.h ****         SPEED_8CYCLES_5,
  48:../../libDaisy/src/per/adc.h ****         SPEED_16CYCLES_5,
  49:../../libDaisy/src/per/adc.h ****         SPEED_32CYCLES_5,
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 6


  50:../../libDaisy/src/per/adc.h ****         SPEED_64CYCLES_5,
  51:../../libDaisy/src/per/adc.h ****         SPEED_387CYCLES_5,
  52:../../libDaisy/src/per/adc.h ****         SPEED_810CYCLES_5,
  53:../../libDaisy/src/per/adc.h ****     };
  54:../../libDaisy/src/per/adc.h **** 
  55:../../libDaisy/src/per/adc.h ****     /** Initializes a single ADC pin as an ADC. 
  56:../../libDaisy/src/per/adc.h ****     \param pin Pin to init.
  57:../../libDaisy/src/per/adc.h ****     \param speed conversion speed for this pin defaults to 8.5 cycles
  58:../../libDaisy/src/per/adc.h ****      */
  59:../../libDaisy/src/per/adc.h ****     void InitSingle(Pin pin, ConversionSpeed speed = SPEED_8CYCLES_5);
  60:../../libDaisy/src/per/adc.h **** 
  61:../../libDaisy/src/per/adc.h ****     /** 
  62:../../libDaisy/src/per/adc.h ****     Initializes a single ADC pin as a Multiplexed ADC.
  63:../../libDaisy/src/per/adc.h ****     Requires a CD405X Multiplexer connected to the pin.
  64:../../libDaisy/src/per/adc.h ****     You only need to supply the mux pins that are required,
  65:../../libDaisy/src/per/adc.h ****     e.g. a 4052 mux would only require mux_0 and mux_1.
  66:../../libDaisy/src/per/adc.h ****     Internal Callbacks handle the pin addressing.
  67:../../libDaisy/src/per/adc.h ****     \param adc_pin &
  68:../../libDaisy/src/per/adc.h ****     \param mux_channels must be 1-8
  69:../../libDaisy/src/per/adc.h ****     \param mux_0 First mux pin
  70:../../libDaisy/src/per/adc.h ****     \param mux_1 Second mux pin
  71:../../libDaisy/src/per/adc.h ****     \param mux_2 Third mux pin
  72:../../libDaisy/src/per/adc.h ****     \param speed conversion speed for this pin defaults to 8.5 cycles
  73:../../libDaisy/src/per/adc.h ****     */
  74:../../libDaisy/src/per/adc.h ****     void InitMux(Pin             adc_pin,
  75:../../libDaisy/src/per/adc.h ****                  size_t          mux_channels,
  76:../../libDaisy/src/per/adc.h ****                  Pin             mux_0,
  77:../../libDaisy/src/per/adc.h ****                  Pin             mux_1 = Pin(PORTX, 0),
  78:../../libDaisy/src/per/adc.h ****                  Pin             mux_2 = Pin(PORTX, 0),
  79:../../libDaisy/src/per/adc.h ****                  ConversionSpeed speed = SPEED_8CYCLES_5);
  80:../../libDaisy/src/per/adc.h **** 
  81:../../libDaisy/src/per/adc.h ****     GPIO            pin_;                   /**< & */
  82:../../libDaisy/src/per/adc.h ****     GPIO            mux_pin_[MUX_SEL_LAST]; /**< & */
  83:../../libDaisy/src/per/adc.h ****     uint8_t         mux_channels_;          /**< & */
  84:../../libDaisy/src/per/adc.h ****     ConversionSpeed speed_;
  85:../../libDaisy/src/per/adc.h **** };
  86:../../libDaisy/src/per/adc.h **** 
  87:../../libDaisy/src/per/adc.h **** /**
  88:../../libDaisy/src/per/adc.h ****    @brief Handler for analog to digital conversion
  89:../../libDaisy/src/per/adc.h **** */
  90:../../libDaisy/src/per/adc.h **** class AdcHandle
  91:../../libDaisy/src/per/adc.h **** {
  92:../../libDaisy/src/per/adc.h ****   public:
  93:../../libDaisy/src/per/adc.h ****     /** Supported oversampling amounts */
  94:../../libDaisy/src/per/adc.h ****     enum OverSampling
  95:../../libDaisy/src/per/adc.h ****     {
  96:../../libDaisy/src/per/adc.h ****         OVS_NONE, /**< & */
  97:../../libDaisy/src/per/adc.h ****         OVS_4,    /**< & */
  98:../../libDaisy/src/per/adc.h ****         OVS_8,    /**< & */
  99:../../libDaisy/src/per/adc.h ****         OVS_16,   /**< & */
 100:../../libDaisy/src/per/adc.h ****         OVS_32,   /**< & */
 101:../../libDaisy/src/per/adc.h ****         OVS_64,   /**< & */
 102:../../libDaisy/src/per/adc.h ****         OVS_128,  /**< & */
 103:../../libDaisy/src/per/adc.h ****         OVS_256,  /**< & */
 104:../../libDaisy/src/per/adc.h ****         OVS_512,  /**< & */
 105:../../libDaisy/src/per/adc.h ****         OVS_1024, /**< & */
 106:../../libDaisy/src/per/adc.h ****         OVS_LAST, /**< & */
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 7


 107:../../libDaisy/src/per/adc.h ****     };
 108:../../libDaisy/src/per/adc.h **** 
 109:../../libDaisy/src/per/adc.h ****     AdcHandle() {}
 110:../../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
  56              		.loc 5 110 5 is_stmt 1 view .LVU7
  57              		.loc 5 110 5 is_stmt 0 view .LVU8
  58              	.LBE358:
  59              	.LBB359:
  60              	.LBI359:
  61              		.file 6 "../../libDaisy/src/hid/audio.h"
   1:../../libDaisy/src/hid/audio.h **** #ifndef DSY_AUDIO_H
   2:../../libDaisy/src/hid/audio.h **** #define DSY_AUDIO_H /**< & */
   3:../../libDaisy/src/hid/audio.h **** 
   4:../../libDaisy/src/hid/audio.h **** #include "per/sai.h"
   5:../../libDaisy/src/hid/audio.h **** 
   6:../../libDaisy/src/hid/audio.h **** namespace daisy
   7:../../libDaisy/src/hid/audio.h **** {
   8:../../libDaisy/src/hid/audio.h **** /** @brief Audio Engine Handle
   9:../../libDaisy/src/hid/audio.h ****  *  @ingroup audio 
  10:../../libDaisy/src/hid/audio.h ****  *  @details This class allows for higher level access to an audio engine.
  11:../../libDaisy/src/hid/audio.h ****  *           If you're using a SOM like the DaisySeed or DaisyPatchSM (or any 
  12:../../libDaisy/src/hid/audio.h ****  *            board that includes one of those objects) then the intialization
  13:../../libDaisy/src/hid/audio.h ****  *            is already taken  care of.
  14:../../libDaisy/src/hid/audio.h ****  *           If you're setting up your own custom hardware, or need to make changes
  15:../../libDaisy/src/hid/audio.h ****  *           you will have to take the following steps:
  16:../../libDaisy/src/hid/audio.h ****  *             1. Create and Initialize an SaiHandle or two depending on your requirements
  17:../../libDaisy/src/hid/audio.h ****  *             2. Initialize the Audio Handle with the desired settings and the Initialized SaiHand
  18:../../libDaisy/src/hid/audio.h ****  *             3. If the connected codec requires special configuration or initialization, do so
  19:../../libDaisy/src/hid/audio.h ****  *             4. Write a callback method using either the AudioCallback or the InterleavingAudioCa
  20:../../libDaisy/src/hid/audio.h ****  *             5. Start the Audio using one of the StartAudio function
  21:../../libDaisy/src/hid/audio.h ****  */
  22:../../libDaisy/src/hid/audio.h **** class AudioHandle
  23:../../libDaisy/src/hid/audio.h **** {
  24:../../libDaisy/src/hid/audio.h ****   public:
  25:../../libDaisy/src/hid/audio.h ****     /** Manually configurable details about the Audio Engine */
  26:../../libDaisy/src/hid/audio.h ****     /** TODO: Figure out how to get samplerate in here. */
  27:../../libDaisy/src/hid/audio.h ****     struct Config
  28:../../libDaisy/src/hid/audio.h ****     {
  29:../../libDaisy/src/hid/audio.h ****         /** number of samples to process per callback */
  30:../../libDaisy/src/hid/audio.h ****         size_t blocksize = 48;
  31:../../libDaisy/src/hid/audio.h **** 
  32:../../libDaisy/src/hid/audio.h ****         /**< Sample rate of audio */
  33:../../libDaisy/src/hid/audio.h ****         SaiHandle::Config::SampleRate samplerate
  34:../../libDaisy/src/hid/audio.h ****             = SaiHandle::Config::SampleRate::SAI_48KHZ;
  35:../../libDaisy/src/hid/audio.h **** 
  36:../../libDaisy/src/hid/audio.h ****         /** factor for adjustment before and after callback for hardware that may have extra headro
  37:../../libDaisy/src/hid/audio.h ****         float postgain = 1.f;
  38:../../libDaisy/src/hid/audio.h **** 
  39:../../libDaisy/src/hid/audio.h ****         /** factor for additional one-sided compensation to audio path for hardware that may
  40:../../libDaisy/src/hid/audio.h ****          *  have unequal input/output ranges
  41:../../libDaisy/src/hid/audio.h ****          */
  42:../../libDaisy/src/hid/audio.h ****         float output_compensation = 1.f;
  43:../../libDaisy/src/hid/audio.h ****     };
  44:../../libDaisy/src/hid/audio.h **** 
  45:../../libDaisy/src/hid/audio.h ****     enum class Result
  46:../../libDaisy/src/hid/audio.h ****     {
  47:../../libDaisy/src/hid/audio.h ****         OK,
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 8


  48:../../libDaisy/src/hid/audio.h ****         ERR,
  49:../../libDaisy/src/hid/audio.h ****     };
  50:../../libDaisy/src/hid/audio.h **** 
  51:../../libDaisy/src/hid/audio.h ****     /** Non-Interleaving input buffer
  52:../../libDaisy/src/hid/audio.h ****      * Buffer arranged by float[chn][sample] 
  53:../../libDaisy/src/hid/audio.h ****      * const so that the user can't modify the input
  54:../../libDaisy/src/hid/audio.h ****      */
  55:../../libDaisy/src/hid/audio.h ****     typedef const float* const* InputBuffer;
  56:../../libDaisy/src/hid/audio.h **** 
  57:../../libDaisy/src/hid/audio.h ****     /** Non-Interleaving output buffer
  58:../../libDaisy/src/hid/audio.h ****      * Arranged by float[chn][sample] 
  59:../../libDaisy/src/hid/audio.h ****      */
  60:../../libDaisy/src/hid/audio.h ****     typedef float** OutputBuffer;
  61:../../libDaisy/src/hid/audio.h **** 
  62:../../libDaisy/src/hid/audio.h ****     /** Type for a Non-Interleaving audio callback 
  63:../../libDaisy/src/hid/audio.h ****      * Non-Interleaving audio callbacks in daisy will be of this type
  64:../../libDaisy/src/hid/audio.h ****      */
  65:../../libDaisy/src/hid/audio.h ****     typedef void (*AudioCallback)(InputBuffer  in,
  66:../../libDaisy/src/hid/audio.h ****                                   OutputBuffer out,
  67:../../libDaisy/src/hid/audio.h ****                                   size_t       size);
  68:../../libDaisy/src/hid/audio.h **** 
  69:../../libDaisy/src/hid/audio.h ****     /** Interleaving Input buffer
  70:../../libDaisy/src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }]
  71:../../libDaisy/src/hid/audio.h ****      ** this is const, as the user shouldn't modify it
  72:../../libDaisy/src/hid/audio.h ****     */
  73:../../libDaisy/src/hid/audio.h ****     typedef const float* InterleavingInputBuffer;
  74:../../libDaisy/src/hid/audio.h **** 
  75:../../libDaisy/src/hid/audio.h ****     /** Interleaving Output buffer 
  76:../../libDaisy/src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }
  77:../../libDaisy/src/hid/audio.h ****     */
  78:../../libDaisy/src/hid/audio.h ****     typedef float* InterleavingOutputBuffer;
  79:../../libDaisy/src/hid/audio.h **** 
  80:../../libDaisy/src/hid/audio.h ****     /** Interleaving Audio Callback 
  81:../../libDaisy/src/hid/audio.h ****      * Interleaving audio callbacks in daisy must be of this type
  82:../../libDaisy/src/hid/audio.h ****      */
  83:../../libDaisy/src/hid/audio.h ****     typedef void (*InterleavingAudioCallback)(InterleavingInputBuffer  in,
  84:../../libDaisy/src/hid/audio.h ****                                               InterleavingOutputBuffer out,
  85:../../libDaisy/src/hid/audio.h ****                                               size_t                   size);
  86:../../libDaisy/src/hid/audio.h **** 
  87:../../libDaisy/src/hid/audio.h ****     AudioHandle() : pimpl_(nullptr) {}
  88:../../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
  62              		.loc 6 88 5 is_stmt 1 view .LVU9
  63              		.loc 6 88 5 is_stmt 0 view .LVU10
  64              	.LBE359:
  65              		.loc 1 22 19 view .LVU11
  66 0000 7047     		bx	lr
  67              		.cfi_endproc
  68              	.LFE2729:
  70              		.weak	_ZN5daisy9DaisySeedD1Ev
  71              		.thumb_set _ZN5daisy9DaisySeedD1Ev,_ZN5daisy9DaisySeedD2Ev
  72 0002 00BF     		.section	.text._Z12USBH_ConnectPv,"ax",%progbits
  73              		.align	1
  74              		.p2align 2,,3
  75              		.global	_Z12USBH_ConnectPv
  76              		.syntax unified
  77              		.thumb
  78              		.thumb_func
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 9


  79              		.fpu fpv5-d16
  81              	_Z12USBH_ConnectPv:
  82              	.LVL1:
  83              	.LFB4908:
  84              		.file 7 "SYNTHMACHINE.cpp"
   1:SYNTHMACHINE.cpp **** /** Example of setting reading MIDI Input via USB Host
   2:SYNTHMACHINE.cpp ****  *  
   3:SYNTHMACHINE.cpp ****  * 
   4:SYNTHMACHINE.cpp ****  *  This requires a USB-A connector
   5:SYNTHMACHINE.cpp ****  * 
   6:SYNTHMACHINE.cpp ****  *  This example will also log incoming messages to the serial port for general MIDI troubleshootin
   7:SYNTHMACHINE.cpp ****  */
   8:SYNTHMACHINE.cpp **** #include "daisy_seed.h"
   9:SYNTHMACHINE.cpp **** #include "usbh_midi.h"
  10:SYNTHMACHINE.cpp **** #include "daisysp.h"
  11:SYNTHMACHINE.cpp **** 
  12:SYNTHMACHINE.cpp **** /** This prevents us from having to type "daisy::" in front of a lot of things. */
  13:SYNTHMACHINE.cpp **** using namespace daisy;
  14:SYNTHMACHINE.cpp **** using namespace daisysp;
  15:SYNTHMACHINE.cpp **** 
  16:SYNTHMACHINE.cpp **** /** Global Hardware access */
  17:SYNTHMACHINE.cpp **** DaisySeed      hw;
  18:SYNTHMACHINE.cpp **** MidiUsbHandler midi;
  19:SYNTHMACHINE.cpp **** USBHostHandle  usbHost;
  20:SYNTHMACHINE.cpp **** 
  21:SYNTHMACHINE.cpp **** // uint8_t output_buffer[8];
  22:SYNTHMACHINE.cpp **** #define BUFF_SIZE 12
  23:SYNTHMACHINE.cpp **** static uint8_t DMA_BUFFER_MEM_SECTION DAC_output_buffer[BUFF_SIZE];
  24:SYNTHMACHINE.cpp **** 
  25:SYNTHMACHINE.cpp **** #define MIDI_MAX 75
  26:SYNTHMACHINE.cpp **** #define MIDI_MIN 28
  27:SYNTHMACHINE.cpp **** #define I2C_SAMPLE_RATE 3000
  28:SYNTHMACHINE.cpp **** 
  29:SYNTHMACHINE.cpp **** class CustomAdsr {
  30:SYNTHMACHINE.cpp ****     public:
  31:SYNTHMACHINE.cpp ****         enum EnvState {
  32:SYNTHMACHINE.cpp ****             Attack,
  33:SYNTHMACHINE.cpp ****             Decay,
  34:SYNTHMACHINE.cpp ****             Sustain,
  35:SYNTHMACHINE.cpp ****             Release
  36:SYNTHMACHINE.cpp ****         };
  37:SYNTHMACHINE.cpp **** 
  38:SYNTHMACHINE.cpp ****         enum NoteState {
  39:SYNTHMACHINE.cpp ****             OnNote,
  40:SYNTHMACHINE.cpp ****             OffNote
  41:SYNTHMACHINE.cpp ****         };
  42:SYNTHMACHINE.cpp **** 
  43:SYNTHMACHINE.cpp ****         EnvState Env_State = Release;
  44:SYNTHMACHINE.cpp ****         NoteState Note_Stat = OffNote;
  45:SYNTHMACHINE.cpp **** 
  46:SYNTHMACHINE.cpp ****         float sample_rate;
  47:SYNTHMACHINE.cpp **** 
  48:SYNTHMACHINE.cpp ****         float AttackTime;
  49:SYNTHMACHINE.cpp ****         float DecayTime;
  50:SYNTHMACHINE.cpp ****         float ReleaseTime;
  51:SYNTHMACHINE.cpp ****         float SustainPoint;
  52:SYNTHMACHINE.cpp **** 
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 10


  53:SYNTHMACHINE.cpp ****         float ADSR_Sample_Val = 0;
  54:SYNTHMACHINE.cpp ****         float ADSR_Sample_Val_old = 0;
  55:SYNTHMACHINE.cpp **** 
  56:SYNTHMACHINE.cpp ****         void ProcessEnvNoteOn (){
  57:SYNTHMACHINE.cpp ****             
  58:SYNTHMACHINE.cpp ****             switch(Env_State) {
  59:SYNTHMACHINE.cpp ****                 case Attack:
  60:SYNTHMACHINE.cpp ****                     if (ADSR_Sample_Val >= 1){
  61:SYNTHMACHINE.cpp ****                         ADSR_Sample_Val = 1;
  62:SYNTHMACHINE.cpp ****                         Env_State = Decay;
  63:SYNTHMACHINE.cpp ****                     } else {
  64:SYNTHMACHINE.cpp ****                         ADSR_Sample_Val += 1 / (sample_rate*AttackTime);
  65:SYNTHMACHINE.cpp ****                     }
  66:SYNTHMACHINE.cpp ****                 break;
  67:SYNTHMACHINE.cpp ****                 
  68:SYNTHMACHINE.cpp ****                 case Decay:
  69:SYNTHMACHINE.cpp ****                     if (ADSR_Sample_Val <= SustainPoint){
  70:SYNTHMACHINE.cpp ****                         ADSR_Sample_Val = SustainPoint;
  71:SYNTHMACHINE.cpp ****                         Env_State = Sustain;
  72:SYNTHMACHINE.cpp ****                     } else {
  73:SYNTHMACHINE.cpp ****                         ADSR_Sample_Val -= (1-SustainPoint) / (sample_rate*DecayTime);
  74:SYNTHMACHINE.cpp ****                     }
  75:SYNTHMACHINE.cpp ****                 break;
  76:SYNTHMACHINE.cpp **** 
  77:SYNTHMACHINE.cpp ****                 case Sustain:
  78:SYNTHMACHINE.cpp ****                     ADSR_Sample_Val = SustainPoint;
  79:SYNTHMACHINE.cpp ****                 break;
  80:SYNTHMACHINE.cpp **** 
  81:SYNTHMACHINE.cpp ****                 case Release:
  82:SYNTHMACHINE.cpp ****                     Env_State = Attack;
  83:SYNTHMACHINE.cpp ****                     ADSR_Sample_Val = 0;
  84:SYNTHMACHINE.cpp ****                 break;
  85:SYNTHMACHINE.cpp ****             }
  86:SYNTHMACHINE.cpp ****             if (ADSR_Sample_Val >= 1){
  87:SYNTHMACHINE.cpp ****                 ADSR_Sample_Val = 1;
  88:SYNTHMACHINE.cpp ****             }
  89:SYNTHMACHINE.cpp ****             if (ADSR_Sample_Val <= 0){
  90:SYNTHMACHINE.cpp ****                 ADSR_Sample_Val = 0;
  91:SYNTHMACHINE.cpp ****             }
  92:SYNTHMACHINE.cpp **** 
  93:SYNTHMACHINE.cpp ****         }
  94:SYNTHMACHINE.cpp **** 
  95:SYNTHMACHINE.cpp ****         void ProcessEnvNoteOff (){
  96:SYNTHMACHINE.cpp ****                 
  97:SYNTHMACHINE.cpp ****                 switch(Env_State) {
  98:SYNTHMACHINE.cpp ****                     case Attack:
  99:SYNTHMACHINE.cpp ****                         if (ADSR_Sample_Val >= 1){
 100:SYNTHMACHINE.cpp ****                             ADSR_Sample_Val = 1;
 101:SYNTHMACHINE.cpp ****                         }
 102:SYNTHMACHINE.cpp ****                         ADSR_Sample_Val_old = ADSR_Sample_Val;
 103:SYNTHMACHINE.cpp ****                         Env_State = Release;
 104:SYNTHMACHINE.cpp ****                     break;
 105:SYNTHMACHINE.cpp ****                     
 106:SYNTHMACHINE.cpp ****                     case Decay:
 107:SYNTHMACHINE.cpp ****                         ADSR_Sample_Val_old = ADSR_Sample_Val;
 108:SYNTHMACHINE.cpp ****                         Env_State = Release;
 109:SYNTHMACHINE.cpp ****                     break;
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 11


 110:SYNTHMACHINE.cpp **** 
 111:SYNTHMACHINE.cpp ****                     case Sustain:
 112:SYNTHMACHINE.cpp ****                         ADSR_Sample_Val_old = ADSR_Sample_Val;
 113:SYNTHMACHINE.cpp ****                         Env_State = Release;
 114:SYNTHMACHINE.cpp ****                     break;
 115:SYNTHMACHINE.cpp **** 
 116:SYNTHMACHINE.cpp ****                     case Release:
 117:SYNTHMACHINE.cpp ****                         ADSR_Sample_Val -= ADSR_Sample_Val_old / (sample_rate * ReleaseTime);
 118:SYNTHMACHINE.cpp ****                     break;
 119:SYNTHMACHINE.cpp ****                 }
 120:SYNTHMACHINE.cpp **** 
 121:SYNTHMACHINE.cpp ****                 if (ADSR_Sample_Val <= 0){
 122:SYNTHMACHINE.cpp ****                     ADSR_Sample_Val = 0;
 123:SYNTHMACHINE.cpp ****                 }
 124:SYNTHMACHINE.cpp **** 
 125:SYNTHMACHINE.cpp ****             }
 126:SYNTHMACHINE.cpp **** 
 127:SYNTHMACHINE.cpp ****         void ProcessENV(){
 128:SYNTHMACHINE.cpp ****             switch(Note_Stat){
 129:SYNTHMACHINE.cpp ****                 case OnNote:
 130:SYNTHMACHINE.cpp ****                     ProcessEnvNoteOn();
 131:SYNTHMACHINE.cpp ****                     break;
 132:SYNTHMACHINE.cpp ****                 case OffNote:
 133:SYNTHMACHINE.cpp ****                     ProcessEnvNoteOff();
 134:SYNTHMACHINE.cpp ****                     break; 
 135:SYNTHMACHINE.cpp ****             }
 136:SYNTHMACHINE.cpp ****         }
 137:SYNTHMACHINE.cpp **** 
 138:SYNTHMACHINE.cpp ****         void SetState(NoteState Note_State_Ext){
 139:SYNTHMACHINE.cpp ****             Note_Stat = Note_State_Ext;
 140:SYNTHMACHINE.cpp ****         }
 141:SYNTHMACHINE.cpp **** 
 142:SYNTHMACHINE.cpp ****         CustomAdsr(float Sample_Rate_Ext, float AttackTime_Ext, float DecayTime_Ext, float SustainP
 143:SYNTHMACHINE.cpp ****             AttackTime = AttackTime_Ext;
 144:SYNTHMACHINE.cpp ****             DecayTime = DecayTime_Ext;
 145:SYNTHMACHINE.cpp ****             SustainPoint = SustainPoint_Ext;
 146:SYNTHMACHINE.cpp ****             ReleaseTime = ReleaseTime_Ext;
 147:SYNTHMACHINE.cpp ****             sample_rate = Sample_Rate_Ext;
 148:SYNTHMACHINE.cpp ****         }
 149:SYNTHMACHINE.cpp **** };
 150:SYNTHMACHINE.cpp **** 
 151:SYNTHMACHINE.cpp **** /** FIFO to hold messages as we're ready to print them */
 152:SYNTHMACHINE.cpp **** FIFO<MidiEvent, 128> event_log;
 153:SYNTHMACHINE.cpp **** 
 154:SYNTHMACHINE.cpp **** void USBH_Connect(void* data)
 155:SYNTHMACHINE.cpp **** {
  85              		.loc 7 155 1 is_stmt 1 view -0
  86              		.cfi_startproc
  87              		@ args = 0, pretend = 0, frame = 0
  88              		@ frame_needed = 0, uses_anonymous_args = 0
  89              		@ link register save eliminated.
 156:SYNTHMACHINE.cpp ****     //hw.PrintLine("device connected");
 157:SYNTHMACHINE.cpp **** }
  90              		.loc 7 157 1 is_stmt 0 view .LVU13
  91 0000 7047     		bx	lr
  92              		.cfi_endproc
  93              	.LFE4908:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 12


  95 0002 00BF     		.section	.text._ZN5daisy4FIFOINS_9MidiEventELj128EED2Ev,"axG",%progbits,_ZN5daisy4FIFOINS_9MidiEve
  96              		.align	1
  97              		.p2align 2,,3
  98              		.weak	_ZN5daisy4FIFOINS_9MidiEventELj128EED2Ev
  99              		.syntax unified
 100              		.thumb
 101              		.thumb_func
 102              		.fpu fpv5-d16
 104              	_ZN5daisy4FIFOINS_9MidiEventELj128EED2Ev:
 105              	.LVL2:
 106              	.LFB5521:
 107              		.file 8 "../../libDaisy/src/util/FIFO.h"
   1:../../libDaisy/src/util/FIFO.h **** #pragma once
   2:../../libDaisy/src/util/FIFO.h **** 
   3:../../libDaisy/src/util/FIFO.h **** #include <stdint.h>
   4:../../libDaisy/src/util/FIFO.h **** #include <stddef.h>
   5:../../libDaisy/src/util/FIFO.h **** #include <initializer_list>
   6:../../libDaisy/src/util/FIFO.h **** 
   7:../../libDaisy/src/util/FIFO.h **** namespace daisy
   8:../../libDaisy/src/util/FIFO.h **** {
   9:../../libDaisy/src/util/FIFO.h **** /** Capacity-independent base class for FIFO. Use FIFO instead. */
  10:../../libDaisy/src/util/FIFO.h **** template <typename T>
  11:../../libDaisy/src/util/FIFO.h **** class FIFOBase
  12:../../libDaisy/src/util/FIFO.h **** {
  13:../../libDaisy/src/util/FIFO.h ****   protected:
  14:../../libDaisy/src/util/FIFO.h ****     FIFOBase(T* buffer, size_t bufferSize)
  15:../../libDaisy/src/util/FIFO.h ****     : buffer_(buffer), bufferSize_(bufferSize), bufferIn_(0), bufferOut_(0)
  16:../../libDaisy/src/util/FIFO.h ****     {
  17:../../libDaisy/src/util/FIFO.h ****     }
  18:../../libDaisy/src/util/FIFO.h **** 
  19:../../libDaisy/src/util/FIFO.h ****     FIFOBase(T* buffer, size_t bufferSize, std::initializer_list<T> valuesToAdd)
  20:../../libDaisy/src/util/FIFO.h ****     : buffer_(buffer), bufferSize_(bufferSize), bufferIn_(0), bufferOut_(0)
  21:../../libDaisy/src/util/FIFO.h ****     {
  22:../../libDaisy/src/util/FIFO.h ****         PushBack(valuesToAdd);
  23:../../libDaisy/src/util/FIFO.h ****     }
  24:../../libDaisy/src/util/FIFO.h **** 
  25:../../libDaisy/src/util/FIFO.h ****   public:
  26:../../libDaisy/src/util/FIFO.h ****     /** Copies all elements from another FIFO */
  27:../../libDaisy/src/util/FIFO.h ****     FIFOBase<T>& operator=(const FIFOBase<T>& other)
  28:../../libDaisy/src/util/FIFO.h ****     {
  29:../../libDaisy/src/util/FIFO.h ****         bufferIn_ = bufferOut_ = 0;
  30:../../libDaisy/src/util/FIFO.h ****         if(!other.IsEmpty())
  31:../../libDaisy/src/util/FIFO.h ****         {
  32:../../libDaisy/src/util/FIFO.h ****             int readPtr = other.bufferOut_;
  33:../../libDaisy/src/util/FIFO.h ****             while((readPtr != other.bufferIn_) && (bufferIn_ < bufferSize_))
  34:../../libDaisy/src/util/FIFO.h ****             {
  35:../../libDaisy/src/util/FIFO.h ****                 buffer_[bufferIn_++] = other.buffer_[readPtr++];
  36:../../libDaisy/src/util/FIFO.h ****                 if(readPtr >= other.bufferSize_)
  37:../../libDaisy/src/util/FIFO.h ****                     readPtr -= other.bufferSize_;
  38:../../libDaisy/src/util/FIFO.h ****             }
  39:../../libDaisy/src/util/FIFO.h ****         }
  40:../../libDaisy/src/util/FIFO.h ****         return *this;
  41:../../libDaisy/src/util/FIFO.h ****     }
  42:../../libDaisy/src/util/FIFO.h ****     ~FIFOBase() {}
  43:../../libDaisy/src/util/FIFO.h **** 
  44:../../libDaisy/src/util/FIFO.h ****     /** Removes all elements from the FIFO */
  45:../../libDaisy/src/util/FIFO.h ****     void Clear() { bufferIn_ = bufferOut_ = 0; }
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 13


  46:../../libDaisy/src/util/FIFO.h **** 
  47:../../libDaisy/src/util/FIFO.h ****     /** Adds an element to the back of the buffer, returning true on
  48:../../libDaisy/src/util/FIFO.h ****         success */
  49:../../libDaisy/src/util/FIFO.h ****     bool PushBack(const T& elementToAdd)
  50:../../libDaisy/src/util/FIFO.h ****     {
  51:../../libDaisy/src/util/FIFO.h ****         if(!IsFull())
  52:../../libDaisy/src/util/FIFO.h ****         {
  53:../../libDaisy/src/util/FIFO.h ****             buffer_[bufferIn_++] = elementToAdd;
  54:../../libDaisy/src/util/FIFO.h ****             if(bufferIn_ >= bufferSize_)
  55:../../libDaisy/src/util/FIFO.h ****                 bufferIn_ -= bufferSize_;
  56:../../libDaisy/src/util/FIFO.h ****             return true;
  57:../../libDaisy/src/util/FIFO.h ****         }
  58:../../libDaisy/src/util/FIFO.h ****         return false;
  59:../../libDaisy/src/util/FIFO.h ****     }
  60:../../libDaisy/src/util/FIFO.h **** 
  61:../../libDaisy/src/util/FIFO.h ****     /** Adds multiple elements and returns the number of elements that were added */
  62:../../libDaisy/src/util/FIFO.h ****     int PushBack(std::initializer_list<T> valuesToAdd)
  63:../../libDaisy/src/util/FIFO.h ****     {
  64:../../libDaisy/src/util/FIFO.h ****         int numAdded = 0;
  65:../../libDaisy/src/util/FIFO.h ****         for(const auto& v : valuesToAdd)
  66:../../libDaisy/src/util/FIFO.h ****         {
  67:../../libDaisy/src/util/FIFO.h ****             if(IsFull())
  68:../../libDaisy/src/util/FIFO.h ****                 return numAdded;
  69:../../libDaisy/src/util/FIFO.h **** 
  70:../../libDaisy/src/util/FIFO.h ****             PushBack(v);
  71:../../libDaisy/src/util/FIFO.h ****             numAdded++;
  72:../../libDaisy/src/util/FIFO.h ****         }
  73:../../libDaisy/src/util/FIFO.h ****         return numAdded;
  74:../../libDaisy/src/util/FIFO.h ****     }
  75:../../libDaisy/src/util/FIFO.h **** 
  76:../../libDaisy/src/util/FIFO.h ****     /** returns a reference to the last element */
  77:../../libDaisy/src/util/FIFO.h ****     T& Back()
  78:../../libDaisy/src/util/FIFO.h ****     {
  79:../../libDaisy/src/util/FIFO.h ****         if(IsEmpty())
  80:../../libDaisy/src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
  81:../../libDaisy/src/util/FIFO.h ****             return buffer_[0];
  82:../../libDaisy/src/util/FIFO.h ****         int idx = bufferIn_ - 1;
  83:../../libDaisy/src/util/FIFO.h ****         if(idx < 0)
  84:../../libDaisy/src/util/FIFO.h ****             idx += bufferSize_;
  85:../../libDaisy/src/util/FIFO.h ****         return buffer_[idx];
  86:../../libDaisy/src/util/FIFO.h ****     }
  87:../../libDaisy/src/util/FIFO.h **** 
  88:../../libDaisy/src/util/FIFO.h ****     /** returns a reference to the last element */
  89:../../libDaisy/src/util/FIFO.h ****     const T& Back() const
  90:../../libDaisy/src/util/FIFO.h ****     {
  91:../../libDaisy/src/util/FIFO.h ****         if(IsEmpty())
  92:../../libDaisy/src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
  93:../../libDaisy/src/util/FIFO.h ****             return buffer_[0];
  94:../../libDaisy/src/util/FIFO.h ****         int idx = bufferIn_ - 1;
  95:../../libDaisy/src/util/FIFO.h ****         if(idx < 0)
  96:../../libDaisy/src/util/FIFO.h ****             idx += bufferSize_;
  97:../../libDaisy/src/util/FIFO.h ****         return buffer_[idx];
  98:../../libDaisy/src/util/FIFO.h ****     }
  99:../../libDaisy/src/util/FIFO.h **** 
 100:../../libDaisy/src/util/FIFO.h ****     /** removes and returns an element from the front of the buffer */
 101:../../libDaisy/src/util/FIFO.h ****     T PopFront()
 102:../../libDaisy/src/util/FIFO.h ****     {
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 14


 103:../../libDaisy/src/util/FIFO.h ****         if(IsEmpty())
 104:../../libDaisy/src/util/FIFO.h ****             return T();
 105:../../libDaisy/src/util/FIFO.h ****         else
 106:../../libDaisy/src/util/FIFO.h ****         {
 107:../../libDaisy/src/util/FIFO.h ****             const auto result = buffer_[bufferOut_];
 108:../../libDaisy/src/util/FIFO.h ****             bufferOut_++;
 109:../../libDaisy/src/util/FIFO.h ****             if(bufferOut_ >= bufferSize_)
 110:../../libDaisy/src/util/FIFO.h ****                 bufferOut_ -= bufferSize_;
 111:../../libDaisy/src/util/FIFO.h ****             return result;
 112:../../libDaisy/src/util/FIFO.h ****         }
 113:../../libDaisy/src/util/FIFO.h ****     }
 114:../../libDaisy/src/util/FIFO.h **** 
 115:../../libDaisy/src/util/FIFO.h ****     /** returns a copy of the first element */
 116:../../libDaisy/src/util/FIFO.h ****     T& Front()
 117:../../libDaisy/src/util/FIFO.h ****     {
 118:../../libDaisy/src/util/FIFO.h ****         if(IsEmpty())
 119:../../libDaisy/src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
 120:../../libDaisy/src/util/FIFO.h ****             return buffer_[0];
 121:../../libDaisy/src/util/FIFO.h ****         return buffer_[bufferOut_];
 122:../../libDaisy/src/util/FIFO.h ****     }
 123:../../libDaisy/src/util/FIFO.h **** 
 124:../../libDaisy/src/util/FIFO.h ****     /** returns a reference to the first element */
 125:../../libDaisy/src/util/FIFO.h ****     const T& Front() const
 126:../../libDaisy/src/util/FIFO.h ****     {
 127:../../libDaisy/src/util/FIFO.h ****         if(IsEmpty())
 128:../../libDaisy/src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
 129:../../libDaisy/src/util/FIFO.h ****             return buffer_[0];
 130:../../libDaisy/src/util/FIFO.h ****         return buffer_[bufferOut_];
 131:../../libDaisy/src/util/FIFO.h ****     }
 132:../../libDaisy/src/util/FIFO.h **** 
 133:../../libDaisy/src/util/FIFO.h ****     /** Returns true if the buffer contains an element equal to the provided value */
 134:../../libDaisy/src/util/FIFO.h ****     bool Contains(const T& element)
 135:../../libDaisy/src/util/FIFO.h ****     {
 136:../../libDaisy/src/util/FIFO.h ****         auto idx = bufferOut_;
 137:../../libDaisy/src/util/FIFO.h ****         while(idx != bufferIn_)
 138:../../libDaisy/src/util/FIFO.h ****         {
 139:../../libDaisy/src/util/FIFO.h ****             if(buffer_[idx] == element)
 140:../../libDaisy/src/util/FIFO.h ****                 return true;
 141:../../libDaisy/src/util/FIFO.h ****             idx++;
 142:../../libDaisy/src/util/FIFO.h ****             if(idx >= bufferSize_)
 143:../../libDaisy/src/util/FIFO.h ****                 idx -= bufferSize_;
 144:../../libDaisy/src/util/FIFO.h ****         }
 145:../../libDaisy/src/util/FIFO.h ****         return false;
 146:../../libDaisy/src/util/FIFO.h ****     }
 147:../../libDaisy/src/util/FIFO.h **** 
 148:../../libDaisy/src/util/FIFO.h ****     /** Returns the number of elements in the buffer that are equal to the provided value */
 149:../../libDaisy/src/util/FIFO.h ****     size_t CountEqualTo(const T& element)
 150:../../libDaisy/src/util/FIFO.h ****     {
 151:../../libDaisy/src/util/FIFO.h ****         size_t result = 0;
 152:../../libDaisy/src/util/FIFO.h ****         size_t idx    = bufferOut_;
 153:../../libDaisy/src/util/FIFO.h ****         while(idx != bufferIn_)
 154:../../libDaisy/src/util/FIFO.h ****         {
 155:../../libDaisy/src/util/FIFO.h ****             if(buffer_[idx] == element)
 156:../../libDaisy/src/util/FIFO.h ****                 result++;
 157:../../libDaisy/src/util/FIFO.h ****             idx++;
 158:../../libDaisy/src/util/FIFO.h ****             if(idx >= bufferSize_)
 159:../../libDaisy/src/util/FIFO.h ****                 idx -= bufferSize_;
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 15


 160:../../libDaisy/src/util/FIFO.h ****         }
 161:../../libDaisy/src/util/FIFO.h ****         return result;
 162:../../libDaisy/src/util/FIFO.h ****     }
 163:../../libDaisy/src/util/FIFO.h **** 
 164:../../libDaisy/src/util/FIFO.h ****     /** returns true, if the buffer is empty */
 165:../../libDaisy/src/util/FIFO.h ****     bool IsEmpty() const { return bufferIn_ == bufferOut_; }
 166:../../libDaisy/src/util/FIFO.h **** 
 167:../../libDaisy/src/util/FIFO.h ****     /** returns true, if the buffer is Full */
 168:../../libDaisy/src/util/FIFO.h ****     bool IsFull() const { return GetNumElements() == bufferSize_ - 1; }
 169:../../libDaisy/src/util/FIFO.h **** 
 170:../../libDaisy/src/util/FIFO.h ****     /** returns the number of elements in the buffer */
 171:../../libDaisy/src/util/FIFO.h ****     size_t GetNumElements() const
 172:../../libDaisy/src/util/FIFO.h ****     {
 173:../../libDaisy/src/util/FIFO.h ****         int32_t numElements = bufferIn_ - bufferOut_;
 174:../../libDaisy/src/util/FIFO.h ****         if(numElements < 0)
 175:../../libDaisy/src/util/FIFO.h ****             numElements += bufferSize_;
 176:../../libDaisy/src/util/FIFO.h ****         return size_t(numElements);
 177:../../libDaisy/src/util/FIFO.h ****     }
 178:../../libDaisy/src/util/FIFO.h **** 
 179:../../libDaisy/src/util/FIFO.h ****     /** inserts an element "idx" positions behind the first element and returns true if successful 
 180:../../libDaisy/src/util/FIFO.h ****     bool Insert(size_t idx, const T& element)
 181:../../libDaisy/src/util/FIFO.h ****     {
 182:../../libDaisy/src/util/FIFO.h ****         if(idx > GetNumElements())
 183:../../libDaisy/src/util/FIFO.h ****             return false;
 184:../../libDaisy/src/util/FIFO.h ****         if(IsFull())
 185:../../libDaisy/src/util/FIFO.h ****             return false;
 186:../../libDaisy/src/util/FIFO.h ****         if(idx == GetNumElements())
 187:../../libDaisy/src/util/FIFO.h ****         {
 188:../../libDaisy/src/util/FIFO.h ****             PushBack(element);
 189:../../libDaisy/src/util/FIFO.h ****             return true;
 190:../../libDaisy/src/util/FIFO.h ****         }
 191:../../libDaisy/src/util/FIFO.h ****         // copy last element
 192:../../libDaisy/src/util/FIFO.h ****         PushBack(Back());
 193:../../libDaisy/src/util/FIFO.h ****         // move remaining elements: n => n+1
 194:../../libDaisy/src/util/FIFO.h ****         for(int i = GetNumElements() - 2; i > int(idx); i--)
 195:../../libDaisy/src/util/FIFO.h ****             (*this)[i] = (*this)[i - 1];
 196:../../libDaisy/src/util/FIFO.h ****         // insert element
 197:../../libDaisy/src/util/FIFO.h ****         (*this)[idx] = element;
 198:../../libDaisy/src/util/FIFO.h ****         return true;
 199:../../libDaisy/src/util/FIFO.h ****     }
 200:../../libDaisy/src/util/FIFO.h **** 
 201:../../libDaisy/src/util/FIFO.h ****     /** removes the element "idx" positions behind the first element
 202:../../libDaisy/src/util/FIFO.h ****      *  and returns true if successful */
 203:../../libDaisy/src/util/FIFO.h ****     bool Remove(size_t idx)
 204:../../libDaisy/src/util/FIFO.h ****     {
 205:../../libDaisy/src/util/FIFO.h ****         if(idx >= GetNumElements())
 206:../../libDaisy/src/util/FIFO.h ****             return false;
 207:../../libDaisy/src/util/FIFO.h **** 
 208:../../libDaisy/src/util/FIFO.h ****         size_t index = bufferOut_ + idx;
 209:../../libDaisy/src/util/FIFO.h ****         if(index >= bufferSize_)
 210:../../libDaisy/src/util/FIFO.h ****             index -= bufferSize_;
 211:../../libDaisy/src/util/FIFO.h ****         size_t nextIndex = index + 1;
 212:../../libDaisy/src/util/FIFO.h ****         if(nextIndex >= bufferSize_)
 213:../../libDaisy/src/util/FIFO.h ****             nextIndex -= bufferSize_;
 214:../../libDaisy/src/util/FIFO.h **** 
 215:../../libDaisy/src/util/FIFO.h ****         while(nextIndex != bufferIn_)
 216:../../libDaisy/src/util/FIFO.h ****         {
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 16


 217:../../libDaisy/src/util/FIFO.h ****             buffer_[index] = buffer_[nextIndex];
 218:../../libDaisy/src/util/FIFO.h ****             index++;
 219:../../libDaisy/src/util/FIFO.h ****             nextIndex++;
 220:../../libDaisy/src/util/FIFO.h ****             if(index >= bufferSize_)
 221:../../libDaisy/src/util/FIFO.h ****                 index -= bufferSize_;
 222:../../libDaisy/src/util/FIFO.h ****             if(nextIndex >= bufferSize_)
 223:../../libDaisy/src/util/FIFO.h ****                 nextIndex -= bufferSize_;
 224:../../libDaisy/src/util/FIFO.h ****         }
 225:../../libDaisy/src/util/FIFO.h **** 
 226:../../libDaisy/src/util/FIFO.h ****         int32_t nextBufferIn = int32_t(bufferIn_) - 1;
 227:../../libDaisy/src/util/FIFO.h ****         if(nextBufferIn < 0)
 228:../../libDaisy/src/util/FIFO.h ****             nextBufferIn += bufferSize_;
 229:../../libDaisy/src/util/FIFO.h ****         bufferIn_ = size_t(nextBufferIn);
 230:../../libDaisy/src/util/FIFO.h **** 
 231:../../libDaisy/src/util/FIFO.h ****         return true;
 232:../../libDaisy/src/util/FIFO.h ****     }
 233:../../libDaisy/src/util/FIFO.h **** 
 234:../../libDaisy/src/util/FIFO.h ****     /** removes all elements from the buffer for which
 235:../../libDaisy/src/util/FIFO.h ****         (buffer(index) == element) returns true and returns the number of
 236:../../libDaisy/src/util/FIFO.h ****         elements that were removed. */
 237:../../libDaisy/src/util/FIFO.h ****     size_t RemoveAllEqualTo(const T& element)
 238:../../libDaisy/src/util/FIFO.h ****     {
 239:../../libDaisy/src/util/FIFO.h ****         size_t numRemoved = 0;
 240:../../libDaisy/src/util/FIFO.h ****         int    idx        = GetNumElements() - 1;
 241:../../libDaisy/src/util/FIFO.h ****         while(idx >= 0)
 242:../../libDaisy/src/util/FIFO.h ****         {
 243:../../libDaisy/src/util/FIFO.h ****             if((*this)[idx] == element)
 244:../../libDaisy/src/util/FIFO.h ****             {
 245:../../libDaisy/src/util/FIFO.h ****                 numRemoved++;
 246:../../libDaisy/src/util/FIFO.h ****                 Remove(idx);
 247:../../libDaisy/src/util/FIFO.h ****                 // was that the last element?
 248:../../libDaisy/src/util/FIFO.h ****                 if(idx == int(GetNumElements()) - 1)
 249:../../libDaisy/src/util/FIFO.h ****                     idx--;
 250:../../libDaisy/src/util/FIFO.h ****             }
 251:../../libDaisy/src/util/FIFO.h ****             else
 252:../../libDaisy/src/util/FIFO.h ****                 idx--;
 253:../../libDaisy/src/util/FIFO.h ****         }
 254:../../libDaisy/src/util/FIFO.h ****         return numRemoved;
 255:../../libDaisy/src/util/FIFO.h ****     }
 256:../../libDaisy/src/util/FIFO.h **** 
 257:../../libDaisy/src/util/FIFO.h ****     /** returns the element "idx" positions behind the first element */
 258:../../libDaisy/src/util/FIFO.h ****     T& operator[](size_t idx)
 259:../../libDaisy/src/util/FIFO.h ****     {
 260:../../libDaisy/src/util/FIFO.h ****         if(idx >= GetNumElements())
 261:../../libDaisy/src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
 262:../../libDaisy/src/util/FIFO.h ****             return buffer_[0];
 263:../../libDaisy/src/util/FIFO.h **** 
 264:../../libDaisy/src/util/FIFO.h ****         size_t index = bufferOut_ + idx;
 265:../../libDaisy/src/util/FIFO.h ****         if(index >= bufferSize_)
 266:../../libDaisy/src/util/FIFO.h ****             index -= bufferSize_;
 267:../../libDaisy/src/util/FIFO.h ****         return buffer_[index];
 268:../../libDaisy/src/util/FIFO.h ****     }
 269:../../libDaisy/src/util/FIFO.h **** 
 270:../../libDaisy/src/util/FIFO.h ****     /** returns the element "idx" positions behind the first element */
 271:../../libDaisy/src/util/FIFO.h ****     const T& operator[](size_t idx) const
 272:../../libDaisy/src/util/FIFO.h ****     {
 273:../../libDaisy/src/util/FIFO.h ****         if(idx >= GetNumElements())
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 17


 274:../../libDaisy/src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
 275:../../libDaisy/src/util/FIFO.h ****             return buffer_[0];
 276:../../libDaisy/src/util/FIFO.h **** 
 277:../../libDaisy/src/util/FIFO.h ****         size_t index = bufferOut_ + idx;
 278:../../libDaisy/src/util/FIFO.h ****         if(index >= bufferSize_)
 279:../../libDaisy/src/util/FIFO.h ****             index -= bufferSize_;
 280:../../libDaisy/src/util/FIFO.h ****         return buffer_[index];
 281:../../libDaisy/src/util/FIFO.h ****     }
 282:../../libDaisy/src/util/FIFO.h **** 
 283:../../libDaisy/src/util/FIFO.h ****     /** returns the total capacity */
 284:../../libDaisy/src/util/FIFO.h ****     size_t GetCapacity() const { return bufferSize_ - 1; }
 285:../../libDaisy/src/util/FIFO.h **** 
 286:../../libDaisy/src/util/FIFO.h ****   private:
 287:../../libDaisy/src/util/FIFO.h ****     FIFOBase(const FIFOBase<T>&) {} // non copyable
 288:../../libDaisy/src/util/FIFO.h **** 
 289:../../libDaisy/src/util/FIFO.h ****   private:
 290:../../libDaisy/src/util/FIFO.h ****     T*           buffer_;
 291:../../libDaisy/src/util/FIFO.h ****     const size_t bufferSize_;
 292:../../libDaisy/src/util/FIFO.h ****     size_t       bufferIn_;
 293:../../libDaisy/src/util/FIFO.h ****     size_t       bufferOut_;
 294:../../libDaisy/src/util/FIFO.h **** };
 295:../../libDaisy/src/util/FIFO.h **** 
 296:../../libDaisy/src/util/FIFO.h **** /** A simple FIFO ring buffer with a fixed size. */
 297:../../libDaisy/src/util/FIFO.h **** template <typename T, size_t capacity>
 298:../../libDaisy/src/util/FIFO.h **** class FIFO : public FIFOBase<T>
 108              		.loc 8 298 7 is_stmt 1 view -0
 109              		.cfi_startproc
 110              		@ args = 0, pretend = 0, frame = 0
 111              		@ frame_needed = 0, uses_anonymous_args = 0
 112              		@ link register save eliminated.
 113              	.LBB360:
 114              	.LBI360:
  42:../../libDaisy/src/util/FIFO.h **** 
 115              		.loc 8 42 5 view .LVU15
  42:../../libDaisy/src/util/FIFO.h **** 
 116              		.loc 8 42 5 is_stmt 0 view .LVU16
 117              	.LBE360:
 118              		.loc 8 298 7 view .LVU17
 119 0000 7047     		bx	lr
 120              		.cfi_endproc
 121              	.LFE5521:
 123              		.weak	_ZN5daisy4FIFOINS_9MidiEventELj128EED1Ev
 124              		.thumb_set _ZN5daisy4FIFOINS_9MidiEventELj128EED1Ev,_ZN5daisy4FIFOINS_9MidiEventELj128EED2Ev
 125 0002 00BF     		.section	.text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev,"axG",%progbits,_ZN5daisy11MidiH
 126              		.align	1
 127              		.p2align 2,,3
 128              		.weak	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev
 129              		.syntax unified
 130              		.thumb
 131              		.thumb_func
 132              		.fpu fpv5-d16
 134              	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev:
 135              	.LVL3:
 136              	.LFB5524:
 137              		.file 9 "../../libDaisy/src/hid/midi.h"
   1:../../libDaisy/src/hid/midi.h **** #pragma once
   2:../../libDaisy/src/hid/midi.h **** #ifndef DSY_MIDI_H
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 18


   3:../../libDaisy/src/hid/midi.h **** #define DSY_MIDI_H
   4:../../libDaisy/src/hid/midi.h **** 
   5:../../libDaisy/src/hid/midi.h **** #include <stdint.h>
   6:../../libDaisy/src/hid/midi.h **** #include <stdlib.h>
   7:../../libDaisy/src/hid/midi.h **** #include <algorithm>
   8:../../libDaisy/src/hid/midi.h **** #include "per/uart.h"
   9:../../libDaisy/src/hid/midi.h **** #include "util/ringbuffer.h"
  10:../../libDaisy/src/hid/midi.h **** #include "util/FIFO.h"
  11:../../libDaisy/src/hid/midi.h **** #include "hid/midi_parser.h"
  12:../../libDaisy/src/hid/midi.h **** #include "hid/usb_midi.h"
  13:../../libDaisy/src/hid/midi.h **** #include "sys/dma.h"
  14:../../libDaisy/src/hid/midi.h **** #include "sys/system.h"
  15:../../libDaisy/src/hid/midi.h **** 
  16:../../libDaisy/src/hid/midi.h **** namespace daisy
  17:../../libDaisy/src/hid/midi.h **** {
  18:../../libDaisy/src/hid/midi.h **** /** @brief   Transport layer for sending and receiving MIDI data over UART
  19:../../libDaisy/src/hid/midi.h ****  *  @details This is the mode of communication used for TRS and DIN MIDI
  20:../../libDaisy/src/hid/midi.h ****  *           There is an additional 2kB of RAM data used within this class
  21:../../libDaisy/src/hid/midi.h ****  *           for processing bulk data from the UART peripheral
  22:../../libDaisy/src/hid/midi.h ****  *  @ingroup midi
  23:../../libDaisy/src/hid/midi.h **** */
  24:../../libDaisy/src/hid/midi.h **** class MidiUartTransport
  25:../../libDaisy/src/hid/midi.h **** {
  26:../../libDaisy/src/hid/midi.h ****   public:
  27:../../libDaisy/src/hid/midi.h ****     typedef void (*MidiRxParseCallback)(uint8_t* data,
  28:../../libDaisy/src/hid/midi.h ****                                         size_t   size,
  29:../../libDaisy/src/hid/midi.h ****                                         void*    context);
  30:../../libDaisy/src/hid/midi.h **** 
  31:../../libDaisy/src/hid/midi.h ****     MidiUartTransport() {}
  32:../../libDaisy/src/hid/midi.h ****     ~MidiUartTransport() {}
  33:../../libDaisy/src/hid/midi.h **** 
  34:../../libDaisy/src/hid/midi.h ****     /** @brief Configuration structure for UART MIDI */
  35:../../libDaisy/src/hid/midi.h ****     struct Config
  36:../../libDaisy/src/hid/midi.h ****     {
  37:../../libDaisy/src/hid/midi.h ****         UartHandler::Config::Peripheral periph;
  38:../../libDaisy/src/hid/midi.h ****         Pin                             rx;
  39:../../libDaisy/src/hid/midi.h ****         Pin                             tx;
  40:../../libDaisy/src/hid/midi.h **** 
  41:../../libDaisy/src/hid/midi.h ****         /** Pointer to buffer for DMA UART rx byte transfer in background.
  42:../../libDaisy/src/hid/midi.h ****          *
  43:../../libDaisy/src/hid/midi.h ****          *  @details By default this uses a shared buffer in DMA_BUFFER_MEM_SECTION,
  44:../../libDaisy/src/hid/midi.h ****          *           which can only be utilized for a single UART peripheral. To
  45:../../libDaisy/src/hid/midi.h ****          *           use MIDI with multiple UART peripherals, you must provide your own
  46:../../libDaisy/src/hid/midi.h ****          *           buffer, allocated to a DMA-capable memory section.
  47:../../libDaisy/src/hid/midi.h ****          */
  48:../../libDaisy/src/hid/midi.h ****         uint8_t* rx_buffer;
  49:../../libDaisy/src/hid/midi.h **** 
  50:../../libDaisy/src/hid/midi.h ****         /** Size in bytes of rx_buffer.
  51:../../libDaisy/src/hid/midi.h ****          *
  52:../../libDaisy/src/hid/midi.h ****          *  @details This size determines the maximum Rx bytes readable by the UART in the backgrou
  53:../../libDaisy/src/hid/midi.h ****          *           By default it's set to the size of the default shared rx_buffer (256 bytes).
  54:../../libDaisy/src/hid/midi.h ****          *           While much smaller sizes can be used, data can get missed if the buffer is too
  55:../../libDaisy/src/hid/midi.h ****          */
  56:../../libDaisy/src/hid/midi.h ****         size_t rx_buffer_size;
  57:../../libDaisy/src/hid/midi.h **** 
  58:../../libDaisy/src/hid/midi.h ****         Config();
  59:../../libDaisy/src/hid/midi.h ****     };
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 19


  60:../../libDaisy/src/hid/midi.h **** 
  61:../../libDaisy/src/hid/midi.h ****     /** @brief Initialization of UART using config struct */
  62:../../libDaisy/src/hid/midi.h ****     inline void Init(Config config)
  63:../../libDaisy/src/hid/midi.h ****     {
  64:../../libDaisy/src/hid/midi.h ****         UartHandler::Config uart_config;
  65:../../libDaisy/src/hid/midi.h **** 
  66:../../libDaisy/src/hid/midi.h ****         //defaults
  67:../../libDaisy/src/hid/midi.h ****         uart_config.baudrate   = 31250;
  68:../../libDaisy/src/hid/midi.h ****         uart_config.stopbits   = UartHandler::Config::StopBits::BITS_1;
  69:../../libDaisy/src/hid/midi.h ****         uart_config.parity     = UartHandler::Config::Parity::NONE;
  70:../../libDaisy/src/hid/midi.h ****         uart_config.mode       = UartHandler::Config::Mode::TX_RX;
  71:../../libDaisy/src/hid/midi.h ****         uart_config.wordlength = UartHandler::Config::WordLength::BITS_8;
  72:../../libDaisy/src/hid/midi.h **** 
  73:../../libDaisy/src/hid/midi.h ****         //user settings
  74:../../libDaisy/src/hid/midi.h ****         uart_config.periph        = config.periph;
  75:../../libDaisy/src/hid/midi.h ****         uart_config.pin_config.rx = config.rx;
  76:../../libDaisy/src/hid/midi.h ****         uart_config.pin_config.tx = config.tx;
  77:../../libDaisy/src/hid/midi.h **** 
  78:../../libDaisy/src/hid/midi.h ****         rx_buffer      = config.rx_buffer;
  79:../../libDaisy/src/hid/midi.h ****         rx_buffer_size = config.rx_buffer_size;
  80:../../libDaisy/src/hid/midi.h **** 
  81:../../libDaisy/src/hid/midi.h ****         /** zero the buffer to ensure emptiness regardless of source memory */
  82:../../libDaisy/src/hid/midi.h ****         std::fill(rx_buffer, rx_buffer + rx_buffer_size, 0);
  83:../../libDaisy/src/hid/midi.h **** 
  84:../../libDaisy/src/hid/midi.h ****         uart_.Init(uart_config);
  85:../../libDaisy/src/hid/midi.h ****     }
  86:../../libDaisy/src/hid/midi.h **** 
  87:../../libDaisy/src/hid/midi.h ****     /** @brief Start the UART peripheral in listening mode.
  88:../../libDaisy/src/hid/midi.h ****      *  This will fill an internal data structure in the background */
  89:../../libDaisy/src/hid/midi.h ****     inline void StartRx(MidiRxParseCallback parse_callback, void* context)
  90:../../libDaisy/src/hid/midi.h ****     {
  91:../../libDaisy/src/hid/midi.h ****         parse_context_  = context;
  92:../../libDaisy/src/hid/midi.h ****         parse_callback_ = parse_callback;
  93:../../libDaisy/src/hid/midi.h ****         dsy_dma_clear_cache_for_buffer((uint8_t*)this,
  94:../../libDaisy/src/hid/midi.h ****                                        sizeof(MidiUartTransport));
  95:../../libDaisy/src/hid/midi.h ****         uart_.DmaListenStart(
  96:../../libDaisy/src/hid/midi.h ****             rx_buffer, rx_buffer_size, MidiUartTransport::rxCallback, this);
  97:../../libDaisy/src/hid/midi.h ****     }
  98:../../libDaisy/src/hid/midi.h **** 
  99:../../libDaisy/src/hid/midi.h ****     /** @brief returns whether the UART peripheral is actively listening in the background or not *
 100:../../libDaisy/src/hid/midi.h ****     inline bool RxActive() { return uart_.IsListening(); }
 101:../../libDaisy/src/hid/midi.h **** 
 102:../../libDaisy/src/hid/midi.h ****     /** @brief This is a no-op for UART transport - Rx is via DMA callback with circular buffer */
 103:../../libDaisy/src/hid/midi.h ****     inline void FlushRx() {}
 104:../../libDaisy/src/hid/midi.h **** 
 105:../../libDaisy/src/hid/midi.h ****     /** @brief sends the buffer of bytes out of the UART peripheral */
 106:../../libDaisy/src/hid/midi.h ****     inline void Tx(uint8_t* buff, size_t size) { uart_.PollTx(buff, size); }
 107:../../libDaisy/src/hid/midi.h **** 
 108:../../libDaisy/src/hid/midi.h ****   private:
 109:../../libDaisy/src/hid/midi.h ****     UartHandler         uart_;
 110:../../libDaisy/src/hid/midi.h ****     uint8_t*            rx_buffer;
 111:../../libDaisy/src/hid/midi.h ****     size_t              rx_buffer_size;
 112:../../libDaisy/src/hid/midi.h ****     void*               parse_context_;
 113:../../libDaisy/src/hid/midi.h ****     MidiRxParseCallback parse_callback_;
 114:../../libDaisy/src/hid/midi.h **** 
 115:../../libDaisy/src/hid/midi.h ****     /** Static callback for Uart MIDI that occurs when
 116:../../libDaisy/src/hid/midi.h ****          *  new data is available from the peripheral.
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 20


 117:../../libDaisy/src/hid/midi.h ****          *  The new data is transferred from the peripheral to the
 118:../../libDaisy/src/hid/midi.h ****          *  MIDI instance's byte FIFO that feeds the MIDI parser.
 119:../../libDaisy/src/hid/midi.h ****          *
 120:../../libDaisy/src/hid/midi.h ****          *  TODO: Handle UartHandler errors better/at all.
 121:../../libDaisy/src/hid/midi.h ****          *  (If there is a UART error, there's not really any recovery
 122:../../libDaisy/src/hid/midi.h ****          *  option at the moment)
 123:../../libDaisy/src/hid/midi.h ****          */
 124:../../libDaisy/src/hid/midi.h ****     static void rxCallback(uint8_t*            data,
 125:../../libDaisy/src/hid/midi.h ****                            size_t              size,
 126:../../libDaisy/src/hid/midi.h ****                            void*               context,
 127:../../libDaisy/src/hid/midi.h ****                            UartHandler::Result res)
 128:../../libDaisy/src/hid/midi.h ****     {
 129:../../libDaisy/src/hid/midi.h ****         /** Read context as transport type */
 130:../../libDaisy/src/hid/midi.h ****         MidiUartTransport* transport
 131:../../libDaisy/src/hid/midi.h ****             = reinterpret_cast<MidiUartTransport*>(context);
 132:../../libDaisy/src/hid/midi.h ****         if(res == UartHandler::Result::OK)
 133:../../libDaisy/src/hid/midi.h ****         {
 134:../../libDaisy/src/hid/midi.h ****             if(transport->parse_callback_)
 135:../../libDaisy/src/hid/midi.h ****             {
 136:../../libDaisy/src/hid/midi.h ****                 transport->parse_callback_(
 137:../../libDaisy/src/hid/midi.h ****                     data, size, transport->parse_context_);
 138:../../libDaisy/src/hid/midi.h ****             }
 139:../../libDaisy/src/hid/midi.h ****         }
 140:../../libDaisy/src/hid/midi.h ****     }
 141:../../libDaisy/src/hid/midi.h **** };
 142:../../libDaisy/src/hid/midi.h **** 
 143:../../libDaisy/src/hid/midi.h **** /**
 144:../../libDaisy/src/hid/midi.h ****     @brief Simple MIDI Handler \n
 145:../../libDaisy/src/hid/midi.h ****     Parses bytes from an input into valid MidiEvents. \n
 146:../../libDaisy/src/hid/midi.h ****     The MidiEvents fill a FIFO queue that the user can pop messages from.
 147:../../libDaisy/src/hid/midi.h ****     @author shensley
 148:../../libDaisy/src/hid/midi.h ****     @date March 2020
 149:../../libDaisy/src/hid/midi.h ****     @ingroup midi
 150:../../libDaisy/src/hid/midi.h **** */
 151:../../libDaisy/src/hid/midi.h **** template <typename Transport>
 152:../../libDaisy/src/hid/midi.h **** class MidiHandler
 153:../../libDaisy/src/hid/midi.h **** {
 154:../../libDaisy/src/hid/midi.h ****   public:
 155:../../libDaisy/src/hid/midi.h ****     MidiHandler() {}
 156:../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 138              		.loc 9 156 5 is_stmt 1 view -0
 139              		.cfi_startproc
 140              		@ args = 0, pretend = 0, frame = 0
 141              		@ frame_needed = 0, uses_anonymous_args = 0
 142              		@ link register save eliminated.
 143              	.LBB361:
 144              	.LBI361:
 145              		.loc 8 298 7 view .LVU19
 146              	.LBB362:
 147              	.LBI362:
  42:../../libDaisy/src/util/FIFO.h **** 
 148              		.loc 8 42 5 view .LVU20
  42:../../libDaisy/src/util/FIFO.h **** 
 149              		.loc 8 42 5 is_stmt 0 view .LVU21
 150              	.LBE362:
 151              	.LBE361:
 152              	.LBB363:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 21


 153              	.LBI363:
 154              		.file 10 "../../libDaisy/src/hid/midi_parser.h"
   1:../../libDaisy/src/hid/midi_parser.h **** #pragma once
   2:../../libDaisy/src/hid/midi_parser.h **** #ifndef DSY_MIDI_PARSER_H
   3:../../libDaisy/src/hid/midi_parser.h **** #define DSY_MIDI_PARSER_H
   4:../../libDaisy/src/hid/midi_parser.h **** 
   5:../../libDaisy/src/hid/midi_parser.h **** #include <stdint.h>
   6:../../libDaisy/src/hid/midi_parser.h **** #include <stdlib.h>
   7:../../libDaisy/src/hid/midi_parser.h **** #include "hid/MidiEvent.h"
   8:../../libDaisy/src/hid/midi_parser.h **** 
   9:../../libDaisy/src/hid/midi_parser.h **** namespace daisy
  10:../../libDaisy/src/hid/midi_parser.h **** {
  11:../../libDaisy/src/hid/midi_parser.h **** /** @brief   Utility class for parsing raw byte streams into MIDI messages
  12:../../libDaisy/src/hid/midi_parser.h ****  *  @details Implemented as a state machine designed to parse one byte at a time
  13:../../libDaisy/src/hid/midi_parser.h ****  *  @ingroup midi
  14:../../libDaisy/src/hid/midi_parser.h ****  */
  15:../../libDaisy/src/hid/midi_parser.h **** class MidiParser
  16:../../libDaisy/src/hid/midi_parser.h **** {
  17:../../libDaisy/src/hid/midi_parser.h ****   public:
  18:../../libDaisy/src/hid/midi_parser.h ****     MidiParser(){};
  19:../../libDaisy/src/hid/midi_parser.h ****     ~MidiParser() {}
 155              		.loc 10 19 5 is_stmt 1 view .LVU22
 156              		.loc 10 19 5 is_stmt 0 view .LVU23
 157              	.LBE363:
 158              	.LBB364:
 159              	.LBI364:
 160              		.file 11 "../../libDaisy/src/hid/usb_midi.h"
   1:../../libDaisy/src/hid/usb_midi.h **** #pragma once
   2:../../libDaisy/src/hid/usb_midi.h **** #ifndef __DSY_MIDIUSBTRANSPORT_H__
   3:../../libDaisy/src/hid/usb_midi.h **** #define __DSY_MIDIUSBTRANSPORT_H__
   4:../../libDaisy/src/hid/usb_midi.h **** 
   5:../../libDaisy/src/hid/usb_midi.h **** #include "hid/usb.h"
   6:../../libDaisy/src/hid/usb_midi.h **** #include "sys/system.h"
   7:../../libDaisy/src/hid/usb_midi.h **** #include "util/ringbuffer.h"
   8:../../libDaisy/src/hid/usb_midi.h **** 
   9:../../libDaisy/src/hid/usb_midi.h **** namespace daisy
  10:../../libDaisy/src/hid/usb_midi.h **** {
  11:../../libDaisy/src/hid/usb_midi.h **** /** @brief USB Transport for MIDI
  12:../../libDaisy/src/hid/usb_midi.h ****  *  @ingroup midi
  13:../../libDaisy/src/hid/usb_midi.h ****  */
  14:../../libDaisy/src/hid/usb_midi.h **** class MidiUsbTransport
  15:../../libDaisy/src/hid/usb_midi.h **** {
  16:../../libDaisy/src/hid/usb_midi.h ****   public:
  17:../../libDaisy/src/hid/usb_midi.h ****     typedef void (*MidiRxParseCallback)(uint8_t* data,
  18:../../libDaisy/src/hid/usb_midi.h ****                                         size_t   size,
  19:../../libDaisy/src/hid/usb_midi.h ****                                         void*    context);
  20:../../libDaisy/src/hid/usb_midi.h **** 
  21:../../libDaisy/src/hid/usb_midi.h ****     struct Config
  22:../../libDaisy/src/hid/usb_midi.h ****     {
  23:../../libDaisy/src/hid/usb_midi.h ****         enum Periph
  24:../../libDaisy/src/hid/usb_midi.h ****         {
  25:../../libDaisy/src/hid/usb_midi.h ****             INTERNAL = 0,
  26:../../libDaisy/src/hid/usb_midi.h ****             EXTERNAL,
  27:../../libDaisy/src/hid/usb_midi.h ****             HOST
  28:../../libDaisy/src/hid/usb_midi.h ****         };
  29:../../libDaisy/src/hid/usb_midi.h **** 
  30:../../libDaisy/src/hid/usb_midi.h ****         Periph periph;
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 22


  31:../../libDaisy/src/hid/usb_midi.h **** 
  32:../../libDaisy/src/hid/usb_midi.h ****         /**
  33:../../libDaisy/src/hid/usb_midi.h ****          * When sending MIDI messages immediately back-to-back in user code,
  34:../../libDaisy/src/hid/usb_midi.h ****          * sometimes the USB CDC driver is still "busy".
  35:../../libDaisy/src/hid/usb_midi.h ****          *
  36:../../libDaisy/src/hid/usb_midi.h ****          * This option configures the number of times to retry a Tx after
  37:../../libDaisy/src/hid/usb_midi.h ****          * delaying for 100 microseconds (default = 3 retries).
  38:../../libDaisy/src/hid/usb_midi.h ****          *
  39:../../libDaisy/src/hid/usb_midi.h ****          * If you set this to zero, Tx will not retry so the attempt will block
  40:../../libDaisy/src/hid/usb_midi.h ****          * for slightly less time, but transmit can fail if the Tx state is busy.
  41:../../libDaisy/src/hid/usb_midi.h ****          */
  42:../../libDaisy/src/hid/usb_midi.h ****         uint8_t tx_retry_count;
  43:../../libDaisy/src/hid/usb_midi.h **** 
  44:../../libDaisy/src/hid/usb_midi.h ****         Config() : periph(INTERNAL), tx_retry_count(3) {}
  45:../../libDaisy/src/hid/usb_midi.h ****     };
  46:../../libDaisy/src/hid/usb_midi.h **** 
  47:../../libDaisy/src/hid/usb_midi.h ****     void Init(Config config);
  48:../../libDaisy/src/hid/usb_midi.h **** 
  49:../../libDaisy/src/hid/usb_midi.h ****     void StartRx(MidiRxParseCallback callback, void* context);
  50:../../libDaisy/src/hid/usb_midi.h ****     bool RxActive();
  51:../../libDaisy/src/hid/usb_midi.h ****     void FlushRx();
  52:../../libDaisy/src/hid/usb_midi.h ****     void Tx(uint8_t* buffer, size_t size);
  53:../../libDaisy/src/hid/usb_midi.h **** 
  54:../../libDaisy/src/hid/usb_midi.h ****     class Impl;
  55:../../libDaisy/src/hid/usb_midi.h **** 
  56:../../libDaisy/src/hid/usb_midi.h ****     MidiUsbTransport() : pimpl_(nullptr) {}
  57:../../libDaisy/src/hid/usb_midi.h ****     ~MidiUsbTransport() {}
 161              		.loc 11 57 5 is_stmt 1 view .LVU24
 162              		.loc 11 57 5 is_stmt 0 view .LVU25
 163              	.LBE364:
 164              		.loc 9 156 21 view .LVU26
 165 0000 7047     		bx	lr
 166              		.cfi_endproc
 167              	.LFE5524:
 169              		.weak	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED1Ev
 170              		.thumb_set _ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED1Ev,_ZN5daisy11MidiHandlerINS_16MidiUsbT
 171 0002 00BF     		.section	.text._Z16USBH_ClassActivePv,"ax",%progbits
 172              		.align	1
 173              		.p2align 2,,3
 174              		.global	_Z16USBH_ClassActivePv
 175              		.syntax unified
 176              		.thumb
 177              		.thumb_func
 178              		.fpu fpv5-d16
 180              	_Z16USBH_ClassActivePv:
 181              	.LVL4:
 182              	.LFB4910:
 158:SYNTHMACHINE.cpp **** 
 159:SYNTHMACHINE.cpp **** void USBH_Disconnect(void* data)
 160:SYNTHMACHINE.cpp **** {
 161:SYNTHMACHINE.cpp ****     //hw.PrintLine("device disconnected");
 162:SYNTHMACHINE.cpp **** }
 163:SYNTHMACHINE.cpp **** 
 164:SYNTHMACHINE.cpp **** void USBH_ClassActive(void* data)
 165:SYNTHMACHINE.cpp **** {
 183              		.loc 7 165 1 is_stmt 1 view -0
 184              		.cfi_startproc
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 23


 185              		@ args = 0, pretend = 0, frame = 0
 186              		@ frame_needed = 0, uses_anonymous_args = 0
 166:SYNTHMACHINE.cpp ****     if(usbHost.IsActiveClass(USBH_MIDI_CLASS))
 187              		.loc 7 166 5 view .LVU28
 165:SYNTHMACHINE.cpp ****     if(usbHost.IsActiveClass(USBH_MIDI_CLASS))
 188              		.loc 7 165 1 is_stmt 0 view .LVU29
 189 0000 10B5     		push	{r4, lr}
 190              		.cfi_def_cfa_offset 8
 191              		.cfi_offset 4, -8
 192              		.cfi_offset 14, -4
 193              	.LBB383:
 194              		.loc 7 166 29 view .LVU30
 195 0002 0D49     		ldr	r1, .L10
 196 0004 0D48     		ldr	r0, .L10+4
 197              	.LVL5:
 198              		.loc 7 166 29 view .LVU31
 199 0006 FFF7FEFF 		bl	_ZN5daisy13USBHostHandle13IsActiveClassEP17USBH_ClassTypeDef
 200              	.LVL6:
 201              		.loc 7 166 5 view .LVU32
 202 000a 00B9     		cbnz	r0, .L9
 203              	.LBE383:
 167:SYNTHMACHINE.cpp ****     {
 168:SYNTHMACHINE.cpp ****         //hw.PrintLine("MIDI device class active");
 169:SYNTHMACHINE.cpp ****         MidiUsbHandler::Config midi_config;
 170:SYNTHMACHINE.cpp ****         midi_config.transport_config.periph = MidiUsbTransport::Config::Periph::HOST;
 171:SYNTHMACHINE.cpp ****         midi.Init(midi_config);
 172:SYNTHMACHINE.cpp ****         midi.StartReceive();
 173:SYNTHMACHINE.cpp ****     }
 174:SYNTHMACHINE.cpp **** }
 204              		.loc 7 174 1 view .LVU33
 205 000c 10BD     		pop	{r4, pc}
 206              	.L9:
 207              	.LBB384:
 208              	.LBI384:
 164:SYNTHMACHINE.cpp **** {
 209              		.loc 7 164 6 is_stmt 1 view .LVU34
 210              	.LVL7:
 211              	.LBB385:
 212              	.LBB386:
 169:SYNTHMACHINE.cpp ****         midi_config.transport_config.periph = MidiUsbTransport::Config::Periph::HOST;
 213              		.loc 7 169 9 view .LVU35
 214              	.LBB387:
 215              	.LBI387:
 157:../../libDaisy/src/hid/midi.h **** 
 158:../../libDaisy/src/hid/midi.h ****     struct Config
 216              		.loc 9 158 12 view .LVU36
 217              	.LBB388:
 218              	.LBI388:
  44:../../libDaisy/src/hid/usb_midi.h ****     };
 219              		.loc 11 44 9 view .LVU37
  44:../../libDaisy/src/hid/usb_midi.h ****     };
 220              		.loc 11 44 9 is_stmt 0 view .LVU38
 221              	.LBE388:
 222              	.LBE387:
 170:SYNTHMACHINE.cpp ****         midi.Init(midi_config);
 223              		.loc 7 170 9 is_stmt 1 view .LVU39
 171:SYNTHMACHINE.cpp ****         midi.StartReceive();
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 24


 224              		.loc 7 171 9 view .LVU40
 225              	.LBB389:
 226              	.LBI389:
 159:../../libDaisy/src/hid/midi.h ****     {
 160:../../libDaisy/src/hid/midi.h ****         typename Transport::Config transport_config;
 161:../../libDaisy/src/hid/midi.h ****     };
 162:../../libDaisy/src/hid/midi.h **** 
 163:../../libDaisy/src/hid/midi.h ****     /** Initializes the MidiHandler
 164:../../libDaisy/src/hid/midi.h ****      *  \param config Configuration structure used to define specifics to the MIDI Handler.
 165:../../libDaisy/src/hid/midi.h ****      */
 166:../../libDaisy/src/hid/midi.h ****     void Init(Config config)
 227              		.loc 9 166 10 view .LVU41
 228              	.LBB390:
 167:../../libDaisy/src/hid/midi.h ****     {
 168:../../libDaisy/src/hid/midi.h ****         config_ = config;
 229              		.loc 9 168 9 is_stmt 0 view .LVU42
 230 000e 0C4C     		ldr	r4, .L10+8
 231 0010 40F20233 		movw	r3, #770
 169:../../libDaisy/src/hid/midi.h ****         transport_.Init(config_.transport_config);
 232              		.loc 9 169 24 view .LVU43
 233 0014 2046     		mov	r0, r4
 168:../../libDaisy/src/hid/midi.h ****         transport_.Init(config_.transport_config);
 234              		.loc 9 168 9 view .LVU44
 235 0016 2380     		strh	r3, [r4]	@ movhi
 236              		.loc 9 169 24 view .LVU45
 237 0018 50F8041B 		ldr	r1, [r0], #4
 238 001c FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport4InitENS0_6ConfigE
 239              	.LVL8:
 240              	.LBB391:
 241              	.LBI391:
  20:../../libDaisy/src/hid/midi_parser.h **** 
  21:../../libDaisy/src/hid/midi_parser.h ****     inline void Init() { Reset(); }
 242              		.loc 10 21 17 is_stmt 1 view .LVU46
 243              	.LBB392:
 244              		.loc 10 21 26 view .LVU47
 245              		.loc 10 21 31 is_stmt 0 view .LVU48
 246 0020 04F10800 		add	r0, r4, #8
 247 0024 FFF7FEFF 		bl	_ZN5daisy10MidiParser5ResetEv
 248              	.LVL9:
 249              		.loc 10 21 31 view .LVU49
 250              	.LBE392:
 251              	.LBE391:
 252              	.LBE390:
 253              	.LBE389:
 172:SYNTHMACHINE.cpp ****     }
 254              		.loc 7 172 9 is_stmt 1 view .LVU50
 255              	.LBB393:
 256              	.LBI393:
 170:../../libDaisy/src/hid/midi.h ****         parser_.Init();
 171:../../libDaisy/src/hid/midi.h ****     }
 172:../../libDaisy/src/hid/midi.h **** 
 173:../../libDaisy/src/hid/midi.h ****     /** Starts listening on the selected input mode(s).
 174:../../libDaisy/src/hid/midi.h ****      * MidiEvent Queue will begin to fill, and can be checked with HasEvents() */
 175:../../libDaisy/src/hid/midi.h ****     void StartReceive()
 257              		.loc 9 175 10 view .LVU51
 258              	.LBB394:
 176:../../libDaisy/src/hid/midi.h ****     {
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 25


 177:../../libDaisy/src/hid/midi.h ****         transport_.StartRx(MidiHandler::ParseCallback, this);
 259              		.loc 9 177 27 is_stmt 0 view .LVU52
 260 0028 2246     		mov	r2, r4
 261 002a 201D     		adds	r0, r4, #4
 262 002c 0549     		ldr	r1, .L10+12
 263              	.LBE394:
 264              	.LBE393:
 265              	.LBE386:
 266              	.LBE385:
 267              	.LBE384:
 268              		.loc 7 174 1 view .LVU53
 269 002e BDE81040 		pop	{r4, lr}
 270              		.cfi_restore 14
 271              		.cfi_restore 4
 272              		.cfi_def_cfa_offset 0
 273              	.LBB399:
 274              	.LBB398:
 275              	.LBB397:
 276              	.LBB396:
 277              	.LBB395:
 278              		.loc 9 177 27 view .LVU54
 279 0032 FFF7FEBF 		b	_ZN5daisy16MidiUsbTransport7StartRxEPFvPhjPvES2_
 280              	.LVL10:
 281              	.L11:
 282 0036 00BF     		.align	2
 283              	.L10:
 284 0038 00000000 		.word	USBH_midi
 285 003c 00000000 		.word	.LANCHOR0
 286 0040 00000000 		.word	midi
 287 0044 00000000 		.word	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE13ParseCallbackEPhjPv
 288              	.LBE395:
 289              	.LBE396:
 290              	.LBE397:
 291              	.LBE398:
 292              	.LBE399:
 293              		.cfi_endproc
 294              	.LFE4910:
 296              		.section	.text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE13ParseCallbackEPhjPv,"axG",%progbits
 297              		.align	1
 298              		.p2align 2,,3
 299              		.weak	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE13ParseCallbackEPhjPv
 300              		.syntax unified
 301              		.thumb
 302              		.thumb_func
 303              		.fpu fpv5-d16
 305              	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE13ParseCallbackEPhjPv:
 306              	.LVL11:
 307              	.LFB5370:
 178:../../libDaisy/src/hid/midi.h ****     }
 179:../../libDaisy/src/hid/midi.h **** 
 180:../../libDaisy/src/hid/midi.h ****     /** Start listening */
 181:../../libDaisy/src/hid/midi.h ****     void Listen()
 182:../../libDaisy/src/hid/midi.h ****     {
 183:../../libDaisy/src/hid/midi.h ****         // In case of UART Error, (particularly
 184:../../libDaisy/src/hid/midi.h ****         //  overrun error), UART disables itself.
 185:../../libDaisy/src/hid/midi.h ****         // Flush the buff, and restart.
 186:../../libDaisy/src/hid/midi.h ****         if(!transport_.RxActive())
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 26


 187:../../libDaisy/src/hid/midi.h ****         {
 188:../../libDaisy/src/hid/midi.h ****             parser_.Reset();
 189:../../libDaisy/src/hid/midi.h ****             transport_.FlushRx();
 190:../../libDaisy/src/hid/midi.h ****             StartReceive();
 191:../../libDaisy/src/hid/midi.h ****         }
 192:../../libDaisy/src/hid/midi.h ****     }
 193:../../libDaisy/src/hid/midi.h **** 
 194:../../libDaisy/src/hid/midi.h ****     /** Checks if there are unhandled messages in the queue
 195:../../libDaisy/src/hid/midi.h ****     \return True if there are events to be handled, else false.
 196:../../libDaisy/src/hid/midi.h ****      */
 197:../../libDaisy/src/hid/midi.h ****     bool HasEvents() const { return event_q_.GetNumElements() > 0; }
 198:../../libDaisy/src/hid/midi.h **** 
 199:../../libDaisy/src/hid/midi.h ****     bool RxActive() { return transport_.RxActive(); }
 200:../../libDaisy/src/hid/midi.h **** 
 201:../../libDaisy/src/hid/midi.h ****     /** Pops the oldest unhandled MidiEvent from the internal queue
 202:../../libDaisy/src/hid/midi.h ****     \return The event to be handled
 203:../../libDaisy/src/hid/midi.h ****      */
 204:../../libDaisy/src/hid/midi.h ****     MidiEvent PopEvent() { return event_q_.PopFront(); }
 205:../../libDaisy/src/hid/midi.h **** 
 206:../../libDaisy/src/hid/midi.h ****     /** SendMessage
 207:../../libDaisy/src/hid/midi.h ****     Send raw bytes as message
 208:../../libDaisy/src/hid/midi.h ****     */
 209:../../libDaisy/src/hid/midi.h ****     void SendMessage(uint8_t* bytes, size_t size)
 210:../../libDaisy/src/hid/midi.h ****     {
 211:../../libDaisy/src/hid/midi.h ****         transport_.Tx(bytes, size);
 212:../../libDaisy/src/hid/midi.h ****     }
 213:../../libDaisy/src/hid/midi.h **** 
 214:../../libDaisy/src/hid/midi.h ****     /** Feed in bytes to parser state machine from an external source.
 215:../../libDaisy/src/hid/midi.h ****         Populates internal FIFO queue with MIDI Messages.
 216:../../libDaisy/src/hid/midi.h **** 
 217:../../libDaisy/src/hid/midi.h ****         \note  Normally application code won't need to use this method directly.
 218:../../libDaisy/src/hid/midi.h ****         \param byte MIDI byte to be parsed
 219:../../libDaisy/src/hid/midi.h ****     */
 220:../../libDaisy/src/hid/midi.h ****     void Parse(uint8_t byte)
 221:../../libDaisy/src/hid/midi.h ****     {
 222:../../libDaisy/src/hid/midi.h ****         MidiEvent event;
 223:../../libDaisy/src/hid/midi.h ****         if(parser_.Parse(byte, &event))
 224:../../libDaisy/src/hid/midi.h ****         {
 225:../../libDaisy/src/hid/midi.h ****             event_q_.PushBack(event);
 226:../../libDaisy/src/hid/midi.h ****         }
 227:../../libDaisy/src/hid/midi.h ****     }
 228:../../libDaisy/src/hid/midi.h **** 
 229:../../libDaisy/src/hid/midi.h ****   private:
 230:../../libDaisy/src/hid/midi.h ****     Config               config_;
 231:../../libDaisy/src/hid/midi.h ****     Transport            transport_;
 232:../../libDaisy/src/hid/midi.h ****     MidiParser           parser_;
 233:../../libDaisy/src/hid/midi.h ****     FIFO<MidiEvent, 256> event_q_;
 234:../../libDaisy/src/hid/midi.h **** 
 235:../../libDaisy/src/hid/midi.h ****     static void ParseCallback(uint8_t* data, size_t size, void* context)
 308              		.loc 9 235 17 is_stmt 1 view -0
 309              		.cfi_startproc
 310              		@ args = 0, pretend = 0, frame = 144
 311              		@ frame_needed = 0, uses_anonymous_args = 0
 312              	.LBB409:
 236:../../libDaisy/src/hid/midi.h ****     {
 237:../../libDaisy/src/hid/midi.h ****         MidiHandler* handler = reinterpret_cast<MidiHandler*>(context);
 238:../../libDaisy/src/hid/midi.h ****         for(size_t i = 0; i < size; i++)
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 27


 313              		.loc 9 238 29 view .LVU56
 314 0000 B9B3     		cbz	r1, .L22
 315 0002 0144     		add	r1, r1, r0
 316              	.LVL12:
 317              		.loc 9 238 29 is_stmt 0 view .LVU57
 318              	.LBE409:
 235:../../libDaisy/src/hid/midi.h ****     {
 319              		.loc 9 235 17 view .LVU58
 320 0004 F0B5     		push	{r4, r5, r6, r7, lr}
 321              		.cfi_def_cfa_offset 20
 322              		.cfi_offset 4, -20
 323              		.cfi_offset 5, -16
 324              		.cfi_offset 6, -12
 325              		.cfi_offset 7, -8
 326              		.cfi_offset 14, -4
 327 0006 1546     		mov	r5, r2
 328 0008 A5B0     		sub	sp, sp, #148
 329              		.cfi_def_cfa_offset 168
 330              	.LBB428:
 331              	.LBB410:
 332              	.LBB411:
 223:../../libDaisy/src/hid/midi.h ****         {
 333              		.loc 9 223 25 view .LVU59
 334 000a 02F10807 		add	r7, r2, #8
 335 000e 441E     		subs	r4, r0, #1
 336 0010 4E1E     		subs	r6, r1, #1
 337 0012 01E0     		b	.L20
 338              	.LVL13:
 339              	.L15:
 223:../../libDaisy/src/hid/midi.h ****         {
 340              		.loc 9 223 25 view .LVU60
 341              	.LBE411:
 342              	.LBE410:
 343              		.loc 9 238 9 is_stmt 1 view .LVU61
 344              		.loc 9 238 29 view .LVU62
 345 0014 A642     		cmp	r6, r4
 346 0016 2AD0     		beq	.L25
 347              	.LVL14:
 348              	.L20:
 349              	.LBB427:
 350              	.LBI410:
 220:../../libDaisy/src/hid/midi.h ****     {
 351              		.loc 9 220 10 discriminator 2 view .LVU63
 352              	.LBB426:
 223:../../libDaisy/src/hid/midi.h ****         {
 353              		.loc 9 223 25 is_stmt 0 discriminator 2 view .LVU64
 354 0018 14F8011F 		ldrb	r1, [r4, #1]!	@ zero_extendqisi2
 355              	.LVL15:
 223:../../libDaisy/src/hid/midi.h ****         {
 356              		.loc 9 223 25 discriminator 2 view .LVU65
 357 001c 6A46     		mov	r2, sp
 358 001e 3846     		mov	r0, r7
 359 0020 FFF7FEFF 		bl	_ZN5daisy10MidiParser5ParseEhPNS_9MidiEventE
 360              	.LVL16:
 223:../../libDaisy/src/hid/midi.h ****         {
 361              		.loc 9 223 9 discriminator 2 view .LVU66
 362 0024 0028     		cmp	r0, #0
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 28


 363 0026 F5D0     		beq	.L15
 364              	.LVL17:
 365              	.LBB412:
 366              	.LBI412:
  49:../../libDaisy/src/util/FIFO.h ****     {
 367              		.loc 8 49 10 is_stmt 1 view .LVU67
 368              	.LBB413:
 369              	.LBB414:
 370              	.LBI414:
 168:../../libDaisy/src/util/FIFO.h **** 
 371              		.loc 8 168 10 view .LVU68
 372              	.LBB415:
 373              	.LBB416:
 374              	.LBI416:
 171:../../libDaisy/src/util/FIFO.h ****     {
 375              		.loc 8 171 12 view .LVU69
 376              	.LBB417:
 175:../../libDaisy/src/util/FIFO.h ****         return size_t(numElements);
 377              		.loc 8 175 28 is_stmt 0 view .LVU70
 378 0028 D5F8A8C0 		ldr	ip, [r5, #168]
 379              	.LBE417:
 380              	.LBE416:
 381              	.LBE415:
 382              	.LBE414:
  53:../../libDaisy/src/util/FIFO.h ****             if(bufferIn_ >= bufferSize_)
 383              		.loc 8 53 13 view .LVU71
 384 002c 9022     		movs	r2, #144
 385 002e 6946     		mov	r1, sp
 386              	.LBB424:
 387              	.LBB422:
 388              	.LBB420:
 389              	.LBB418:
 173:../../libDaisy/src/util/FIFO.h ****         if(numElements < 0)
 390              		.loc 8 173 41 view .LVU72
 391 0030 D5E92B03 		ldrd	r0, r3, [r5, #172]
 392              	.LVL18:
 174:../../libDaisy/src/util/FIFO.h ****             numElements += bufferSize_;
 393              		.loc 8 174 9 view .LVU73
 394 0034 C31A     		subs	r3, r0, r3
 395              	.LVL19:
 174:../../libDaisy/src/util/FIFO.h ****             numElements += bufferSize_;
 396              		.loc 8 174 9 view .LVU74
 397              	.LBE418:
 398              	.LBE420:
 399              	.LBE422:
 400              	.LBE424:
  53:../../libDaisy/src/util/FIFO.h ****             if(bufferIn_ >= bufferSize_)
 401              		.loc 8 53 13 view .LVU75
 402 0036 00F1010E 		add	lr, r0, #1
 403 003a 00EBC000 		add	r0, r0, r0, lsl #3
 404              	.LBB425:
 405              	.LBB423:
 406              	.LBB421:
 407              	.LBB419:
 175:../../libDaisy/src/util/FIFO.h ****         return size_t(numElements);
 408              		.loc 8 175 25 view .LVU76
 409 003e 48BF     		it	mi
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 29


 410 0040 6344     		addmi	r3, r3, ip
 411              	.LVL20:
 175:../../libDaisy/src/util/FIFO.h ****         return size_t(numElements);
 412              		.loc 8 175 25 view .LVU77
 413              	.LBE419:
 414              	.LBE421:
 168:../../libDaisy/src/util/FIFO.h **** 
 415              		.loc 8 168 66 view .LVU78
 416 0042 0CF1FF3C 		add	ip, ip, #-1
 417              	.LBE423:
 418              	.LBE425:
  51:../../libDaisy/src/util/FIFO.h ****         {
 419              		.loc 8 51 9 view .LVU79
 420 0046 9C45     		cmp	ip, r3
 421 0048 E4D0     		beq	.L15
  53:../../libDaisy/src/util/FIFO.h ****             if(bufferIn_ >= bufferSize_)
 422              		.loc 8 53 13 view .LVU80
 423 004a D5F8A430 		ldr	r3, [r5, #164]
 424 004e C5F8ACE0 		str	lr, [r5, #172]
 425 0052 03EB0010 		add	r0, r3, r0, lsl #4
 426 0056 FFF7FEFF 		bl	memcpy
 427              	.LVL21:
  54:../../libDaisy/src/util/FIFO.h ****                 bufferIn_ -= bufferSize_;
 428              		.loc 8 54 29 view .LVU81
 429 005a D5E92A23 		ldrd	r2, r3, [r5, #168]
  54:../../libDaisy/src/util/FIFO.h ****                 bufferIn_ -= bufferSize_;
 430              		.loc 8 54 13 view .LVU82
 431 005e 9342     		cmp	r3, r2
  55:../../libDaisy/src/util/FIFO.h ****             return true;
 432              		.loc 8 55 27 view .LVU83
 433 0060 A3EB0203 		sub	r3, r3, r2
 434 0064 28BF     		it	cs
 435 0066 C5F8AC30 		strcs	r3, [r5, #172]
 436              	.LVL22:
  55:../../libDaisy/src/util/FIFO.h ****             return true;
 437              		.loc 8 55 27 view .LVU84
 438              	.LBE413:
 439              	.LBE412:
 440              	.LBE426:
 441              	.LBE427:
 442              		.loc 9 238 9 is_stmt 1 view .LVU85
 443              		.loc 9 238 29 view .LVU86
 444 006a A642     		cmp	r6, r4
 445 006c D4D1     		bne	.L20
 446              	.LVL23:
 447              	.L25:
 448              		.loc 9 238 29 is_stmt 0 view .LVU87
 449              	.LBE428:
 239:../../libDaisy/src/hid/midi.h ****         {
 240:../../libDaisy/src/hid/midi.h ****             handler->Parse(data[i]);
 241:../../libDaisy/src/hid/midi.h ****         }
 242:../../libDaisy/src/hid/midi.h ****     }
 450              		.loc 9 242 5 view .LVU88
 451 006e 25B0     		add	sp, sp, #148
 452              		.cfi_def_cfa_offset 20
 453              		@ sp needed
 454 0070 F0BD     		pop	{r4, r5, r6, r7, pc}
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 30


 455              	.LVL24:
 456              	.L22:
 457              		.cfi_def_cfa_offset 0
 458              		.cfi_restore 4
 459              		.cfi_restore 5
 460              		.cfi_restore 6
 461              		.cfi_restore 7
 462              		.cfi_restore 14
 463              		.loc 9 242 5 view .LVU89
 464 0072 7047     		bx	lr
 465              		.cfi_endproc
 466              	.LFE5370:
 468              		.section	.text._Z15USBH_DisconnectPv,"ax",%progbits
 469              		.align	1
 470              		.p2align 2,,3
 471              		.global	_Z15USBH_DisconnectPv
 472              		.syntax unified
 473              		.thumb
 474              		.thumb_func
 475              		.fpu fpv5-d16
 477              	_Z15USBH_DisconnectPv:
 478              	.LFB5530:
 479              		.cfi_startproc
 480              		@ args = 0, pretend = 0, frame = 0
 481              		@ frame_needed = 0, uses_anonymous_args = 0
 482              		@ link register save eliminated.
 483 0000 7047     		bx	lr
 484              		.cfi_endproc
 485              	.LFE5530:
 487 0002 00BF     		.section	.text._Z10USBH_ErrorPv,"ax",%progbits
 488              		.align	1
 489              		.p2align 2,,3
 490              		.global	_Z10USBH_ErrorPv
 491              		.syntax unified
 492              		.thumb
 493              		.thumb_func
 494              		.fpu fpv5-d16
 496              	_Z10USBH_ErrorPv:
 497              	.LFB5532:
 498              		.cfi_startproc
 499              		@ args = 0, pretend = 0, frame = 0
 500              		@ frame_needed = 0, uses_anonymous_args = 0
 501              		@ link register save eliminated.
 502 0000 7047     		bx	lr
 503              		.cfi_endproc
 504              	.LFE5532:
 506 0002 00BF     		.section	.text._Z37DAC_I2C_GENERATE_MULTI_CHANNEL_PARAMShhhh,"ax",%progbits
 507              		.align	1
 508              		.p2align 2,,3
 509              		.global	_Z37DAC_I2C_GENERATE_MULTI_CHANNEL_PARAMShhhh
 510              		.syntax unified
 511              		.thumb
 512              		.thumb_func
 513              		.fpu fpv5-d16
 515              	_Z37DAC_I2C_GENERATE_MULTI_CHANNEL_PARAMShhhh:
 516              	.LVL25:
 517              	.LFB4915:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 31


 175:SYNTHMACHINE.cpp **** 
 176:SYNTHMACHINE.cpp **** void USBH_Error(void* data)
 177:SYNTHMACHINE.cpp **** {
 178:SYNTHMACHINE.cpp ****     //hw.PrintLine("USB device error");
 179:SYNTHMACHINE.cpp **** }
 180:SYNTHMACHINE.cpp **** 
 181:SYNTHMACHINE.cpp **** uint8_t DAC_I2C_GENERATE_MULTI_CHANNEL_PARAMS(uint8_t VREF, uint8_t PD1, uint8_t PD0, uint8_t Gx){
 518              		.loc 7 181 98 is_stmt 1 view -0
 519              		.cfi_startproc
 520              		@ args = 0, pretend = 0, frame = 0
 521              		@ frame_needed = 0, uses_anonymous_args = 0
 522              		@ link register save eliminated.
 182:SYNTHMACHINE.cpp ****     //generates channel top bits for multi-write, see SET VREF and SET GAIN and MULTI_WRITE, PD1 an
 183:SYNTHMACHINE.cpp ****     uint8_t top_bits = ((VREF << 7) | (PD1 << 6) | (PD0 << 5) | (Gx << 4));
 523              		.loc 7 183 5 view .LVU91
 184:SYNTHMACHINE.cpp ****     return top_bits;
 524              		.loc 7 184 5 view .LVU92
 183:SYNTHMACHINE.cpp ****     return top_bits;
 525              		.loc 7 183 69 is_stmt 0 view .LVU93
 526 0000 1B01     		lsls	r3, r3, #4
 527              	.LVL26:
 183:SYNTHMACHINE.cpp ****     return top_bits;
 528              		.loc 7 183 63 view .LVU94
 529 0002 43EA4213 		orr	r3, r3, r2, lsl #5
 530 0006 43EA8113 		orr	r3, r3, r1, lsl #6
 531 000a 43EAC010 		orr	r0, r3, r0, lsl #7
 532              	.LVL27:
 185:SYNTHMACHINE.cpp **** }
 533              		.loc 7 185 1 view .LVU95
 534 000e 00F0F000 		and	r0, r0, #240
 535 0012 7047     		bx	lr
 536              		.cfi_endproc
 537              	.LFE4915:
 539              		.section	.text._Z19DAC_I2C_MULTI_WRITEhPhPtS_hN5daisy9I2CHandleE,"ax",%progbits
 540              		.align	1
 541              		.p2align 2,,3
 542              		.global	_Z19DAC_I2C_MULTI_WRITEhPhPtS_hN5daisy9I2CHandleE
 543              		.syntax unified
 544              		.thumb
 545              		.thumb_func
 546              		.fpu fpv5-d16
 548              	_Z19DAC_I2C_MULTI_WRITEhPhPtS_hN5daisy9I2CHandleE:
 549              	.LVL28:
 550              	.LFB4916:
 186:SYNTHMACHINE.cpp **** 
 187:SYNTHMACHINE.cpp **** void DAC_I2C_MULTI_WRITE(uint8_t DAC_Address, uint8_t* DAC_top_bits, uint16_t* channels, uint8_t* o
 551              		.loc 7 187 143 is_stmt 1 view -0
 552              		.cfi_startproc
 553              		@ args = 8, pretend = 0, frame = 0
 554              		@ frame_needed = 0, uses_anonymous_args = 0
 555              		.loc 7 187 143 is_stmt 0 view .LVU97
 556 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 557              		.cfi_def_cfa_offset 24
 558              		.cfi_offset 4, -24
 559              		.cfi_offset 5, -20
 560              		.cfi_offset 6, -16
 561              		.cfi_offset 7, -12
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 32


 562              		.cfi_offset 8, -8
 563              		.cfi_offset 14, -4
 564 0004 1646     		mov	r6, r2
 565 0006 82B0     		sub	sp, sp, #8
 566              		.cfi_def_cfa_offset 32
 567              		.loc 7 187 143 view .LVU98
 568 0008 1A46     		mov	r2, r3
 569              	.LVL29:
 188:SYNTHMACHINE.cpp ****     //writes all DACS at once, channels stores output values, DAC_top_bits stores per-channel vref,
 189:SYNTHMACHINE.cpp ****     for (uint8_t i = 0; i < 4; i++){
 570              		.loc 7 189 5 is_stmt 1 view .LVU99
 571              	.LBB429:
 572              		.loc 7 189 27 view .LVU100
 573 000a 1C46     		mov	r4, r3
 574              	.LBE429:
 187:SYNTHMACHINE.cpp ****     //writes all DACS at once, channels stores output values, DAC_top_bits stores per-channel vref,
 575              		.loc 7 187 143 is_stmt 0 view .LVU101
 576 000c B446     		mov	ip, r6
 577 000e 9DF82070 		ldrb	r7, [sp, #32]	@ zero_extendqisi2
 578 0012 4D1E     		subs	r5, r1, #1
 579 0014 0836     		adds	r6, r6, #8
 580              	.LVL30:
 187:SYNTHMACHINE.cpp ****     //writes all DACS at once, channels stores output values, DAC_top_bits stores per-channel vref,
 581              		.loc 7 187 143 view .LVU102
 582 0016 CCF1FE03 		rsb	r3, ip, #254
 583              	.LVL31:
 584              	.L31:
 585              	.LBB430:
 190:SYNTHMACHINE.cpp ****         if (channels[i] > 0xFFF){
 586              		.loc 7 190 9 is_stmt 1 view .LVU103
 191:SYNTHMACHINE.cpp ****             channels[i] = 0xFFF;
 587              		.loc 7 191 13 view .LVU104
 192:SYNTHMACHINE.cpp ****         }
 193:SYNTHMACHINE.cpp ****         output_buffer[3*i] = static_cast<uint8_t>(0x40 | (i << 1) | UDAC);
 588              		.loc 7 193 9 view .LVU105
 190:SYNTHMACHINE.cpp ****             channels[i] = 0xFFF;
 589              		.loc 7 190 23 is_stmt 0 view .LVU106
 590 001a 3CF8021B 		ldrh	r1, [ip], #2
 189:SYNTHMACHINE.cpp ****         if (channels[i] > 0xFFF){
 591              		.loc 7 189 27 view .LVU107
 592 001e 0334     		adds	r4, r4, #3
 191:SYNTHMACHINE.cpp ****         }
 593              		.loc 7 191 25 view .LVU108
 594 0020 40F6FF78 		movw	r8, #4095
 595              		.loc 7 193 67 view .LVU109
 596 0024 03EB0C0E 		add	lr, r3, ip
 190:SYNTHMACHINE.cpp ****             channels[i] = 0xFFF;
 597              		.loc 7 190 9 view .LVU110
 598 0028 B1F5805F 		cmp	r1, #4096
 599              		.loc 7 193 67 view .LVU111
 600 002c 47EA0E0E 		orr	lr, r7, lr
 191:SYNTHMACHINE.cpp ****         }
 601              		.loc 7 191 25 view .LVU112
 602 0030 28BF     		it	cs
 603 0032 2CF8028C 		strhcs	r8, [ip, #-2]	@ movhi
 189:SYNTHMACHINE.cpp ****         if (channels[i] > 0xFFF){
 604              		.loc 7 189 27 view .LVU113
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 33


 605 0036 B445     		cmp	ip, r6
 606              		.loc 7 193 67 view .LVU114
 607 0038 4EF0400E 		orr	lr, lr, #64
 608              		.loc 7 193 28 view .LVU115
 609 003c 04F803EC 		strb	lr, [r4, #-3]
 194:SYNTHMACHINE.cpp ****         output_buffer[3*i+1] = static_cast<uint8_t>(DAC_top_bits[i] | channels[i] >> 8);
 610              		.loc 7 194 9 is_stmt 1 view .LVU116
 611              		.loc 7 194 83 is_stmt 0 view .LVU117
 612 0040 3CF8021C 		ldrh	r1, [ip, #-2]
 613              		.loc 7 194 69 view .LVU118
 614 0044 15F801EF 		ldrb	lr, [r5, #1]!	@ zero_extendqisi2
 615              	.LVL32:
 616              		.loc 7 194 69 view .LVU119
 617 0048 4EEA112E 		orr	lr, lr, r1, lsr #8
 618              		.loc 7 194 30 view .LVU120
 619 004c 04F802EC 		strb	lr, [r4, #-2]
 195:SYNTHMACHINE.cpp ****         output_buffer[3*i + 2] = static_cast<uint8_t>(channels[i] & 0xFF);
 620              		.loc 7 195 9 is_stmt 1 view .LVU121
 621              		.loc 7 195 32 is_stmt 0 view .LVU122
 622 0050 3CF802EC 		ldrh	lr, [ip, #-2]
 623 0054 04F801EC 		strb	lr, [r4, #-1]
 189:SYNTHMACHINE.cpp ****         if (channels[i] > 0xFFF){
 624              		.loc 7 189 5 is_stmt 1 view .LVU123
 625              	.LVL33:
 189:SYNTHMACHINE.cpp ****         if (channels[i] > 0xFFF){
 626              		.loc 7 189 27 view .LVU124
 627 0058 DFD1     		bne	.L31
 628              	.LBE430:
 196:SYNTHMACHINE.cpp ****     }
 197:SYNTHMACHINE.cpp **** 
 198:SYNTHMACHINE.cpp ****     I2CHandle::Result Multi_Write_Result = I2C.TransmitDma(DAC_Address, &output_buffer[0], 12, NULL
 629              		.loc 7 198 5 view .LVU125
 630              		.loc 7 198 59 is_stmt 0 view .LVU126
 631 005a 0024     		movs	r4, #0
 632 005c 0146     		mov	r1, r0
 633 005e 0C23     		movs	r3, #12
 634 0060 09A8     		add	r0, sp, #36
 635              	.LVL34:
 636              		.loc 7 198 59 view .LVU127
 637 0062 CDE90044 		strd	r4, r4, [sp]
 638 0066 FFF7FEFF 		bl	_ZN5daisy9I2CHandle11TransmitDmaEtPhtPFvPvNS0_6ResultEES2_
 639              	.LVL35:
 199:SYNTHMACHINE.cpp ****     if(Multi_Write_Result == I2CHandle::Result::OK) {
 640              		.loc 7 199 5 is_stmt 1 view .LVU128
 200:SYNTHMACHINE.cpp ****         //hw.PrintLine("OK TRANSMISSION Multi Write");
 201:SYNTHMACHINE.cpp ****     }
 202:SYNTHMACHINE.cpp **** }
 641              		.loc 7 202 1 is_stmt 0 view .LVU129
 642 006a 02B0     		add	sp, sp, #8
 643              		.cfi_def_cfa_offset 24
 644              		@ sp needed
 645 006c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 646              		.loc 7 202 1 view .LVU130
 647              		.cfi_endproc
 648              	.LFE4916:
 650              		.section	.text._Z16DAC_I2C_SET_VREFhhhhhPhN5daisy9I2CHandleE,"ax",%progbits
 651              		.align	1
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 34


 652              		.p2align 2,,3
 653              		.global	_Z16DAC_I2C_SET_VREFhhhhhPhN5daisy9I2CHandleE
 654              		.syntax unified
 655              		.thumb
 656              		.thumb_func
 657              		.fpu fpv5-d16
 659              	_Z16DAC_I2C_SET_VREFhhhhhPhN5daisy9I2CHandleE:
 660              	.LVL36:
 661              	.LFB4917:
 203:SYNTHMACHINE.cpp **** 
 204:SYNTHMACHINE.cpp **** void DAC_I2C_SET_VREF(uint8_t DAC_Address, uint8_t V_A, uint8_t V_B, uint8_t V_C, uint8_t V_D, uint
 662              		.loc 7 204 134 is_stmt 1 view -0
 663              		.cfi_startproc
 664              		@ args = 12, pretend = 0, frame = 0
 665              		@ frame_needed = 0, uses_anonymous_args = 0
 205:SYNTHMACHINE.cpp ****     //sets reference voltage for each channel, use at startup only, 0 = VDD, 1 = Internal Reference
 206:SYNTHMACHINE.cpp ****     output_buffer[0] = (0x80 | (V_A << 3) | (V_B << 2) | (V_C << 1) | V_D); // command (4bits) Vref
 666              		.loc 7 206 5 view .LVU132
 204:SYNTHMACHINE.cpp ****     //sets reference voltage for each channel, use at startup only, 0 = VDD, 1 = Internal Reference
 667              		.loc 7 204 134 is_stmt 0 view .LVU133
 668 0000 10B5     		push	{r4, lr}
 669              		.cfi_def_cfa_offset 8
 670              		.cfi_offset 4, -8
 671              		.cfi_offset 14, -4
 672 0002 82B0     		sub	sp, sp, #8
 673              		.cfi_def_cfa_offset 16
 207:SYNTHMACHINE.cpp ****     I2CHandle::Result Vref_Write_Result = I2C.TransmitDma(DAC_Address, &output_buffer[0], 1, NULL, 
 674              		.loc 7 207 58 view .LVU134
 675 0004 0024     		movs	r4, #0
 204:SYNTHMACHINE.cpp ****     //sets reference voltage for each channel, use at startup only, 0 = VDD, 1 = Internal Reference
 676              		.loc 7 204 134 view .LVU135
 677 0006 9DF810E0 		ldrb	lr, [sp, #16]	@ zero_extendqisi2
 206:SYNTHMACHINE.cpp ****     I2CHandle::Result Vref_Write_Result = I2C.TransmitDma(DAC_Address, &output_buffer[0], 1, NULL, 
 678              		.loc 7 206 69 view .LVU136
 679 000a 4EEAC10C 		orr	ip, lr, r1, lsl #3
 680              		.loc 7 207 58 view .LVU137
 681 000e 0146     		mov	r1, r0
 682              	.LVL37:
 683              		.loc 7 207 58 view .LVU138
 684 0010 06A8     		add	r0, sp, #24
 685              	.LVL38:
 206:SYNTHMACHINE.cpp ****     I2CHandle::Result Vref_Write_Result = I2C.TransmitDma(DAC_Address, &output_buffer[0], 1, NULL, 
 686              		.loc 7 206 69 view .LVU139
 687 0012 4CEA430E 		orr	lr, ip, r3, lsl #1
 688              		.loc 7 207 58 view .LVU140
 689 0016 0123     		movs	r3, #1
 690              	.LVL39:
 206:SYNTHMACHINE.cpp ****     I2CHandle::Result Vref_Write_Result = I2C.TransmitDma(DAC_Address, &output_buffer[0], 1, NULL, 
 691              		.loc 7 206 69 view .LVU141
 692 0018 4EEA8202 		orr	r2, lr, r2, lsl #2
 693              	.LVL40:
 206:SYNTHMACHINE.cpp ****     I2CHandle::Result Vref_Write_Result = I2C.TransmitDma(DAC_Address, &output_buffer[0], 1, NULL, 
 694              		.loc 7 206 69 view .LVU142
 695 001c 62F07F0C 		orn	ip, r2, #127
 204:SYNTHMACHINE.cpp ****     //sets reference voltage for each channel, use at startup only, 0 = VDD, 1 = Internal Reference
 696              		.loc 7 204 134 view .LVU143
 697 0020 059A     		ldr	r2, [sp, #20]
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 35


 698              		.loc 7 207 58 view .LVU144
 699 0022 CDE90044 		strd	r4, r4, [sp]
 206:SYNTHMACHINE.cpp ****     I2CHandle::Result Vref_Write_Result = I2C.TransmitDma(DAC_Address, &output_buffer[0], 1, NULL, 
 700              		.loc 7 206 22 view .LVU145
 701 0026 82F800C0 		strb	ip, [r2]
 702              		.loc 7 207 5 is_stmt 1 view .LVU146
 703              		.loc 7 207 58 is_stmt 0 view .LVU147
 704 002a FFF7FEFF 		bl	_ZN5daisy9I2CHandle11TransmitDmaEtPhtPFvPvNS0_6ResultEES2_
 705              	.LVL41:
 208:SYNTHMACHINE.cpp ****     if(Vref_Write_Result == I2CHandle::Result::OK) {
 706              		.loc 7 208 5 is_stmt 1 view .LVU148
 209:SYNTHMACHINE.cpp ****         //hw.PrintLine("OK TRANSMISSION VREF Write");
 210:SYNTHMACHINE.cpp ****     }
 211:SYNTHMACHINE.cpp **** }
 707              		.loc 7 211 1 is_stmt 0 view .LVU149
 708 002e 02B0     		add	sp, sp, #8
 709              		.cfi_def_cfa_offset 8
 710              		@ sp needed
 711 0030 10BD     		pop	{r4, pc}
 712              		.loc 7 211 1 view .LVU150
 713              		.cfi_endproc
 714              	.LFE4917:
 716 0032 00BF     		.section	.text._Z16DAC_I2C_SET_GAINhhhhhPhN5daisy9I2CHandleE,"ax",%progbits
 717              		.align	1
 718              		.p2align 2,,3
 719              		.global	_Z16DAC_I2C_SET_GAINhhhhhPhN5daisy9I2CHandleE
 720              		.syntax unified
 721              		.thumb
 722              		.thumb_func
 723              		.fpu fpv5-d16
 725              	_Z16DAC_I2C_SET_GAINhhhhhPhN5daisy9I2CHandleE:
 726              	.LVL42:
 727              	.LFB4918:
 212:SYNTHMACHINE.cpp **** 
 213:SYNTHMACHINE.cpp **** void DAC_I2C_SET_GAIN(uint8_t DAC_Address, uint8_t G_A, uint8_t G_B, uint8_t G_C, uint8_t G_D, uint
 728              		.loc 7 213 134 is_stmt 1 view -0
 729              		.cfi_startproc
 730              		@ args = 12, pretend = 0, frame = 0
 731              		@ frame_needed = 0, uses_anonymous_args = 0
 214:SYNTHMACHINE.cpp ****     //sets gain for each channel, use at startup only, 0 = gain of 1 (0-2.048 V if Vref internal), 
 215:SYNTHMACHINE.cpp ****     output_buffer[0] = (0xC0 | (G_A << 3) | (G_B << 2) | (G_C << 1) | G_D); // command (4bits) Gx A
 732              		.loc 7 215 5 view .LVU152
 213:SYNTHMACHINE.cpp ****     //sets gain for each channel, use at startup only, 0 = gain of 1 (0-2.048 V if Vref internal), 
 733              		.loc 7 213 134 is_stmt 0 view .LVU153
 734 0000 10B5     		push	{r4, lr}
 735              		.cfi_def_cfa_offset 8
 736              		.cfi_offset 4, -8
 737              		.cfi_offset 14, -4
 738 0002 82B0     		sub	sp, sp, #8
 739              		.cfi_def_cfa_offset 16
 216:SYNTHMACHINE.cpp ****     I2CHandle::Result Gain_Write_Result = I2C.TransmitDma(DAC_Address, &output_buffer[0], 1, NULL, 
 740              		.loc 7 216 58 view .LVU154
 741 0004 0024     		movs	r4, #0
 213:SYNTHMACHINE.cpp ****     //sets gain for each channel, use at startup only, 0 = gain of 1 (0-2.048 V if Vref internal), 
 742              		.loc 7 213 134 view .LVU155
 743 0006 9DF810E0 		ldrb	lr, [sp, #16]	@ zero_extendqisi2
 215:SYNTHMACHINE.cpp ****     I2CHandle::Result Gain_Write_Result = I2C.TransmitDma(DAC_Address, &output_buffer[0], 1, NULL, 
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 36


 744              		.loc 7 215 69 view .LVU156
 745 000a 4EEAC10C 		orr	ip, lr, r1, lsl #3
 746              		.loc 7 216 58 view .LVU157
 747 000e 0146     		mov	r1, r0
 748              	.LVL43:
 749              		.loc 7 216 58 view .LVU158
 750 0010 06A8     		add	r0, sp, #24
 751              	.LVL44:
 215:SYNTHMACHINE.cpp ****     I2CHandle::Result Gain_Write_Result = I2C.TransmitDma(DAC_Address, &output_buffer[0], 1, NULL, 
 752              		.loc 7 215 69 view .LVU159
 753 0012 4CEA430E 		orr	lr, ip, r3, lsl #1
 754              		.loc 7 216 58 view .LVU160
 755 0016 0123     		movs	r3, #1
 756              	.LVL45:
 215:SYNTHMACHINE.cpp ****     I2CHandle::Result Gain_Write_Result = I2C.TransmitDma(DAC_Address, &output_buffer[0], 1, NULL, 
 757              		.loc 7 215 69 view .LVU161
 758 0018 4EEA8202 		orr	r2, lr, r2, lsl #2
 759              	.LVL46:
 215:SYNTHMACHINE.cpp ****     I2CHandle::Result Gain_Write_Result = I2C.TransmitDma(DAC_Address, &output_buffer[0], 1, NULL, 
 760              		.loc 7 215 69 view .LVU162
 761 001c 62F03F0C 		orn	ip, r2, #63
 213:SYNTHMACHINE.cpp ****     //sets gain for each channel, use at startup only, 0 = gain of 1 (0-2.048 V if Vref internal), 
 762              		.loc 7 213 134 view .LVU163
 763 0020 059A     		ldr	r2, [sp, #20]
 764              		.loc 7 216 58 view .LVU164
 765 0022 CDE90044 		strd	r4, r4, [sp]
 215:SYNTHMACHINE.cpp ****     I2CHandle::Result Gain_Write_Result = I2C.TransmitDma(DAC_Address, &output_buffer[0], 1, NULL, 
 766              		.loc 7 215 22 view .LVU165
 767 0026 82F800C0 		strb	ip, [r2]
 768              		.loc 7 216 5 is_stmt 1 view .LVU166
 769              		.loc 7 216 58 is_stmt 0 view .LVU167
 770 002a FFF7FEFF 		bl	_ZN5daisy9I2CHandle11TransmitDmaEtPhtPFvPvNS0_6ResultEES2_
 771              	.LVL47:
 217:SYNTHMACHINE.cpp ****     if(Gain_Write_Result == I2CHandle::Result::OK) {
 772              		.loc 7 217 5 is_stmt 1 view .LVU168
 218:SYNTHMACHINE.cpp ****         //hw.PrintLine("OK TRANSMISSION GAIN Write");
 219:SYNTHMACHINE.cpp ****     }
 220:SYNTHMACHINE.cpp **** }
 773              		.loc 7 220 1 is_stmt 0 view .LVU169
 774 002e 02B0     		add	sp, sp, #8
 775              		.cfi_def_cfa_offset 8
 776              		@ sp needed
 777 0030 10BD     		pop	{r4, pc}
 778              		.loc 7 220 1 view .LVU170
 779              		.cfi_endproc
 780              	.LFE4918:
 782 0032 00BF     		.section	.text._Z24MIDI_NOTE_TO_DAC_VOLTAGEh,"ax",%progbits
 783              		.align	1
 784              		.p2align 2,,3
 785              		.global	_Z24MIDI_NOTE_TO_DAC_VOLTAGEh
 786              		.syntax unified
 787              		.thumb
 788              		.thumb_func
 789              		.fpu fpv5-d16
 791              	_Z24MIDI_NOTE_TO_DAC_VOLTAGEh:
 792              	.LVL48:
 793              	.LFB4919:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 37


 221:SYNTHMACHINE.cpp **** 
 222:SYNTHMACHINE.cpp **** uint16_t MIDI_NOTE_TO_DAC_VOLTAGE(uint8_t note){
 794              		.loc 7 222 48 is_stmt 1 view -0
 795              		.cfi_startproc
 796              		@ args = 0, pretend = 0, frame = 0
 797              		@ frame_needed = 0, uses_anonymous_args = 0
 798              		@ link register save eliminated.
 223:SYNTHMACHINE.cpp ****     uint16_t MIDI_Range = MIDI_MAX - MIDI_MIN; 
 799              		.loc 7 223 5 view .LVU172
 224:SYNTHMACHINE.cpp ****     uint16_t DAC_Range = 4095;
 800              		.loc 7 224 5 view .LVU173
 225:SYNTHMACHINE.cpp ****     uint16_t DAC_Channel_Val = ((static_cast<uint16_t>(note) - MIDI_MIN) * DAC_Range) / MIDI_Range;
 801              		.loc 7 225 5 view .LVU174
 226:SYNTHMACHINE.cpp **** 
 227:SYNTHMACHINE.cpp ****     return DAC_Channel_Val;
 802              		.loc 7 227 5 view .LVU175
 225:SYNTHMACHINE.cpp ****     uint16_t DAC_Channel_Val = ((static_cast<uint16_t>(note) - MIDI_MIN) * DAC_Range) / MIDI_Range;
 803              		.loc 7 225 62 is_stmt 0 view .LVU176
 804 0000 1C38     		subs	r0, r0, #28
 805              	.LVL49:
 225:SYNTHMACHINE.cpp ****     uint16_t DAC_Channel_Val = ((static_cast<uint16_t>(note) - MIDI_MIN) * DAC_Range) / MIDI_Range;
 806              		.loc 7 225 87 view .LVU177
 807 0002 054B     		ldr	r3, .L39
 225:SYNTHMACHINE.cpp ****     uint16_t DAC_Channel_Val = ((static_cast<uint16_t>(note) - MIDI_MIN) * DAC_Range) / MIDI_Range;
 808              		.loc 7 225 74 view .LVU178
 809 0004 C0EB0030 		rsb	r0, r0, r0, lsl #12
 810              	.LVL50:
 225:SYNTHMACHINE.cpp ****     uint16_t DAC_Channel_Val = ((static_cast<uint16_t>(note) - MIDI_MIN) * DAC_Range) / MIDI_Range;
 811              		.loc 7 225 87 view .LVU179
 812 0008 83FB0023 		smull	r2, r3, r3, r0
 813 000c C217     		asrs	r2, r0, #31
 814 000e 1844     		add	r0, r0, r3
 815 0010 C2EB6010 		rsb	r0, r2, r0, asr #5
 228:SYNTHMACHINE.cpp **** }
 816              		.loc 7 228 1 view .LVU180
 817 0014 80B2     		uxth	r0, r0
 818 0016 7047     		bx	lr
 819              	.L40:
 820              		.align	2
 821              	.L39:
 822 0018 5D414CAE 		.word	-1370734243
 823              		.cfi_endproc
 824              	.LFE4919:
 826              		.section	.text._Z22OSC_AMP_TO_DAC_VOLTAGEf,"ax",%progbits
 827              		.align	1
 828              		.p2align 2,,3
 829              		.global	_Z22OSC_AMP_TO_DAC_VOLTAGEf
 830              		.syntax unified
 831              		.thumb
 832              		.thumb_func
 833              		.fpu fpv5-d16
 835              	_Z22OSC_AMP_TO_DAC_VOLTAGEf:
 836              	.LVL51:
 837              	.LFB4920:
 229:SYNTHMACHINE.cpp **** 
 230:SYNTHMACHINE.cpp **** uint16_t OSC_AMP_TO_DAC_VOLTAGE(float value){
 838              		.loc 7 230 45 is_stmt 1 view -0
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 38


 839              		.cfi_startproc
 840              		@ args = 0, pretend = 0, frame = 0
 841              		@ frame_needed = 0, uses_anonymous_args = 0
 842              		@ link register save eliminated.
 231:SYNTHMACHINE.cpp ****     float OSC_RANGE = 1.0f - (-1.0f); 
 843              		.loc 7 231 5 view .LVU182
 232:SYNTHMACHINE.cpp ****     float DAC_Range = 4095;
 844              		.loc 7 232 5 view .LVU183
 233:SYNTHMACHINE.cpp ****     float DAC_Channel_Val = ((value - (-1.0f)) * DAC_Range) / OSC_RANGE;
 845              		.loc 7 233 5 view .LVU184
 846              		.loc 7 233 37 is_stmt 0 view .LVU185
 847 0000 F7EE006A 		vmov.f32	s13, #1.0e+0
 848              	.LVL52:
 234:SYNTHMACHINE.cpp **** 
 235:SYNTHMACHINE.cpp ****     return static_cast<uint16_t>(DAC_Channel_Val);
 849              		.loc 7 235 5 is_stmt 1 view .LVU186
 233:SYNTHMACHINE.cpp ****     float DAC_Channel_Val = ((value - (-1.0f)) * DAC_Range) / OSC_RANGE;
 850              		.loc 7 233 48 is_stmt 0 view .LVU187
 851 0004 DFED077A 		vldr.32	s15, .L42
 233:SYNTHMACHINE.cpp ****     float DAC_Channel_Val = ((value - (-1.0f)) * DAC_Range) / OSC_RANGE;
 852              		.loc 7 233 11 view .LVU188
 853 0008 B6EE007A 		vmov.f32	s14, #5.0e-1
 233:SYNTHMACHINE.cpp ****     float DAC_Channel_Val = ((value - (-1.0f)) * DAC_Range) / OSC_RANGE;
 854              		.loc 7 233 37 view .LVU189
 855 000c 30EE260A 		vadd.f32	s0, s0, s13
 856              	.LVL53:
 233:SYNTHMACHINE.cpp ****     float DAC_Channel_Val = ((value - (-1.0f)) * DAC_Range) / OSC_RANGE;
 857              		.loc 7 233 48 view .LVU190
 858 0010 60EE277A 		vmul.f32	s15, s0, s15
 233:SYNTHMACHINE.cpp ****     float DAC_Channel_Val = ((value - (-1.0f)) * DAC_Range) / OSC_RANGE;
 859              		.loc 7 233 11 view .LVU191
 860 0014 67EE877A 		vmul.f32	s15, s15, s14
 861              	.LVL54:
 862              		.loc 7 235 49 view .LVU192
 863 0018 FCEEE77A 		vcvt.u32.f32	s15, s15
 864              	.LVL55:
 236:SYNTHMACHINE.cpp **** }
 865              		.loc 7 236 1 view .LVU193
 866 001c 17EE903A 		vmov	r3, s15	@ int
 867 0020 98B2     		uxth	r0, r3
 868 0022 7047     		bx	lr
 869              	.L43:
 870              		.align	2
 871              	.L42:
 872 0024 00F07F45 		.word	1166012416
 873              		.cfi_endproc
 874              	.LFE4920:
 876              		.section	.text._Z22Env_AMP_TO_DAC_VOLTAGEf,"ax",%progbits
 877              		.align	1
 878              		.p2align 2,,3
 879              		.global	_Z22Env_AMP_TO_DAC_VOLTAGEf
 880              		.syntax unified
 881              		.thumb
 882              		.thumb_func
 883              		.fpu fpv5-d16
 885              	_Z22Env_AMP_TO_DAC_VOLTAGEf:
 886              	.LVL56:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 39


 887              	.LFB4921:
 237:SYNTHMACHINE.cpp **** 
 238:SYNTHMACHINE.cpp **** uint16_t Env_AMP_TO_DAC_VOLTAGE(float value){
 888              		.loc 7 238 45 is_stmt 1 view -0
 889              		.cfi_startproc
 890              		@ args = 0, pretend = 0, frame = 0
 891              		@ frame_needed = 0, uses_anonymous_args = 0
 892              		@ link register save eliminated.
 239:SYNTHMACHINE.cpp ****     float Env_RANGE = 1.0f; 
 893              		.loc 7 239 5 view .LVU195
 240:SYNTHMACHINE.cpp ****     float DAC_Range = 4095;
 894              		.loc 7 240 5 view .LVU196
 241:SYNTHMACHINE.cpp ****     float DAC_Channel_Val = ((value) * DAC_Range) / Env_RANGE;
 895              		.loc 7 241 5 view .LVU197
 242:SYNTHMACHINE.cpp **** 
 243:SYNTHMACHINE.cpp ****     return static_cast<uint16_t>(DAC_Channel_Val);
 896              		.loc 7 243 5 view .LVU198
 241:SYNTHMACHINE.cpp ****     float DAC_Channel_Val = ((value) * DAC_Range) / Env_RANGE;
 897              		.loc 7 241 38 is_stmt 0 view .LVU199
 898 0000 DFED047A 		vldr.32	s15, .L45
 899 0004 20EE270A 		vmul.f32	s0, s0, s15
 900              	.LVL57:
 901              		.loc 7 243 49 view .LVU200
 902 0008 BCEEC00A 		vcvt.u32.f32	s0, s0
 903              	.LVL58:
 244:SYNTHMACHINE.cpp **** }
 904              		.loc 7 244 1 view .LVU201
 905 000c 10EE103A 		vmov	r3, s0	@ int
 906 0010 98B2     		uxth	r0, r3
 907 0012 7047     		bx	lr
 908              	.L46:
 909              		.align	2
 910              	.L45:
 911 0014 00F07F45 		.word	1166012416
 912              		.cfi_endproc
 913              	.LFE4921:
 915              		.section	.text.startup.main,"ax",%progbits
 916              		.align	1
 917              		.p2align 2,,3
 918              		.global	main
 919              		.syntax unified
 920              		.thumb
 921              		.thumb_func
 922              		.fpu fpv5-d16
 924              	main:
 925              	.LFB4922:
 245:SYNTHMACHINE.cpp **** 
 246:SYNTHMACHINE.cpp **** int main(void)
 247:SYNTHMACHINE.cpp **** {
 926              		.loc 7 247 1 is_stmt 1 view -0
 927              		.cfi_startproc
 928              		@ args = 0, pretend = 0, frame = 384
 929              		@ frame_needed = 0, uses_anonymous_args = 0
 248:SYNTHMACHINE.cpp ****     /** Initialize our hardware */
 249:SYNTHMACHINE.cpp ****     hw.Init();
 930              		.loc 7 249 5 view .LVU203
 247:SYNTHMACHINE.cpp ****     /** Initialize our hardware */
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 40


 931              		.loc 7 247 1 is_stmt 0 view .LVU204
 932 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 933              		.cfi_def_cfa_offset 36
 934              		.cfi_offset 4, -36
 935              		.cfi_offset 5, -32
 936              		.cfi_offset 6, -28
 937              		.cfi_offset 7, -24
 938              		.cfi_offset 8, -20
 939              		.cfi_offset 9, -16
 940              		.cfi_offset 10, -12
 941              		.cfi_offset 11, -8
 942              		.cfi_offset 14, -4
 943              		.loc 7 249 12 view .LVU205
 944 0004 0021     		movs	r1, #0
 945 0006 C048     		ldr	r0, .L113+8
 946              	.LBB507:
 947              	.LBB508:
 948              	.LBB509:
 949              		.file 12 "../../libDaisy/src/per/tim.h"
   1:../../libDaisy/src/per/tim.h **** #pragma once
   2:../../libDaisy/src/per/tim.h **** #ifndef DSY_TIM_H
   3:../../libDaisy/src/per/tim.h **** #define DSY_TIM_H
   4:../../libDaisy/src/per/tim.h **** 
   5:../../libDaisy/src/per/tim.h **** #include <cstdint>
   6:../../libDaisy/src/per/tim.h **** #include "stm32h7xx_hal.h"
   7:../../libDaisy/src/per/tim.h **** 
   8:../../libDaisy/src/per/tim.h **** namespace daisy
   9:../../libDaisy/src/per/tim.h **** {
  10:../../libDaisy/src/per/tim.h **** /** @brief Hardare timer peripheral support.
  11:../../libDaisy/src/per/tim.h ****  ** 
  12:../../libDaisy/src/per/tim.h ****  ** Supports general-function TIM peripherals:
  13:../../libDaisy/src/per/tim.h ****  ** - TIM2, TIM3, TIM4, TIM5
  14:../../libDaisy/src/per/tim.h ****  **
  15:../../libDaisy/src/per/tim.h ****  ** DaisySeed, and many internal peripherals utilize TIM2 for timing/delay purposes.
  16:../../libDaisy/src/per/tim.h ****  ** It is configured to be at the maximum frequency: typically 200MHz or 240MHz (boost) 
  17:../../libDaisy/src/per/tim.h ****  ** for measuring/delaying for very short periods. 
  18:../../libDaisy/src/per/tim.h ****  **
  19:../../libDaisy/src/per/tim.h ****  ** The GetUs/GetMs functions are available for convenience (and backwards compatibility),
  20:../../libDaisy/src/per/tim.h ****  ** but to avoid wrapping errors on math when doing time-delta calculations, using ticks is 
  21:../../libDaisy/src/per/tim.h ****  ** recommended. The data can be converted to the final time-base after getting the difference in t
  22:../../libDaisy/src/per/tim.h ****  ** (Using GetFreq() can be used for these time-base calculations).
  23:../../libDaisy/src/per/tim.h ****  **
  24:../../libDaisy/src/per/tim.h ****  ** User callbacks can be set, and changed at any point during operation. However,
  25:../../libDaisy/src/per/tim.h ****  ** the Config::enable_irq must be set to true when initializing for the interrupts
  26:../../libDaisy/src/per/tim.h ****  ** to turn on and function.
  27:../../libDaisy/src/per/tim.h ****  **
  28:../../libDaisy/src/per/tim.h ****  ** @todo Fix issues with realtime getters, and wrapping of the timer(s).
  29:../../libDaisy/src/per/tim.h ****  **     - This very noticeable with default settings for the 16-bit counters.
  30:../../libDaisy/src/per/tim.h ****  ** @todo Other General purpose timers
  31:../../libDaisy/src/per/tim.h ****  ** @todo Non-internal clock sources
  32:../../libDaisy/src/per/tim.h ****  ** @todo Use of the four-tim channels per tim
  33:../../libDaisy/src/per/tim.h ****  **     - PWM, etc.
  34:../../libDaisy/src/per/tim.h ****  **     - InputCapture/OutputCompare, etc.
  35:../../libDaisy/src/per/tim.h ****  ** @todo HRTIM
  36:../../libDaisy/src/per/tim.h ****  ** @todo Advanced timers (TIM1/TIM8)
  37:../../libDaisy/src/per/tim.h ****  ** */
  38:../../libDaisy/src/per/tim.h **** class TimerHandle
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 41


  39:../../libDaisy/src/per/tim.h **** {
  40:../../libDaisy/src/per/tim.h ****   public:
  41:../../libDaisy/src/per/tim.h ****     /** @brief Configuration struct for the Peripheral
  42:../../libDaisy/src/per/tim.h ****      *  @note These settings are used during initialization
  43:../../libDaisy/src/per/tim.h ****      *   and changing them afterwards may not have the desired effect.
  44:../../libDaisy/src/per/tim.h ****      */
  45:../../libDaisy/src/per/tim.h ****     struct Config
  46:../../libDaisy/src/per/tim.h ****     {
  47:../../libDaisy/src/per/tim.h ****         /** @brief Hardware Timer to configure, and use. */
  48:../../libDaisy/src/per/tim.h ****         enum class Peripheral
  49:../../libDaisy/src/per/tim.h ****         {
  50:../../libDaisy/src/per/tim.h ****             TIM_2 = 0, /**< 32-bit counter */
  51:../../libDaisy/src/per/tim.h ****             TIM_3,     /**< 16-bit counter */
  52:../../libDaisy/src/per/tim.h ****             TIM_4,     /**< 16-bit counter */
  53:../../libDaisy/src/per/tim.h ****             TIM_5,     /**< 32-bit counter*/
  54:../../libDaisy/src/per/tim.h ****         };
  55:../../libDaisy/src/per/tim.h **** 
  56:../../libDaisy/src/per/tim.h ****         /** @brief Direction of the auto-reload counter. 
  57:../../libDaisy/src/per/tim.h ****          ** @todo Add support for the various  
  58:../../libDaisy/src/per/tim.h ****          ** versions of Up/Down counters.
  59:../../libDaisy/src/per/tim.h ****          ** */
  60:../../libDaisy/src/per/tim.h ****         enum class CounterDir
  61:../../libDaisy/src/per/tim.h ****         {
  62:../../libDaisy/src/per/tim.h ****             UP = 0,
  63:../../libDaisy/src/per/tim.h ****             DOWN,
  64:../../libDaisy/src/per/tim.h ****         };
  65:../../libDaisy/src/per/tim.h **** 
  66:../../libDaisy/src/per/tim.h ****         Peripheral periph; /**< Hardware Peripheral */
  67:../../libDaisy/src/per/tim.h ****         CounterDir dir;    /**< Counter direction */
  68:../../libDaisy/src/per/tim.h **** 
  69:../../libDaisy/src/per/tim.h ****         /** @brief period in ticks at TIM frequency that counter will reset based on dir
  70:../../libDaisy/src/per/tim.h ****          *  @note TIM3 and TIM4 are both 16-bit timers. So the period maximum is 0xffff.
  71:../../libDaisy/src/per/tim.h ****         */
  72:../../libDaisy/src/per/tim.h ****         uint32_t period;
  73:../../libDaisy/src/per/tim.h ****         bool     enable_irq; /**< Enable interrupt for user based callback */
  74:../../libDaisy/src/per/tim.h **** 
  75:../../libDaisy/src/per/tim.h ****         /* @brief Constructor for default states */
  76:../../libDaisy/src/per/tim.h ****         Config()
  77:../../libDaisy/src/per/tim.h ****         : periph(Peripheral::TIM_2),
  78:../../libDaisy/src/per/tim.h ****           dir(CounterDir::UP),
  79:../../libDaisy/src/per/tim.h ****           period(0xffffffff),
  80:../../libDaisy/src/per/tim.h ****           enable_irq(false)
  81:../../libDaisy/src/per/tim.h ****         {
  82:../../libDaisy/src/per/tim.h ****         }
  83:../../libDaisy/src/per/tim.h ****     };
  84:../../libDaisy/src/per/tim.h **** 
  85:../../libDaisy/src/per/tim.h ****     /** @brief Return values for TIM funcitons. */
  86:../../libDaisy/src/per/tim.h ****     enum class Result
  87:../../libDaisy/src/per/tim.h ****     {
  88:../../libDaisy/src/per/tim.h ****         OK,
  89:../../libDaisy/src/per/tim.h ****         ERR,
  90:../../libDaisy/src/per/tim.h ****     };
  91:../../libDaisy/src/per/tim.h **** 
  92:../../libDaisy/src/per/tim.h ****     /** @brief User Callback type that will fire at the end of each timer 
  93:../../libDaisy/src/per/tim.h ****      *   period. This requires that Config::enable_irq is true before Init
  94:../../libDaisy/src/per/tim.h ****      *  @param data pointer to arbitrary user-provided data
  95:../../libDaisy/src/per/tim.h ****     */
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 42


  96:../../libDaisy/src/per/tim.h ****     typedef void (*PeriodElapsedCallback)(void* data);
  97:../../libDaisy/src/per/tim.h **** 
  98:../../libDaisy/src/per/tim.h ****     TimerHandle() : pimpl_(nullptr) {}
 950              		.loc 12 98 35 view .LVU206
 951 0008 0024     		movs	r4, #0
 952              	.LBE509:
 953              	.LBE508:
 954              	.LBE507:
 955              	.LBB512:
 956              	.LBB513:
 206:SYNTHMACHINE.cpp ****     I2CHandle::Result Vref_Write_Result = I2C.TransmitDma(DAC_Address, &output_buffer[0], 1, NULL, 
 957              		.loc 7 206 22 view .LVU207
 958 000a C04E     		ldr	r6, .L113+12
 959 000c C04F     		ldr	r7, .L113+16
 960              	.LBE513:
 961              	.LBE512:
 250:SYNTHMACHINE.cpp ****     //hw.StartLog(true);
 251:SYNTHMACHINE.cpp **** 
 252:SYNTHMACHINE.cpp ****     //initialize Timer stuff
 253:SYNTHMACHINE.cpp ****     TimerHandle timer;
 254:SYNTHMACHINE.cpp ****     TimerHandle::Config T_CONFIG;
 255:SYNTHMACHINE.cpp ****     T_CONFIG.dir = TimerHandle::Config::CounterDir::UP;
 256:SYNTHMACHINE.cpp ****     T_CONFIG.periph = TimerHandle::Config::Peripheral::TIM_2;
 257:SYNTHMACHINE.cpp ****     timer.Init(T_CONFIG);
 258:SYNTHMACHINE.cpp ****     timer.Start();
 259:SYNTHMACHINE.cpp **** 
 260:SYNTHMACHINE.cpp ****     uint32_t freq = timer.GetFreq();
 261:SYNTHMACHINE.cpp ****     uint32_t lastTime = timer.GetTick();
 262:SYNTHMACHINE.cpp ****     float interval = 0;
 263:SYNTHMACHINE.cpp **** 
 264:SYNTHMACHINE.cpp ****     //hw.StartLog(true);
 265:SYNTHMACHINE.cpp **** 
 266:SYNTHMACHINE.cpp ****     //hw.PrintLine("MIDI USB Host start");
 267:SYNTHMACHINE.cpp **** 
 268:SYNTHMACHINE.cpp ****     /** Configure USB host */
 269:SYNTHMACHINE.cpp ****     USBHostHandle::Config usbhConfig;
 270:SYNTHMACHINE.cpp ****     usbhConfig.connect_callback = USBH_Connect;
 271:SYNTHMACHINE.cpp ****     usbhConfig.disconnect_callback = USBH_Disconnect;
 272:SYNTHMACHINE.cpp ****     usbhConfig.class_active_callback = USBH_ClassActive;
 273:SYNTHMACHINE.cpp ****     usbhConfig.error_callback = USBH_Error;
 274:SYNTHMACHINE.cpp ****     usbHost.Init(usbhConfig);
 275:SYNTHMACHINE.cpp **** 
 276:SYNTHMACHINE.cpp ****     usbHost.RegisterClass(USBH_MIDI_CLASS);
 277:SYNTHMACHINE.cpp **** 
 278:SYNTHMACHINE.cpp ****     float now      = 0;
 279:SYNTHMACHINE.cpp ****     float log_time = 0;
 280:SYNTHMACHINE.cpp ****     float blink_time = 0;
 281:SYNTHMACHINE.cpp ****     bool ledState = false;
 962              		.loc 7 281 10 view .LVU208
 963 000e A046     		mov	r8, r4
 247:SYNTHMACHINE.cpp ****     /** Initialize our hardware */
 964              		.loc 7 247 1 view .LVU209
 965 0010 2DED068B 		vpush.64	{d8, d9, d10}
 966              		.cfi_def_cfa_offset 60
 967              		.cfi_offset 80, -60
 968              		.cfi_offset 81, -56
 969              		.cfi_offset 82, -52
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 43


 970              		.cfi_offset 83, -48
 971              		.cfi_offset 84, -44
 972              		.cfi_offset 85, -40
 973 0014 E3B0     		sub	sp, sp, #396
 974              		.cfi_def_cfa_offset 456
 975              	.LBB516:
 976              	.LBB517:
 977              	.LBB518:
 142:SYNTHMACHINE.cpp ****             AttackTime = AttackTime_Ext;
 978              		.loc 7 142 132 view .LVU210
 979 0016 DFEDBFAA 		vldr.32	s21, .L113+20
 980              	.LBE518:
 981              	.LBE517:
 982              	.LBE516:
 249:SYNTHMACHINE.cpp ****     //hw.StartLog(true);
 983              		.loc 7 249 12 view .LVU211
 984 001a FFF7FEFF 		bl	_ZN5daisy9DaisySeed4InitEb
 985              	.LVL59:
 253:SYNTHMACHINE.cpp ****     TimerHandle::Config T_CONFIG;
 986              		.loc 7 253 5 is_stmt 1 view .LVU212
 987              	.LBB525:
 988              	.LBI507:
 989              		.loc 12 98 5 view .LVU213
 990              	.LBE525:
 991              	.LBB526:
 992              	.LBB527:
 993              	.LBB528:
  80:../../libDaisy/src/per/tim.h ****         {
 994              		.loc 12 80 27 is_stmt 0 view .LVU214
 995 001e 4FF0FF33 		mov	r3, #-1
 996              	.LBE528:
 997              	.LBE527:
 998              	.LBE526:
 257:SYNTHMACHINE.cpp ****     timer.Start();
 999              		.loc 7 257 15 view .LVU215
 1000 0022 0CA9     		add	r1, sp, #48
 1001 0024 07A8     		add	r0, sp, #28
 1002              	.LVL60:
 1003              	.LBB535:
 1004              	.LBB532:
 1005              	.LBB529:
  80:../../libDaisy/src/per/tim.h ****         {
 1006              		.loc 12 80 27 view .LVU216
 1007 0026 0E93     		str	r3, [sp, #56]
 1008              	.LBE529:
 1009              	.LBE532:
 1010              	.LBE535:
 1011              	.LBB536:
 1012              	.LBB522:
 1013              	.LBB519:
 142:SYNTHMACHINE.cpp ****             AttackTime = AttackTime_Ext;
 1014              		.loc 7 142 132 view .LVU217
 1015 0028 B0EE6AAA 		vmov.f32	s20, s21
 1016              	.LBE519:
 1017              	.LBE522:
 1018              	.LBE536:
 1019              	.LBB537:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 44


 1020              	.LBB511:
 1021              	.LBB510:
 1022              		.loc 12 98 35 view .LVU218
 1023 002c 0794     		str	r4, [sp, #28]
 1024              	.LVL61:
 1025              		.loc 12 98 35 view .LVU219
 1026              	.LBE510:
 1027              	.LBE511:
 1028              	.LBE537:
 254:SYNTHMACHINE.cpp ****     T_CONFIG.dir = TimerHandle::Config::CounterDir::UP;
 1029              		.loc 7 254 5 is_stmt 1 view .LVU220
 1030              	.LBB538:
 1031              	.LBI526:
  76:../../libDaisy/src/per/tim.h ****         : periph(Peripheral::TIM_2),
 1032              		.loc 12 76 9 view .LVU221
 1033              	.LBE538:
 282:SYNTHMACHINE.cpp ****     float I2C_Signal_Clock = 0;
 1034              		.loc 7 282 11 is_stmt 0 view .LVU222
 1035 002e F0EE6A8A 		vmov.f32	s17, s21
 1036              	.LBB539:
 1037              	.LBB533:
 1038              	.LBB530:
  80:../../libDaisy/src/per/tim.h ****         {
 1039              		.loc 12 80 27 view .LVU223
 1040 0032 8DF83C40 		strb	r4, [sp, #60]
 1041              	.LVL62:
  80:../../libDaisy/src/per/tim.h ****         {
 1042              		.loc 12 80 27 view .LVU224
 1043              	.LBE530:
 1044              	.LBE533:
 1045              	.LBE539:
 255:SYNTHMACHINE.cpp ****     T_CONFIG.periph = TimerHandle::Config::Peripheral::TIM_2;
 1046              		.loc 7 255 5 is_stmt 1 view .LVU225
 256:SYNTHMACHINE.cpp ****     timer.Init(T_CONFIG);
 1047              		.loc 7 256 5 view .LVU226
 257:SYNTHMACHINE.cpp ****     timer.Start();
 1048              		.loc 7 257 5 view .LVU227
 280:SYNTHMACHINE.cpp ****     bool ledState = false;
 1049              		.loc 7 280 11 is_stmt 0 view .LVU228
 1050 0036 B0EE6A8A 		vmov.f32	s16, s21
 1051 003a 9FEDB79A 		vldr.32	s18, .L113+24
 1052              	.LBB540:
 1053              	.LBB534:
 1054              	.LBB531:
  80:../../libDaisy/src/per/tim.h ****         {
 1055              		.loc 12 80 27 view .LVU229
 1056 003e CDE90C44 		strd	r4, r4, [sp, #48]
 1057              	.LBE531:
 1058              	.LBE534:
 1059              	.LBE540:
 257:SYNTHMACHINE.cpp ****     timer.Start();
 1060              		.loc 7 257 15 view .LVU230
 1061 0042 FFF7FEFF 		bl	_ZN5daisy11TimerHandle4InitERKNS0_6ConfigE
 1062              	.LVL63:
 258:SYNTHMACHINE.cpp **** 
 1063              		.loc 7 258 5 is_stmt 1 view .LVU231
 258:SYNTHMACHINE.cpp **** 
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 45


 1064              		.loc 7 258 16 is_stmt 0 view .LVU232
 1065 0046 07A8     		add	r0, sp, #28
 1066 0048 FFF7FEFF 		bl	_ZN5daisy11TimerHandle5StartEv
 1067              	.LVL64:
 260:SYNTHMACHINE.cpp ****     uint32_t lastTime = timer.GetTick();
 1068              		.loc 7 260 5 is_stmt 1 view .LVU233
 260:SYNTHMACHINE.cpp ****     uint32_t lastTime = timer.GetTick();
 1069              		.loc 7 260 34 is_stmt 0 view .LVU234
 1070 004c 07A8     		add	r0, sp, #28
 1071 004e FFF7FEFF 		bl	_ZN5daisy11TimerHandle7GetFreqEv
 1072              	.LVL65:
 1073 0052 0346     		mov	r3, r0
 261:SYNTHMACHINE.cpp ****     float interval = 0;
 1074              		.loc 7 261 38 view .LVU235
 1075 0054 07A8     		add	r0, sp, #28
 260:SYNTHMACHINE.cpp ****     uint32_t lastTime = timer.GetTick();
 1076              		.loc 7 260 34 view .LVU236
 1077 0056 09EE903A 		vmov	s19, r3	@ int
 1078              	.LVL66:
 261:SYNTHMACHINE.cpp ****     float interval = 0;
 1079              		.loc 7 261 5 is_stmt 1 view .LVU237
 261:SYNTHMACHINE.cpp ****     float interval = 0;
 1080              		.loc 7 261 38 is_stmt 0 view .LVU238
 1081 005a FFF7FEFF 		bl	_ZN5daisy11TimerHandle7GetTickEv
 1082              	.LVL67:
 270:SYNTHMACHINE.cpp ****     usbhConfig.disconnect_callback = USBH_Disconnect;
 1083              		.loc 7 270 33 view .LVU239
 1084 005e AF4B     		ldr	r3, .L113+28
 274:SYNTHMACHINE.cpp **** 
 1085              		.loc 7 274 17 view .LVU240
 1086 0060 10A9     		add	r1, sp, #64
 261:SYNTHMACHINE.cpp ****     float interval = 0;
 1087              		.loc 7 261 38 view .LVU241
 1088 0062 0546     		mov	r5, r0
 1089              	.LVL68:
 262:SYNTHMACHINE.cpp **** 
 1090              		.loc 7 262 5 is_stmt 1 view .LVU242
 269:SYNTHMACHINE.cpp ****     usbhConfig.connect_callback = USBH_Connect;
 1091              		.loc 7 269 5 view .LVU243
 1092              	.LBB541:
 1093              	.LBI541:
 1094              		.file 13 "../../libDaisy/src/hid/usb_host.h"
   1:../../libDaisy/src/hid/usb_host.h **** #ifndef USB_HOST_H
   2:../../libDaisy/src/hid/usb_host.h **** #define USB_HOST_H
   3:../../libDaisy/src/hid/usb_host.h **** 
   4:../../libDaisy/src/hid/usb_host.h **** #include <cstdint>
   5:../../libDaisy/src/hid/usb_host.h **** #include "usbh_def.h"
   6:../../libDaisy/src/hid/usb_host.h **** 
   7:../../libDaisy/src/hid/usb_host.h **** namespace daisy
   8:../../libDaisy/src/hid/usb_host.h **** {
   9:../../libDaisy/src/hid/usb_host.h **** /** Status of USB Host application
  10:../../libDaisy/src/hid/usb_host.h ****  *
  11:../../libDaisy/src/hid/usb_host.h ****  */
  12:../../libDaisy/src/hid/usb_host.h **** typedef enum
  13:../../libDaisy/src/hid/usb_host.h **** {
  14:../../libDaisy/src/hid/usb_host.h ****     APPLICATION_IDLE = 0,
  15:../../libDaisy/src/hid/usb_host.h ****     APPLICATION_START,
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 46


  16:../../libDaisy/src/hid/usb_host.h ****     APPLICATION_READY,
  17:../../libDaisy/src/hid/usb_host.h ****     APPLICATION_DISCONNECT
  18:../../libDaisy/src/hid/usb_host.h **** } ApplicationTypeDef;
  19:../../libDaisy/src/hid/usb_host.h **** 
  20:../../libDaisy/src/hid/usb_host.h **** /**
  21:../../libDaisy/src/hid/usb_host.h ****    @author Gabriel Ball
  22:../../libDaisy/src/hid/usb_host.h ****    @date September 16, 2021
  23:../../libDaisy/src/hid/usb_host.h **** 
  24:../../libDaisy/src/hid/usb_host.h ****    @brief Presents a USB Mass Storage Device host interface
  25:../../libDaisy/src/hid/usb_host.h **** */
  26:../../libDaisy/src/hid/usb_host.h **** class USBHostHandle
  27:../../libDaisy/src/hid/usb_host.h **** {
  28:../../libDaisy/src/hid/usb_host.h ****   public:
  29:../../libDaisy/src/hid/usb_host.h ****     /** @brief return codes from the USB Processing
  30:../../libDaisy/src/hid/usb_host.h ****      *  can be used to check the state of USB while running
  31:../../libDaisy/src/hid/usb_host.h ****      *  outside of what may be happening with the limited user callbacks.
  32:../../libDaisy/src/hid/usb_host.h ****      *
  33:../../libDaisy/src/hid/usb_host.h ****      *  At this time, these correlate directly to the ST Middleware
  34:../../libDaisy/src/hid/usb_host.h ****      *  USBH_StatusTypeDef codes
  35:../../libDaisy/src/hid/usb_host.h ****      */
  36:../../libDaisy/src/hid/usb_host.h ****     enum class Result
  37:../../libDaisy/src/hid/usb_host.h ****     {
  38:../../libDaisy/src/hid/usb_host.h ****         OK,
  39:../../libDaisy/src/hid/usb_host.h ****         BUSY,
  40:../../libDaisy/src/hid/usb_host.h ****         FAIL,
  41:../../libDaisy/src/hid/usb_host.h ****         NOT_SUPPORTED,
  42:../../libDaisy/src/hid/usb_host.h ****         UNRECOVERED_ERROR,
  43:../../libDaisy/src/hid/usb_host.h ****         ERROR_SPEED_UNKNOWN
  44:../../libDaisy/src/hid/usb_host.h ****     };
  45:../../libDaisy/src/hid/usb_host.h **** 
  46:../../libDaisy/src/hid/usb_host.h ****     /** @brief User defineable callback for USB Connection */
  47:../../libDaisy/src/hid/usb_host.h ****     typedef void (*ConnectCallback)(void* data);
  48:../../libDaisy/src/hid/usb_host.h **** 
  49:../../libDaisy/src/hid/usb_host.h ****     /** @brief User defineable callback for USB Disconnection */
  50:../../libDaisy/src/hid/usb_host.h ****     typedef void (*DisconnectCallback)(void* data);
  51:../../libDaisy/src/hid/usb_host.h **** 
  52:../../libDaisy/src/hid/usb_host.h ****     /** @brief User defineable callback upon completion of class initialization
  53:../../libDaisy/src/hid/usb_host.h ****      *  For example, when a USB drive is connected and the usb device class
  54:../../libDaisy/src/hid/usb_host.h ****      *  initialization has finished, this callback will fire.
  55:../../libDaisy/src/hid/usb_host.h ****      *
  56:../../libDaisy/src/hid/usb_host.h ****      *  @param userdata a pointer to some arbitrary data for use by the user.
  57:../../libDaisy/src/hid/usb_host.h ****      *   this is supplied in the Config struct. Can be used to avoid globals.
  58:../../libDaisy/src/hid/usb_host.h ****      *
  59:../../libDaisy/src/hid/usb_host.h ****      *  @todo At some point this may be replaced for individual callbacks
  60:../../libDaisy/src/hid/usb_host.h ****      *   for each supported USB Host class.
  61:../../libDaisy/src/hid/usb_host.h ****      */
  62:../../libDaisy/src/hid/usb_host.h ****     typedef void (*ClassActiveCallback)(void* userdata);
  63:../../libDaisy/src/hid/usb_host.h **** 
  64:../../libDaisy/src/hid/usb_host.h ****     /** @brief User defineable callback for USB Unrecoverable Error
  65:../../libDaisy/src/hid/usb_host.h ****      *  @todo add some sort of feedback about the type of error, etc.
  66:../../libDaisy/src/hid/usb_host.h ****      *   if possible
  67:../../libDaisy/src/hid/usb_host.h ****     */
  68:../../libDaisy/src/hid/usb_host.h ****     typedef void (*ErrorCallback)(void* data);
  69:../../libDaisy/src/hid/usb_host.h **** 
  70:../../libDaisy/src/hid/usb_host.h ****     /** @brief Configuration structure for interfacing with USB host Driver */
  71:../../libDaisy/src/hid/usb_host.h ****     struct Config
  72:../../libDaisy/src/hid/usb_host.h ****     {
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 47


  73:../../libDaisy/src/hid/usb_host.h ****         Config()
 1095              		.loc 13 73 9 view .LVU244
 1096              	.LBE541:
 274:SYNTHMACHINE.cpp **** 
 1097              		.loc 7 274 17 is_stmt 0 view .LVU245
 1098 0064 AE48     		ldr	r0, .L113+32
 1099              	.LVL69:
 270:SYNTHMACHINE.cpp ****     usbhConfig.disconnect_callback = USBH_Disconnect;
 1100              		.loc 7 270 33 view .LVU246
 1101 0066 1093     		str	r3, [sp, #64]
 271:SYNTHMACHINE.cpp ****     usbhConfig.class_active_callback = USBH_ClassActive;
 1102              		.loc 7 271 36 view .LVU247
 1103 0068 AE4B     		ldr	r3, .L113+36
 1104              	.LBB544:
 1105              	.LBB542:
 1106              	.LBB543:
  74:../../libDaisy/src/hid/usb_host.h ****         : connect_callback(nullptr),
  75:../../libDaisy/src/hid/usb_host.h ****           disconnect_callback(nullptr),
  76:../../libDaisy/src/hid/usb_host.h ****           class_active_callback(nullptr),
  77:../../libDaisy/src/hid/usb_host.h ****           error_callback(nullptr),
  78:../../libDaisy/src/hid/usb_host.h ****           userdata(nullptr)
 1107              		.loc 13 78 27 view .LVU248
 1108 006a 1494     		str	r4, [sp, #80]
 1109              	.LVL70:
 1110              		.loc 13 78 27 view .LVU249
 1111              	.LBE543:
 1112              	.LBE542:
 1113              	.LBE544:
 270:SYNTHMACHINE.cpp ****     usbhConfig.disconnect_callback = USBH_Disconnect;
 1114              		.loc 7 270 5 is_stmt 1 view .LVU250
 271:SYNTHMACHINE.cpp ****     usbhConfig.class_active_callback = USBH_ClassActive;
 1115              		.loc 7 271 5 view .LVU251
 271:SYNTHMACHINE.cpp ****     usbhConfig.class_active_callback = USBH_ClassActive;
 1116              		.loc 7 271 36 is_stmt 0 view .LVU252
 1117 006c 1193     		str	r3, [sp, #68]
 272:SYNTHMACHINE.cpp ****     usbhConfig.error_callback = USBH_Error;
 1118              		.loc 7 272 5 is_stmt 1 view .LVU253
 272:SYNTHMACHINE.cpp ****     usbhConfig.error_callback = USBH_Error;
 1119              		.loc 7 272 38 is_stmt 0 view .LVU254
 1120 006e AE4B     		ldr	r3, .L113+40
 1121 0070 1293     		str	r3, [sp, #72]
 273:SYNTHMACHINE.cpp ****     usbHost.Init(usbhConfig);
 1122              		.loc 7 273 5 is_stmt 1 view .LVU255
 273:SYNTHMACHINE.cpp ****     usbHost.Init(usbhConfig);
 1123              		.loc 7 273 31 is_stmt 0 view .LVU256
 1124 0072 AE4B     		ldr	r3, .L113+44
 1125 0074 1393     		str	r3, [sp, #76]
 274:SYNTHMACHINE.cpp **** 
 1126              		.loc 7 274 5 is_stmt 1 view .LVU257
 274:SYNTHMACHINE.cpp **** 
 1127              		.loc 7 274 17 is_stmt 0 view .LVU258
 1128 0076 FFF7FEFF 		bl	_ZN5daisy13USBHostHandle4InitERNS0_6ConfigE
 1129              	.LVL71:
 276:SYNTHMACHINE.cpp **** 
 1130              		.loc 7 276 5 is_stmt 1 view .LVU259
 276:SYNTHMACHINE.cpp **** 
 1131              		.loc 7 276 26 is_stmt 0 view .LVU260
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 48


 1132 007a AD49     		ldr	r1, .L113+48
 1133 007c A848     		ldr	r0, .L113+32
 1134 007e FFF7FEFF 		bl	_ZN5daisy13USBHostHandle13RegisterClassEP17USBH_ClassTypeDef
 1135              	.LVL72:
 278:SYNTHMACHINE.cpp ****     float log_time = 0;
 1136              		.loc 7 278 5 is_stmt 1 view .LVU261
 279:SYNTHMACHINE.cpp ****     float blink_time = 0;
 1137              		.loc 7 279 5 view .LVU262
 280:SYNTHMACHINE.cpp ****     bool ledState = false;
 1138              		.loc 7 280 5 view .LVU263
 281:SYNTHMACHINE.cpp ****     float I2C_Signal_Clock = 0;
 1139              		.loc 7 281 5 view .LVU264
 1140              		.loc 7 282 5 view .LVU265
 283:SYNTHMACHINE.cpp ****     uint8_t LED_INTER = 50;
 1141              		.loc 7 283 5 view .LVU266
 284:SYNTHMACHINE.cpp **** 
 285:SYNTHMACHINE.cpp ****     //hw.PrintLine("MIDI USB Host initialized");
 286:SYNTHMACHINE.cpp **** 
 287:SYNTHMACHINE.cpp ****     //configure the peripheral
 288:SYNTHMACHINE.cpp ****     I2CHandle::Config _i2c_config;
 1142              		.loc 7 288 5 view .LVU267
 1143              	.LBB545:
 1144              	.LBI545:
 1145              		.file 14 "../../libDaisy/src/per/i2c.h"
   1:../../libDaisy/src/per/i2c.h **** #pragma once
   2:../../libDaisy/src/per/i2c.h **** #include "util/hal_map.h"
   3:../../libDaisy/src/per/i2c.h **** #include "daisy_core.h"
   4:../../libDaisy/src/per/i2c.h **** 
   5:../../libDaisy/src/per/i2c.h **** namespace daisy
   6:../../libDaisy/src/per/i2c.h **** {
   7:../../libDaisy/src/per/i2c.h **** /** A handle for interacting with an I2C peripheral. This is a dumb
   8:../../libDaisy/src/per/i2c.h ****  *  gateway that internally points to one of the four I2C peripherals
   9:../../libDaisy/src/per/i2c.h ****  *  after it was initialised. It can then be copied and passed around.
  10:../../libDaisy/src/per/i2c.h ****  *  Use an I2CHandle like this:
  11:../../libDaisy/src/per/i2c.h ****  *  
  12:../../libDaisy/src/per/i2c.h ****  *      // setup the configuration
  13:../../libDaisy/src/per/i2c.h ****  *      I2CHandle::Config i2c_conf;
  14:../../libDaisy/src/per/i2c.h ****  *      i2c_conf.periph = I2CHandle::Config::Peripheral::I2C_1;
  15:../../libDaisy/src/per/i2c.h ****  *      i2c_conf.speed  = I2CHandle::Config::Speed::I2C_400KHZ;
  16:../../libDaisy/src/per/i2c.h ****  *      i2c_conf.mode   = I2CHandle::Config::Mode::Master;
  17:../../libDaisy/src/per/i2c.h ****  *      i2c_conf.pin_config.scl  = {DSY_GPIOB, 8};
  18:../../libDaisy/src/per/i2c.h ****  *      i2c_conf.pin_config.sda  = {DSY_GPIOB, 9};
  19:../../libDaisy/src/per/i2c.h ****  *      // initialise the peripheral
  20:../../libDaisy/src/per/i2c.h ****  *      I2CHandle i2c;
  21:../../libDaisy/src/per/i2c.h ****  *      i2c.Init(i2c_conf);
  22:../../libDaisy/src/per/i2c.h ****  *      // now i2c points to the corresponding peripheral and can be used.
  23:../../libDaisy/src/per/i2c.h ****  *      i2c.TransmitBlocking( ... );
  24:../../libDaisy/src/per/i2c.h ****  */
  25:../../libDaisy/src/per/i2c.h **** class I2CHandle
  26:../../libDaisy/src/per/i2c.h **** {
  27:../../libDaisy/src/per/i2c.h ****   public:
  28:../../libDaisy/src/per/i2c.h ****     /** Contains settings for initialising an I2C interface. */
  29:../../libDaisy/src/per/i2c.h ****     struct Config
 1146              		.loc 14 29 12 view .LVU268
 1147              	.LBB546:
 1148              	.LBB547:
 1149              	.LBI547:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 49


  30:../../libDaisy/src/per/i2c.h ****     {
  31:../../libDaisy/src/per/i2c.h ****         /** Specifies whether the interface will operate in master or slave mode. */
  32:../../libDaisy/src/per/i2c.h ****         enum class Mode
  33:../../libDaisy/src/per/i2c.h ****         {
  34:../../libDaisy/src/per/i2c.h ****             I2C_MASTER,
  35:../../libDaisy/src/per/i2c.h ****             I2C_SLAVE,
  36:../../libDaisy/src/per/i2c.h ****         };
  37:../../libDaisy/src/per/i2c.h **** 
  38:../../libDaisy/src/per/i2c.h ****         /** Specifices the internal peripheral to use (these are mapped to different pins on the ha
  39:../../libDaisy/src/per/i2c.h ****         enum class Peripheral
  40:../../libDaisy/src/per/i2c.h ****         {
  41:../../libDaisy/src/per/i2c.h ****             I2C_1 = 0, /**< & */
  42:../../libDaisy/src/per/i2c.h ****             I2C_2,     /**< & */
  43:../../libDaisy/src/per/i2c.h ****             I2C_3,     /**< & */
  44:../../libDaisy/src/per/i2c.h ****             I2C_4,     /**< & */
  45:../../libDaisy/src/per/i2c.h ****         };
  46:../../libDaisy/src/per/i2c.h **** 
  47:../../libDaisy/src/per/i2c.h ****         /** Rate at which the clock/data will be sent/received. The device being used will have max
  48:../../libDaisy/src/per/i2c.h ****          *  1MHZ Mode is currently 886kHz
  49:../../libDaisy/src/per/i2c.h ****          */
  50:../../libDaisy/src/per/i2c.h ****         enum class Speed
  51:../../libDaisy/src/per/i2c.h ****         {
  52:../../libDaisy/src/per/i2c.h ****             I2C_100KHZ, /**< & */
  53:../../libDaisy/src/per/i2c.h ****             I2C_400KHZ, /**< & */
  54:../../libDaisy/src/per/i2c.h ****             I2C_1MHZ,   /**< & */
  55:../../libDaisy/src/per/i2c.h ****         };
  56:../../libDaisy/src/per/i2c.h **** 
  57:../../libDaisy/src/per/i2c.h ****         Peripheral periph; /**< & */
  58:../../libDaisy/src/per/i2c.h ****         struct
  59:../../libDaisy/src/per/i2c.h ****         {
 1150              		.loc 14 59 9 view .LVU269
 1151              	.LBB548:
 1152              	.LBI548:
 1153              		.file 15 "../../libDaisy/src/daisy_core.h"
   1:../../libDaisy/src/daisy_core.h **** #pragma once
   2:../../libDaisy/src/daisy_core.h **** #ifndef DSY_CORE_HW_H
   3:../../libDaisy/src/daisy_core.h **** #define DSY_CORE_HW_H /**< & */
   4:../../libDaisy/src/daisy_core.h **** #include <stdint.h>
   5:../../libDaisy/src/daisy_core.h **** #include <stdlib.h>
   6:../../libDaisy/src/daisy_core.h **** 
   7:../../libDaisy/src/daisy_core.h **** #if defined(_MSC_VER)
   8:../../libDaisy/src/daisy_core.h **** #define FORCE_INLINE __forceinline /**< & */
   9:../../libDaisy/src/daisy_core.h **** #elif defined(__clang__)
  10:../../libDaisy/src/daisy_core.h **** #define FORCE_INLINE inline __attribute__((always_inline)) /**< & */
  11:../../libDaisy/src/daisy_core.h **** #pragma clang diagnostic ignored "-Wduplicate-decl-specifier"
  12:../../libDaisy/src/daisy_core.h **** #elif defined(__GNUC__)
  13:../../libDaisy/src/daisy_core.h **** #define FORCE_INLINE inline __attribute__((always_inline)) /**< & */
  14:../../libDaisy/src/daisy_core.h **** #else
  15:../../libDaisy/src/daisy_core.h **** #error unknown compiler
  16:../../libDaisy/src/daisy_core.h **** #endif
  17:../../libDaisy/src/daisy_core.h **** 
  18:../../libDaisy/src/daisy_core.h **** /** @addtogroup utility
  19:../../libDaisy/src/daisy_core.h ****     @{
  20:../../libDaisy/src/daisy_core.h **** */
  21:../../libDaisy/src/daisy_core.h **** 
  22:../../libDaisy/src/daisy_core.h **** /** Macro for area of memory that is configured as cacheless
  23:../../libDaisy/src/daisy_core.h **** This should be used primarily for DMA buffers, and the like.
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 50


  24:../../libDaisy/src/daisy_core.h **** */
  25:../../libDaisy/src/daisy_core.h **** #define DMA_BUFFER_MEM_SECTION __attribute__((section(".sram1_bss")))
  26:../../libDaisy/src/daisy_core.h **** /** 
  27:../../libDaisy/src/daisy_core.h **** THE DTCM RAM section is also non-cached. However, is not suitable 
  28:../../libDaisy/src/daisy_core.h **** for DMA transfers. Performance is on par with internal SRAM w/ 
  29:../../libDaisy/src/daisy_core.h **** cache enabled.
  30:../../libDaisy/src/daisy_core.h **** */
  31:../../libDaisy/src/daisy_core.h **** #define DTCM_MEM_SECTION __attribute__((section(".dtcmram_bss")))
  32:../../libDaisy/src/daisy_core.h **** 
  33:../../libDaisy/src/daisy_core.h **** #define FBIPMAX 0.999985f             /**< close to 1.0f-LSB at 16 bit */
  34:../../libDaisy/src/daisy_core.h **** #define FBIPMIN (-FBIPMAX)            /**< - (1 - LSB) */
  35:../../libDaisy/src/daisy_core.h **** #define U82F_SCALE 0.0078740f         /**< 1 / 127 */
  36:../../libDaisy/src/daisy_core.h **** #define F2U8_SCALE 127.0f             /**< 128 - 1 */
  37:../../libDaisy/src/daisy_core.h **** #define S82F_SCALE 0.0078125f         /**< 1 / (2**7) */
  38:../../libDaisy/src/daisy_core.h **** #define F2S8_SCALE 127.0f             /**< (2 ** 7) - 1 */
  39:../../libDaisy/src/daisy_core.h **** #define S162F_SCALE 3.0517578125e-05f /**< 1 / (2** 15) */
  40:../../libDaisy/src/daisy_core.h **** #define F2S16_SCALE 32767.0f          /**< (2 ** 15) - 1 */
  41:../../libDaisy/src/daisy_core.h **** #define F2S24_SCALE 8388608.0f        /**< 2 ** 23 */
  42:../../libDaisy/src/daisy_core.h **** #define S242F_SCALE 1.192092896e-07f  /**< 1 / (2 ** 23) */
  43:../../libDaisy/src/daisy_core.h **** #define S24SIGN 0x800000              /**< 2 ** 23 */
  44:../../libDaisy/src/daisy_core.h **** #define S322F_SCALE 4.6566129e-10f    /**< 1 / (2** 31) */
  45:../../libDaisy/src/daisy_core.h **** #define F2S32_SCALE 2147483647.f      /**< (2 ** 31) - 1 */
  46:../../libDaisy/src/daisy_core.h **** 
  47:../../libDaisy/src/daisy_core.h **** 
  48:../../libDaisy/src/daisy_core.h **** /** shorthand macro for simplifying the reading of the left 
  49:../../libDaisy/src/daisy_core.h ****  *  channel of a non-interleaved output buffer named out */
  50:../../libDaisy/src/daisy_core.h **** #define OUT_L out[0]
  51:../../libDaisy/src/daisy_core.h **** 
  52:../../libDaisy/src/daisy_core.h **** /** shorthand macro for simplifying the reading of the right 
  53:../../libDaisy/src/daisy_core.h ****  *  channel of a non-interleaved output buffer named out */
  54:../../libDaisy/src/daisy_core.h **** #define OUT_R out[1]
  55:../../libDaisy/src/daisy_core.h **** 
  56:../../libDaisy/src/daisy_core.h **** /** shorthand macro for simplifying the reading of the left 
  57:../../libDaisy/src/daisy_core.h ****  *  channel of a non-interleaved input buffer named in */
  58:../../libDaisy/src/daisy_core.h **** #define IN_L in[0]
  59:../../libDaisy/src/daisy_core.h **** 
  60:../../libDaisy/src/daisy_core.h **** /** shorthand macro for simplifying the reading of the right 
  61:../../libDaisy/src/daisy_core.h ****  *  channel of a non-interleaved input buffer named in */
  62:../../libDaisy/src/daisy_core.h **** #define IN_R in[1]
  63:../../libDaisy/src/daisy_core.h **** 
  64:../../libDaisy/src/daisy_core.h **** /** 
  65:../../libDaisy/src/daisy_core.h ****     Computes cube.
  66:../../libDaisy/src/daisy_core.h ****     \param x Number to be cubed
  67:../../libDaisy/src/daisy_core.h ****     \return x ^ 3
  68:../../libDaisy/src/daisy_core.h **** */
  69:../../libDaisy/src/daisy_core.h **** FORCE_INLINE float cube(float x)
  70:../../libDaisy/src/daisy_core.h **** {
  71:../../libDaisy/src/daisy_core.h ****     return (x * x) * x;
  72:../../libDaisy/src/daisy_core.h **** }
  73:../../libDaisy/src/daisy_core.h **** 
  74:../../libDaisy/src/daisy_core.h **** /** 
  75:../../libDaisy/src/daisy_core.h ****     Converts unsigned 8-bit to float
  76:../../libDaisy/src/daisy_core.h ****     \param x Number to be scaled.
  77:../../libDaisy/src/daisy_core.h ****     \return Scaled number.
  78:../../libDaisy/src/daisy_core.h **** */
  79:../../libDaisy/src/daisy_core.h **** FORCE_INLINE float u82f(uint8_t x)
  80:../../libDaisy/src/daisy_core.h **** {
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 51


  81:../../libDaisy/src/daisy_core.h ****     return ((float)x - 127.f) * U82F_SCALE;
  82:../../libDaisy/src/daisy_core.h **** }
  83:../../libDaisy/src/daisy_core.h **** 
  84:../../libDaisy/src/daisy_core.h **** /**
  85:../../libDaisy/src/daisy_core.h ****     Converts float to unsigned 8-bit
  86:../../libDaisy/src/daisy_core.h **** */
  87:../../libDaisy/src/daisy_core.h **** FORCE_INLINE uint8_t f2u8(float x)
  88:../../libDaisy/src/daisy_core.h **** {
  89:../../libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
  90:../../libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
  91:../../libDaisy/src/daisy_core.h ****     return (uint8_t)((x * F2U8_SCALE) + F2U8_SCALE);
  92:../../libDaisy/src/daisy_core.h **** }
  93:../../libDaisy/src/daisy_core.h **** 
  94:../../libDaisy/src/daisy_core.h **** 
  95:../../libDaisy/src/daisy_core.h **** /** 
  96:../../libDaisy/src/daisy_core.h ****     Converts Signed 8-bit to float
  97:../../libDaisy/src/daisy_core.h ****     \param x Number to be scaled.
  98:../../libDaisy/src/daisy_core.h ****     \return Scaled number.
  99:../../libDaisy/src/daisy_core.h **** */
 100:../../libDaisy/src/daisy_core.h **** FORCE_INLINE float s82f(int8_t x)
 101:../../libDaisy/src/daisy_core.h **** {
 102:../../libDaisy/src/daisy_core.h ****     return (float)x * S82F_SCALE;
 103:../../libDaisy/src/daisy_core.h **** }
 104:../../libDaisy/src/daisy_core.h **** 
 105:../../libDaisy/src/daisy_core.h **** /**
 106:../../libDaisy/src/daisy_core.h ****     Converts float to Signed 8-bit
 107:../../libDaisy/src/daisy_core.h **** */
 108:../../libDaisy/src/daisy_core.h **** FORCE_INLINE int8_t f2s8(float x)
 109:../../libDaisy/src/daisy_core.h **** {
 110:../../libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
 111:../../libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
 112:../../libDaisy/src/daisy_core.h ****     return (int32_t)(x * F2S8_SCALE);
 113:../../libDaisy/src/daisy_core.h **** }
 114:../../libDaisy/src/daisy_core.h **** 
 115:../../libDaisy/src/daisy_core.h **** /** 
 116:../../libDaisy/src/daisy_core.h ****     Converts Signed 16-bit to float
 117:../../libDaisy/src/daisy_core.h ****     \param x Number to be scaled.
 118:../../libDaisy/src/daisy_core.h ****     \return Scaled number.
 119:../../libDaisy/src/daisy_core.h **** */
 120:../../libDaisy/src/daisy_core.h **** FORCE_INLINE float s162f(int16_t x)
 121:../../libDaisy/src/daisy_core.h **** {
 122:../../libDaisy/src/daisy_core.h ****     return (float)x * S162F_SCALE;
 123:../../libDaisy/src/daisy_core.h **** }
 124:../../libDaisy/src/daisy_core.h **** 
 125:../../libDaisy/src/daisy_core.h **** /**
 126:../../libDaisy/src/daisy_core.h ****     Converts float to Signed 16-bit
 127:../../libDaisy/src/daisy_core.h **** */
 128:../../libDaisy/src/daisy_core.h **** FORCE_INLINE int16_t f2s16(float x)
 129:../../libDaisy/src/daisy_core.h **** {
 130:../../libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
 131:../../libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
 132:../../libDaisy/src/daisy_core.h ****     return (int32_t)(x * F2S16_SCALE);
 133:../../libDaisy/src/daisy_core.h **** }
 134:../../libDaisy/src/daisy_core.h **** 
 135:../../libDaisy/src/daisy_core.h **** /**
 136:../../libDaisy/src/daisy_core.h ****     Converts Signed 24-bit to float
 137:../../libDaisy/src/daisy_core.h ****  */
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 52


 138:../../libDaisy/src/daisy_core.h **** FORCE_INLINE float s242f(int32_t x)
 139:../../libDaisy/src/daisy_core.h **** {
 140:../../libDaisy/src/daisy_core.h ****     x = (x ^ S24SIGN) - S24SIGN; //sign extend aka ((x<<8)>>8)
 141:../../libDaisy/src/daisy_core.h ****     return (float)x * S242F_SCALE;
 142:../../libDaisy/src/daisy_core.h **** }
 143:../../libDaisy/src/daisy_core.h **** /**
 144:../../libDaisy/src/daisy_core.h ****     Converts float to Signed 24-bit
 145:../../libDaisy/src/daisy_core.h ****  */
 146:../../libDaisy/src/daisy_core.h **** FORCE_INLINE int32_t f2s24(float x)
 147:../../libDaisy/src/daisy_core.h **** {
 148:../../libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
 149:../../libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
 150:../../libDaisy/src/daisy_core.h ****     return (int32_t)(x * F2S24_SCALE);
 151:../../libDaisy/src/daisy_core.h **** }
 152:../../libDaisy/src/daisy_core.h **** 
 153:../../libDaisy/src/daisy_core.h **** /**
 154:../../libDaisy/src/daisy_core.h ****     Converts Signed 32-bit to float
 155:../../libDaisy/src/daisy_core.h ****  */
 156:../../libDaisy/src/daisy_core.h **** FORCE_INLINE float s322f(int32_t x)
 157:../../libDaisy/src/daisy_core.h **** {
 158:../../libDaisy/src/daisy_core.h ****     return (float)x * S322F_SCALE;
 159:../../libDaisy/src/daisy_core.h **** }
 160:../../libDaisy/src/daisy_core.h **** /**
 161:../../libDaisy/src/daisy_core.h ****     Converts float to Signed 24-bit
 162:../../libDaisy/src/daisy_core.h ****  */
 163:../../libDaisy/src/daisy_core.h **** FORCE_INLINE int32_t f2s32(float x)
 164:../../libDaisy/src/daisy_core.h **** {
 165:../../libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
 166:../../libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
 167:../../libDaisy/src/daisy_core.h ****     return (int32_t)(x * F2S32_SCALE);
 168:../../libDaisy/src/daisy_core.h **** }
 169:../../libDaisy/src/daisy_core.h **** 
 170:../../libDaisy/src/daisy_core.h **** #ifdef __cplusplus
 171:../../libDaisy/src/daisy_core.h **** 
 172:../../libDaisy/src/daisy_core.h **** namespace daisy
 173:../../libDaisy/src/daisy_core.h **** {
 174:../../libDaisy/src/daisy_core.h **** /** @brief GPIO Port names */
 175:../../libDaisy/src/daisy_core.h **** enum GPIOPort
 176:../../libDaisy/src/daisy_core.h **** {
 177:../../libDaisy/src/daisy_core.h ****     PORTA, /**< Port A */
 178:../../libDaisy/src/daisy_core.h ****     PORTB, /**< Port B */
 179:../../libDaisy/src/daisy_core.h ****     PORTC, /**< Port C */
 180:../../libDaisy/src/daisy_core.h ****     PORTD, /**< Port D */
 181:../../libDaisy/src/daisy_core.h ****     PORTE, /**< Port E */
 182:../../libDaisy/src/daisy_core.h ****     PORTF, /**< Port F */
 183:../../libDaisy/src/daisy_core.h ****     PORTG, /**< Port G */
 184:../../libDaisy/src/daisy_core.h ****     PORTH, /**< Port H */
 185:../../libDaisy/src/daisy_core.h ****     PORTI, /**< Port I */
 186:../../libDaisy/src/daisy_core.h ****     PORTJ, /**< Port J */
 187:../../libDaisy/src/daisy_core.h ****     PORTK, /**< Port K */
 188:../../libDaisy/src/daisy_core.h ****     PORTX, /**< Used as a dummy port to signal an invalid pin. */
 189:../../libDaisy/src/daisy_core.h **** };
 190:../../libDaisy/src/daisy_core.h **** 
 191:../../libDaisy/src/daisy_core.h **** /** @brief representation of hardware port/pin combination */
 192:../../libDaisy/src/daisy_core.h **** struct Pin
 193:../../libDaisy/src/daisy_core.h **** {
 194:../../libDaisy/src/daisy_core.h ****     GPIOPort port;
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 53


 195:../../libDaisy/src/daisy_core.h ****     uint8_t  pin;
 196:../../libDaisy/src/daisy_core.h **** 
 197:../../libDaisy/src/daisy_core.h ****     /** @brief Constructor creates a valid pin. 
 198:../../libDaisy/src/daisy_core.h ****      *  @param pt GPIOPort between PA, and PK corresponding to STM32 Port.
 199:../../libDaisy/src/daisy_core.h ****      *  @param pn pin number in range of 0-15
 200:../../libDaisy/src/daisy_core.h ****     */
 201:../../libDaisy/src/daisy_core.h ****     constexpr Pin(const GPIOPort pt, const uint8_t pn) : port(pt), pin(pn) {}
 202:../../libDaisy/src/daisy_core.h **** 
 203:../../libDaisy/src/daisy_core.h ****     /** @brief Basic Constructor creates an invalid Pin object */
 204:../../libDaisy/src/daisy_core.h ****     constexpr Pin() : port(PORTX), pin(255) {}
 1154              		.loc 15 204 15 view .LVU270
 1155              		.loc 15 204 15 is_stmt 0 view .LVU271
 1156              	.LBE548:
 1157              	.LBB549:
 1158              	.LBI549:
 1159              		.loc 15 204 15 is_stmt 1 view .LVU272
 1160              		.loc 15 204 15 is_stmt 0 view .LVU273
 1161              	.LBE549:
 1162              	.LBE547:
 1163              	.LBE546:
 1164              	.LBE545:
 289:SYNTHMACHINE.cpp ****     _i2c_config.periph = I2CHandle::Config::Peripheral::I2C_1;
 290:SYNTHMACHINE.cpp ****     _i2c_config.speed  = I2CHandle::Config::Speed::I2C_400KHZ;
 291:SYNTHMACHINE.cpp ****     _i2c_config.mode   = I2CHandle::Config::Mode::I2C_MASTER;
 292:SYNTHMACHINE.cpp ****     _i2c_config.pin_config.scl  = seed::D11;
 1165              		.loc 7 292 33 view .LVU274
 1166 0082 AC4A     		ldr	r2, .L113+52
 1167              	.LBB552:
 1168              	.LBB550:
  29:../../libDaisy/src/per/i2c.h ****     {
 1169              		.loc 14 29 12 view .LVU275
 1170 0084 1023     		movs	r3, #16
 1171              	.LBE550:
 1172              	.LBE552:
 293:SYNTHMACHINE.cpp ****     _i2c_config.pin_config.sda  = seed::D12;
 294:SYNTHMACHINE.cpp ****     // Address not needed for controller!
 295:SYNTHMACHINE.cpp **** 
 296:SYNTHMACHINE.cpp ****     // initialise the peripheral
 297:SYNTHMACHINE.cpp ****     I2CHandle _i2c;
 298:SYNTHMACHINE.cpp ****     _i2c.Init(_i2c_config);
 1173              		.loc 7 298 14 view .LVU276
 1174 0086 15A9     		add	r1, sp, #84
 1175              	.LVL73:
 292:SYNTHMACHINE.cpp ****     _i2c_config.pin_config.sda  = seed::D12;
 1176              		.loc 7 292 33 view .LVU277
 1177 0088 1288     		ldrh	r2, [r2]
 1178              		.loc 7 298 14 view .LVU278
 1179 008a 08A8     		add	r0, sp, #32
 1180              	.LBB553:
 1181              	.LBB551:
  29:../../libDaisy/src/per/i2c.h ****     {
 1182              		.loc 14 29 12 view .LVU279
 1183 008c 8DF86430 		strb	r3, [sp, #100]
 1184              	.LVL74:
  29:../../libDaisy/src/per/i2c.h ****     {
 1185              		.loc 14 29 12 view .LVU280
 1186              	.LBE551:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 54


 1187              	.LBE553:
 289:SYNTHMACHINE.cpp ****     _i2c_config.speed  = I2CHandle::Config::Speed::I2C_400KHZ;
 1188              		.loc 7 289 5 is_stmt 1 view .LVU281
 290:SYNTHMACHINE.cpp ****     _i2c_config.mode   = I2CHandle::Config::Mode::I2C_MASTER;
 1189              		.loc 7 290 5 view .LVU282
 291:SYNTHMACHINE.cpp ****     _i2c_config.pin_config.scl  = seed::D11;
 1190              		.loc 7 291 5 view .LVU283
 292:SYNTHMACHINE.cpp ****     _i2c_config.pin_config.sda  = seed::D12;
 1191              		.loc 7 292 5 view .LVU284
 290:SYNTHMACHINE.cpp ****     _i2c_config.mode   = I2CHandle::Config::Mode::I2C_MASTER;
 1192              		.loc 7 290 24 is_stmt 0 view .LVU285
 1193 0090 0123     		movs	r3, #1
 292:SYNTHMACHINE.cpp ****     _i2c_config.pin_config.sda  = seed::D12;
 1194              		.loc 7 292 33 view .LVU286
 1195 0092 ADF85820 		strh	r2, [sp, #88]	@ movhi
 293:SYNTHMACHINE.cpp ****     // Address not needed for controller!
 1196              		.loc 7 293 5 is_stmt 1 view .LVU287
 293:SYNTHMACHINE.cpp ****     // Address not needed for controller!
 1197              		.loc 7 293 33 is_stmt 0 view .LVU288
 1198 0096 A84A     		ldr	r2, .L113+56
 290:SYNTHMACHINE.cpp ****     _i2c_config.mode   = I2CHandle::Config::Mode::I2C_MASTER;
 1199              		.loc 7 290 24 view .LVU289
 1200 0098 1793     		str	r3, [sp, #92]
 293:SYNTHMACHINE.cpp ****     // Address not needed for controller!
 1201              		.loc 7 293 33 view .LVU290
 1202 009a 1288     		ldrh	r2, [r2]
 289:SYNTHMACHINE.cpp ****     _i2c_config.speed  = I2CHandle::Config::Speed::I2C_400KHZ;
 1203              		.loc 7 289 24 view .LVU291
 1204 009c 1594     		str	r4, [sp, #84]
 293:SYNTHMACHINE.cpp ****     // Address not needed for controller!
 1205              		.loc 7 293 33 view .LVU292
 1206 009e ADF85A20 		strh	r2, [sp, #90]	@ movhi
 297:SYNTHMACHINE.cpp ****     _i2c.Init(_i2c_config);
 1207              		.loc 7 297 5 is_stmt 1 view .LVU293
 1208              	.LVL75:
 1209              	.LBB554:
 1210              	.LBI554:
  60:../../libDaisy/src/per/i2c.h ****             Pin scl;  /**< & */
  61:../../libDaisy/src/per/i2c.h ****             Pin sda;  /**< & */
  62:../../libDaisy/src/per/i2c.h ****         } pin_config; /**< & */
  63:../../libDaisy/src/per/i2c.h **** 
  64:../../libDaisy/src/per/i2c.h ****         Speed speed; /**< & */
  65:../../libDaisy/src/per/i2c.h ****         Mode  mode;  /**< & */
  66:../../libDaisy/src/per/i2c.h ****         // 0x10 is chosen as a default to avoid conflicts with reserved addresses
  67:../../libDaisy/src/per/i2c.h ****         uint8_t address = 0x10; /**< & */
  68:../../libDaisy/src/per/i2c.h ****     };
  69:../../libDaisy/src/per/i2c.h **** 
  70:../../libDaisy/src/per/i2c.h ****     /** Return values for I2C functions. */
  71:../../libDaisy/src/per/i2c.h ****     enum class Result
  72:../../libDaisy/src/per/i2c.h ****     {
  73:../../libDaisy/src/per/i2c.h ****         OK, /**< & */
  74:../../libDaisy/src/per/i2c.h ****         ERR /**< & */
  75:../../libDaisy/src/per/i2c.h ****     };
  76:../../libDaisy/src/per/i2c.h **** 
  77:../../libDaisy/src/per/i2c.h ****     enum class Direction
  78:../../libDaisy/src/per/i2c.h ****     {
  79:../../libDaisy/src/per/i2c.h ****         TRANSMIT, /**< & */
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 55


  80:../../libDaisy/src/per/i2c.h ****         RECEIVE,  /**< & */
  81:../../libDaisy/src/per/i2c.h ****     };
  82:../../libDaisy/src/per/i2c.h **** 
  83:../../libDaisy/src/per/i2c.h ****     I2CHandle() : pimpl_(nullptr) {}
 1211              		.loc 14 83 5 view .LVU294
 1212              	.LBE554:
 291:SYNTHMACHINE.cpp ****     _i2c_config.pin_config.scl  = seed::D11;
 1213              		.loc 7 291 24 is_stmt 0 view .LVU295
 1214 00a2 1894     		str	r4, [sp, #96]
 1215              	.LBB557:
 1216              	.LBB555:
 1217              	.LBB556:
 1218              		.loc 14 83 33 view .LVU296
 1219 00a4 0894     		str	r4, [sp, #32]
 1220              	.LVL76:
 1221              		.loc 14 83 33 view .LVU297
 1222              	.LBE556:
 1223              	.LBE555:
 1224              	.LBE557:
 1225              		.loc 7 298 5 is_stmt 1 view .LVU298
 1226              		.loc 7 298 14 is_stmt 0 view .LVU299
 1227 00a6 FFF7FEFF 		bl	_ZN5daisy9I2CHandle4InitERKNS0_6ConfigE
 1228              	.LVL77:
 299:SYNTHMACHINE.cpp **** 
 300:SYNTHMACHINE.cpp ****     DAC_I2C_SET_VREF(0x60, 1, 1, 1, 1, &DAC_output_buffer[0], _i2c);
 1229              		.loc 7 300 5 is_stmt 1 view .LVU300
 1230              		.loc 7 300 5 is_stmt 0 view .LVU301
 1231 00aa 089A     		ldr	r2, [sp, #32]
 1232              	.LBB558:
 1233              	.LBB514:
 207:SYNTHMACHINE.cpp ****     if(Vref_Write_Result == I2CHandle::Result::OK) {
 1234              		.loc 7 207 58 view .LVU302
 1235 00ac 0123     		movs	r3, #1
 1236 00ae 6021     		movs	r1, #96
 1237 00b0 3EA8     		add	r0, sp, #248
 1238 00b2 3E92     		str	r2, [sp, #248]
 1239              	.LBE514:
 1240              	.LBI512:
 204:SYNTHMACHINE.cpp ****     //sets reference voltage for each channel, use at startup only, 0 = VDD, 1 = Internal Reference
 1241              		.loc 7 204 6 is_stmt 1 view .LVU303
 1242              	.LBB515:
 206:SYNTHMACHINE.cpp ****     I2CHandle::Result Vref_Write_Result = I2C.TransmitDma(DAC_Address, &output_buffer[0], 1, NULL, 
 1243              		.loc 7 206 5 view .LVU304
 206:SYNTHMACHINE.cpp ****     I2CHandle::Result Vref_Write_Result = I2C.TransmitDma(DAC_Address, &output_buffer[0], 1, NULL, 
 1244              		.loc 7 206 22 is_stmt 0 view .LVU305
 1245 00b4 8F22     		movs	r2, #143
 207:SYNTHMACHINE.cpp ****     if(Vref_Write_Result == I2CHandle::Result::OK) {
 1246              		.loc 7 207 58 view .LVU306
 1247 00b6 CDE90044 		strd	r4, r4, [sp]
 206:SYNTHMACHINE.cpp ****     I2CHandle::Result Vref_Write_Result = I2C.TransmitDma(DAC_Address, &output_buffer[0], 1, NULL, 
 1248              		.loc 7 206 22 view .LVU307
 1249 00ba 3270     		strb	r2, [r6]
 207:SYNTHMACHINE.cpp ****     if(Vref_Write_Result == I2CHandle::Result::OK) {
 1250              		.loc 7 207 5 is_stmt 1 view .LVU308
 207:SYNTHMACHINE.cpp ****     if(Vref_Write_Result == I2CHandle::Result::OK) {
 1251              		.loc 7 207 58 is_stmt 0 view .LVU309
 1252 00bc 3246     		mov	r2, r6
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 56


 1253 00be FFF7FEFF 		bl	_ZN5daisy9I2CHandle11TransmitDmaEtPhtPFvPvNS0_6ResultEES2_
 1254              	.LVL78:
 208:SYNTHMACHINE.cpp ****         //hw.PrintLine("OK TRANSMISSION VREF Write");
 1255              		.loc 7 208 5 is_stmt 1 view .LVU310
 208:SYNTHMACHINE.cpp ****         //hw.PrintLine("OK TRANSMISSION VREF Write");
 1256              		.loc 7 208 5 is_stmt 0 view .LVU311
 1257              	.LBE515:
 1258              	.LBE558:
 301:SYNTHMACHINE.cpp ****     DAC_I2C_SET_GAIN(0x60, 0, 0, 0, 0, &DAC_output_buffer[0], _i2c);
 1259              		.loc 7 301 5 is_stmt 1 view .LVU312
 1260              		.loc 7 301 5 is_stmt 0 view .LVU313
 1261 00c2 089A     		ldr	r2, [sp, #32]
 1262              	.LBB559:
 1263              	.LBB560:
 216:SYNTHMACHINE.cpp ****     if(Gain_Write_Result == I2CHandle::Result::OK) {
 1264              		.loc 7 216 58 view .LVU314
 1265 00c4 0123     		movs	r3, #1
 1266 00c6 6021     		movs	r1, #96
 1267 00c8 3E92     		str	r2, [sp, #248]
 1268              	.LBE560:
 1269              	.LBI559:
 213:SYNTHMACHINE.cpp ****     //sets gain for each channel, use at startup only, 0 = gain of 1 (0-2.048 V if Vref internal), 
 1270              		.loc 7 213 6 is_stmt 1 view .LVU315
 1271              	.LBB561:
 215:SYNTHMACHINE.cpp ****     I2CHandle::Result Gain_Write_Result = I2C.TransmitDma(DAC_Address, &output_buffer[0], 1, NULL, 
 1272              		.loc 7 215 5 view .LVU316
 215:SYNTHMACHINE.cpp ****     I2CHandle::Result Gain_Write_Result = I2C.TransmitDma(DAC_Address, &output_buffer[0], 1, NULL, 
 1273              		.loc 7 215 22 is_stmt 0 view .LVU317
 1274 00ca C022     		movs	r2, #192
 216:SYNTHMACHINE.cpp ****     if(Gain_Write_Result == I2CHandle::Result::OK) {
 1275              		.loc 7 216 58 view .LVU318
 1276 00cc 3EA8     		add	r0, sp, #248
 1277              	.LBE561:
 1278              	.LBE559:
 1279              	.LBB563:
 1280              	.LBB523:
 1281              	.LBB520:
 142:SYNTHMACHINE.cpp ****             AttackTime = AttackTime_Ext;
 1282              		.loc 7 142 132 view .LVU319
 1283 00ce 9B46     		mov	fp, r3
 1284              	.LBE520:
 1285              	.LBE523:
 1286              	.LBE563:
 1287              	.LBB564:
 1288              	.LBB562:
 216:SYNTHMACHINE.cpp ****     if(Gain_Write_Result == I2CHandle::Result::OK) {
 1289              		.loc 7 216 58 view .LVU320
 1290 00d0 CDE90044 		strd	r4, r4, [sp]
 215:SYNTHMACHINE.cpp ****     I2CHandle::Result Gain_Write_Result = I2C.TransmitDma(DAC_Address, &output_buffer[0], 1, NULL, 
 1291              		.loc 7 215 22 view .LVU321
 1292 00d4 3270     		strb	r2, [r6]
 216:SYNTHMACHINE.cpp ****     if(Gain_Write_Result == I2CHandle::Result::OK) {
 1293              		.loc 7 216 5 is_stmt 1 view .LVU322
 216:SYNTHMACHINE.cpp ****     if(Gain_Write_Result == I2CHandle::Result::OK) {
 1294              		.loc 7 216 58 is_stmt 0 view .LVU323
 1295 00d6 3246     		mov	r2, r6
 1296 00d8 FFF7FEFF 		bl	_ZN5daisy9I2CHandle11TransmitDmaEtPhtPFvPvNS0_6ResultEES2_
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 57


 1297              	.LVL79:
 217:SYNTHMACHINE.cpp ****         //hw.PrintLine("OK TRANSMISSION GAIN Write");
 1298              		.loc 7 217 5 is_stmt 1 view .LVU324
 217:SYNTHMACHINE.cpp ****         //hw.PrintLine("OK TRANSMISSION GAIN Write");
 1299              		.loc 7 217 5 is_stmt 0 view .LVU325
 1300              	.LBE562:
 1301              	.LBE564:
 302:SYNTHMACHINE.cpp **** 
 303:SYNTHMACHINE.cpp ****     uint16_t DAC_Channels[4] = {4095,3071,2047,1023};
 1302              		.loc 7 303 5 is_stmt 1 view .LVU326
 1303              	.LBB565:
 304:SYNTHMACHINE.cpp ****         uint8_t DAC_Multi_Channel_Params[4] = {0,0,0,0};
 305:SYNTHMACHINE.cpp **** 
 306:SYNTHMACHINE.cpp ****         for (uint8_t i = 0; i < 4; i++){
 307:SYNTHMACHINE.cpp ****             DAC_Multi_Channel_Params[i] = DAC_I2C_GENERATE_MULTI_CHANNEL_PARAMS(1,0,0,0);
 1304              		.loc 7 307 41 is_stmt 0 view .LVU327
 1305 00dc 8023     		movs	r3, #128
 1306 00de F8EE699A 		vcvt.f32.u32	s19, s19
 1307              	.LVL80:
 1308              		.loc 7 307 41 view .LVU328
 1309 00e2 964E     		ldr	r6, .L113+60
 1310 00e4 8DF82430 		strb	r3, [sp, #36]
 1311 00e8 8DF82530 		strb	r3, [sp, #37]
 1312 00ec 8DF82630 		strb	r3, [sp, #38]
 1313 00f0 8DF82730 		strb	r3, [sp, #39]
 1314              	.LBE565:
 303:SYNTHMACHINE.cpp ****         uint8_t DAC_Multi_Channel_Params[4] = {0,0,0,0};
 1315              		.loc 7 303 14 view .LVU329
 1316 00f4 40F6FF73 		movw	r3, #4095
 1317 00f8 ADF82830 		strh	r3, [sp, #40]	@ movhi
 1318 00fc 40F6FF33 		movw	r3, #3071
 1319 0100 ADF82A30 		strh	r3, [sp, #42]	@ movhi
 1320 0104 40F2FF73 		movw	r3, #2047
 1321 0108 ADF82C30 		strh	r3, [sp, #44]	@ movhi
 1322 010c 40F2FF33 		movw	r3, #1023
 1323 0110 ADF82E30 		strh	r3, [sp, #46]	@ movhi
 304:SYNTHMACHINE.cpp ****         uint8_t DAC_Multi_Channel_Params[4] = {0,0,0,0};
 1324              		.loc 7 304 9 is_stmt 1 view .LVU330
 306:SYNTHMACHINE.cpp ****             DAC_Multi_Channel_Params[i] = DAC_I2C_GENERATE_MULTI_CHANNEL_PARAMS(1,0,0,0);
 1325              		.loc 7 306 9 view .LVU331
 1326              	.LVL81:
 1327              	.LBB566:
 306:SYNTHMACHINE.cpp ****             DAC_Multi_Channel_Params[i] = DAC_I2C_GENERATE_MULTI_CHANNEL_PARAMS(1,0,0,0);
 1328              		.loc 7 306 31 view .LVU332
 1329              		.loc 7 307 13 view .LVU333
 1330              		.loc 7 307 13 is_stmt 0 view .LVU334
 1331              	.LBE566:
 183:SYNTHMACHINE.cpp ****     return top_bits;
 1332              		.loc 7 183 5 is_stmt 1 view .LVU335
 184:SYNTHMACHINE.cpp **** }
 1333              		.loc 7 184 5 view .LVU336
 1334              	.LBB567:
 306:SYNTHMACHINE.cpp ****             DAC_Multi_Channel_Params[i] = DAC_I2C_GENERATE_MULTI_CHANNEL_PARAMS(1,0,0,0);
 1335              		.loc 7 306 9 view .LVU337
 306:SYNTHMACHINE.cpp ****             DAC_Multi_Channel_Params[i] = DAC_I2C_GENERATE_MULTI_CHANNEL_PARAMS(1,0,0,0);
 1336              		.loc 7 306 31 view .LVU338
 1337              		.loc 7 307 13 view .LVU339
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 58


 1338              		.loc 7 307 13 is_stmt 0 view .LVU340
 1339              	.LBE567:
 183:SYNTHMACHINE.cpp ****     return top_bits;
 1340              		.loc 7 183 5 is_stmt 1 view .LVU341
 184:SYNTHMACHINE.cpp **** }
 1341              		.loc 7 184 5 view .LVU342
 1342              	.LBB568:
 306:SYNTHMACHINE.cpp ****             DAC_Multi_Channel_Params[i] = DAC_I2C_GENERATE_MULTI_CHANNEL_PARAMS(1,0,0,0);
 1343              		.loc 7 306 9 view .LVU343
 306:SYNTHMACHINE.cpp ****             DAC_Multi_Channel_Params[i] = DAC_I2C_GENERATE_MULTI_CHANNEL_PARAMS(1,0,0,0);
 1344              		.loc 7 306 31 view .LVU344
 1345              		.loc 7 307 13 view .LVU345
 1346              		.loc 7 307 13 is_stmt 0 view .LVU346
 1347              	.LBE568:
 183:SYNTHMACHINE.cpp ****     return top_bits;
 1348              		.loc 7 183 5 is_stmt 1 view .LVU347
 184:SYNTHMACHINE.cpp **** }
 1349              		.loc 7 184 5 view .LVU348
 1350              	.LBB569:
 306:SYNTHMACHINE.cpp ****             DAC_Multi_Channel_Params[i] = DAC_I2C_GENERATE_MULTI_CHANNEL_PARAMS(1,0,0,0);
 1351              		.loc 7 306 9 view .LVU349
 306:SYNTHMACHINE.cpp ****             DAC_Multi_Channel_Params[i] = DAC_I2C_GENERATE_MULTI_CHANNEL_PARAMS(1,0,0,0);
 1352              		.loc 7 306 31 view .LVU350
 1353              		.loc 7 307 13 view .LVU351
 1354              		.loc 7 307 13 is_stmt 0 view .LVU352
 1355              	.LBE569:
 183:SYNTHMACHINE.cpp ****     return top_bits;
 1356              		.loc 7 183 5 is_stmt 1 view .LVU353
 184:SYNTHMACHINE.cpp **** }
 1357              		.loc 7 184 5 view .LVU354
 1358              	.LBB570:
 306:SYNTHMACHINE.cpp ****             DAC_Multi_Channel_Params[i] = DAC_I2C_GENERATE_MULTI_CHANNEL_PARAMS(1,0,0,0);
 1359              		.loc 7 306 9 view .LVU355
 306:SYNTHMACHINE.cpp ****             DAC_Multi_Channel_Params[i] = DAC_I2C_GENERATE_MULTI_CHANNEL_PARAMS(1,0,0,0);
 1360              		.loc 7 306 31 view .LVU356
 1361              	.LBE570:
 308:SYNTHMACHINE.cpp ****         }
 309:SYNTHMACHINE.cpp **** 
 310:SYNTHMACHINE.cpp ****     /** initialize sine wave osc
 311:SYNTHMACHINE.cpp ****     Oscillator sine_osc;
 312:SYNTHMACHINE.cpp ****     sine_osc.Init(I2C_SAMPLE_RATE);
 313:SYNTHMACHINE.cpp ****     sine_osc.SetFreq(100);
 314:SYNTHMACHINE.cpp ****     sine_osc.SetWaveform(sine_osc.WAVE_SIN);
 315:SYNTHMACHINE.cpp ****     sine_osc.SetAmp(1.0f);
 316:SYNTHMACHINE.cpp ****     
 317:SYNTHMACHINE.cpp ****     float sample = 0;
 318:SYNTHMACHINE.cpp ****     */
 319:SYNTHMACHINE.cpp ****     
 320:SYNTHMACHINE.cpp ****     //initialize envelope
 321:SYNTHMACHINE.cpp ****     CustomAdsr VolumeEnv(I2C_SAMPLE_RATE,0.1,0.1,0.5,0.1);
 1362              		.loc 7 321 5 view .LVU357
 1363              	.LBB571:
 1364              	.LBI516:
 142:SYNTHMACHINE.cpp ****             AttackTime = AttackTime_Ext;
 1365              		.loc 7 142 9 view .LVU358
 1366              	.LBB524:
 1367              	.LBB521:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 59


 143:SYNTHMACHINE.cpp ****             DecayTime = DecayTime_Ext;
 1368              		.loc 7 143 13 view .LVU359
 144:SYNTHMACHINE.cpp ****             SustainPoint = SustainPoint_Ext;
 1369              		.loc 7 144 13 view .LVU360
 145:SYNTHMACHINE.cpp ****             ReleaseTime = ReleaseTime_Ext;
 1370              		.loc 7 145 13 view .LVU361
 146:SYNTHMACHINE.cpp ****             sample_rate = Sample_Rate_Ext;
 1371              		.loc 7 146 13 view .LVU362
 147:SYNTHMACHINE.cpp ****         }
 1372              		.loc 7 147 13 view .LVU363
 142:SYNTHMACHINE.cpp ****             AttackTime = AttackTime_Ext;
 1373              		.loc 7 142 132 is_stmt 0 view .LVU364
 1374 0114 0323     		movs	r3, #3
 1375 0116 0493     		str	r3, [sp, #16]
 1376              	.LVL82:
 1377              	.L48:
 142:SYNTHMACHINE.cpp ****             AttackTime = AttackTime_Ext;
 1378              		.loc 7 142 132 view .LVU365
 1379              	.LBE521:
 1380              	.LBE524:
 1381              	.LBE571:
 322:SYNTHMACHINE.cpp **** 
 323:SYNTHMACHINE.cpp ****     /** Infinite Loop */
 324:SYNTHMACHINE.cpp ****     while(1)
 1382              		.loc 7 324 5 is_stmt 1 view .LVU366
 1383              	.LBB572:
 325:SYNTHMACHINE.cpp ****     {
 326:SYNTHMACHINE.cpp ****         uint32_t newTick = timer.GetTick();
 1384              		.loc 7 326 9 view .LVU367
 1385              		.loc 7 326 41 is_stmt 0 view .LVU368
 1386 0118 07A8     		add	r0, sp, #28
 1387 011a FFF7FEFF 		bl	_ZN5daisy11TimerHandle7GetTickEv
 1388              	.LVL83:
 327:SYNTHMACHINE.cpp ****         interval = ((float)(newTick - lastTime) / (float)freq);
 1389              		.loc 7 327 37 view .LVU369
 1390 011e 451B     		subs	r5, r0, r5
 1391              	.LVL84:
 328:SYNTHMACHINE.cpp ****         lastTime = newTick;
 329:SYNTHMACHINE.cpp **** 
 330:SYNTHMACHINE.cpp ****         now += interval;
 331:SYNTHMACHINE.cpp ****         blink_time += 1000.0 * interval;
 1392              		.loc 7 331 20 view .LVU370
 1393 0120 B7EEC87A 		vcvt.f64.f32	d7, s16
 326:SYNTHMACHINE.cpp ****         interval = ((float)(newTick - lastTime) / (float)freq);
 1394              		.loc 7 326 41 view .LVU371
 1395 0124 0446     		mov	r4, r0
 1396              	.LVL85:
 327:SYNTHMACHINE.cpp ****         interval = ((float)(newTick - lastTime) / (float)freq);
 1397              		.loc 7 327 9 is_stmt 1 view .LVU372
 327:SYNTHMACHINE.cpp ****         interval = ((float)(newTick - lastTime) / (float)freq);
 1398              		.loc 7 327 21 is_stmt 0 view .LVU373
 1399 0126 06EE905A 		vmov	s13, r5	@ int
 332:SYNTHMACHINE.cpp ****         I2C_Signal_Clock += interval;
 333:SYNTHMACHINE.cpp **** 
 334:SYNTHMACHINE.cpp **** //Run USB host process
 335:SYNTHMACHINE.cpp ****         usbHost.Process();
 1400              		.loc 7 335 24 view .LVU374
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 60


 1401 012a 7D48     		ldr	r0, .L113+32
 1402              	.LVL86:
 327:SYNTHMACHINE.cpp ****         lastTime = newTick;
 1403              		.loc 7 327 21 view .LVU375
 1404 012c F8EE666A 		vcvt.f32.u32	s13, s13
 331:SYNTHMACHINE.cpp ****         I2C_Signal_Clock += interval;
 1405              		.loc 7 331 20 view .LVU376
 1406 0130 9FED735B 		vldr.64	d5, .L113
 327:SYNTHMACHINE.cpp ****         lastTime = newTick;
 1407              		.loc 7 327 18 view .LVU377
 1408 0134 86EEA96A 		vdiv.f32	s12, s13, s19
 1409              	.LVL87:
 328:SYNTHMACHINE.cpp **** 
 1410              		.loc 7 328 9 is_stmt 1 view .LVU378
 330:SYNTHMACHINE.cpp ****         blink_time += 1000.0 * interval;
 1411              		.loc 7 330 9 view .LVU379
 331:SYNTHMACHINE.cpp ****         I2C_Signal_Clock += interval;
 1412              		.loc 7 331 9 view .LVU380
 331:SYNTHMACHINE.cpp ****         I2C_Signal_Clock += interval;
 1413              		.loc 7 331 32 is_stmt 0 view .LVU381
 1414 0138 B7EEC64A 		vcvt.f64.f32	d4, s12
 332:SYNTHMACHINE.cpp **** 
 1415              		.loc 7 332 26 view .LVU382
 1416 013c 78EE868A 		vadd.f32	s17, s17, s12
 1417              	.LVL88:
 331:SYNTHMACHINE.cpp ****         I2C_Signal_Clock += interval;
 1418              		.loc 7 331 20 view .LVU383
 1419 0140 A4EE057B 		vfma.f64	d7, d4, d5
 1420 0144 B7EEC78B 		vcvt.f32.f64	s16, d7
 1421              	.LVL89:
 332:SYNTHMACHINE.cpp **** 
 1422              		.loc 7 332 9 is_stmt 1 view .LVU384
 1423              		.loc 7 335 9 view .LVU385
 1424              		.loc 7 335 24 is_stmt 0 view .LVU386
 1425 0148 FFF7FEFF 		bl	_ZN5daisy13USBHostHandle7ProcessEv
 1426              	.LVL90:
 336:SYNTHMACHINE.cpp **** 
 337:SYNTHMACHINE.cpp ****         if(usbHost.IsActiveClass(USBH_MIDI_CLASS) && midi.RxActive())
 1427              		.loc 7 337 9 is_stmt 1 view .LVU387
 1428              	.LBB573:
 1429              		.loc 7 337 33 is_stmt 0 view .LVU388
 1430 014c 7849     		ldr	r1, .L113+48
 1431 014e 7448     		ldr	r0, .L113+32
 1432 0150 FFF7FEFF 		bl	_ZN5daisy13USBHostHandle13IsActiveClassEP17USBH_ClassTypeDef
 1433              	.LVL91:
 1434              		.loc 7 337 51 view .LVU389
 1435 0154 0028     		cmp	r0, #0
 1436 0156 4ED1     		bne	.L104
 1437              	.LVL92:
 1438              	.L49:
 1439              		.loc 7 337 51 view .LVU390
 1440              	.LBE573:
 338:SYNTHMACHINE.cpp ****         {
 339:SYNTHMACHINE.cpp ****             //Process MIDI in the background
 340:SYNTHMACHINE.cpp ****             midi.Listen();
 341:SYNTHMACHINE.cpp **** 
 342:SYNTHMACHINE.cpp ****             //Loop through any MIDI Events
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 61


 343:SYNTHMACHINE.cpp ****             while(midi.HasEvents())
 344:SYNTHMACHINE.cpp ****             {
 345:SYNTHMACHINE.cpp ****                 MidiEvent msg = midi.PopEvent();
 346:SYNTHMACHINE.cpp **** 
 347:SYNTHMACHINE.cpp ****                 //Handle messages as they come in 
 348:SYNTHMACHINE.cpp ****                 //See DaisyExamples for some examples of this
 349:SYNTHMACHINE.cpp ****                 
 350:SYNTHMACHINE.cpp ****                 switch(msg.type)
 351:SYNTHMACHINE.cpp ****                 {
 352:SYNTHMACHINE.cpp ****                     case NoteOn:
 353:SYNTHMACHINE.cpp ****                         // Do something on Note On events
 354:SYNTHMACHINE.cpp ****                         {
 355:SYNTHMACHINE.cpp ****                             //uint8_t VelID = msg.AsNoteOn().velocity;
 356:SYNTHMACHINE.cpp ****                             DAC_Channels[0] = MIDI_NOTE_TO_DAC_VOLTAGE(msg.AsNoteOn().note);
 357:SYNTHMACHINE.cpp ****                             VolumeEnv.SetState(CustomAdsr::OnNote);
 358:SYNTHMACHINE.cpp ****                         }
 359:SYNTHMACHINE.cpp ****                         break;
 360:SYNTHMACHINE.cpp **** 
 361:SYNTHMACHINE.cpp ****                     case NoteOff:
 362:SYNTHMACHINE.cpp ****                     {
 363:SYNTHMACHINE.cpp ****                         VolumeEnv.SetState(CustomAdsr::OffNote);
 364:SYNTHMACHINE.cpp ****                     }
 365:SYNTHMACHINE.cpp ****                     default: break;
 366:SYNTHMACHINE.cpp ****                 }
 367:SYNTHMACHINE.cpp **** 
 368:SYNTHMACHINE.cpp ****                 //Regardless of message, let's add the message data to our queue to output
 369:SYNTHMACHINE.cpp ****                 event_log.PushBack(msg);
 370:SYNTHMACHINE.cpp ****             }
 371:SYNTHMACHINE.cpp **** /**
 372:SYNTHMACHINE.cpp ****             //Now separately, every 5ms we'll print the top message in our queue if there is one
 373:SYNTHMACHINE.cpp ****             if(now - log_time > 5)
 374:SYNTHMACHINE.cpp ****             {
 375:SYNTHMACHINE.cpp ****                 log_time = now;
 376:SYNTHMACHINE.cpp ****                 if(!event_log.IsEmpty())
 377:SYNTHMACHINE.cpp ****                 {
 378:SYNTHMACHINE.cpp ****                     auto msg = event_log.PopFront();
 379:SYNTHMACHINE.cpp ****                     char outstr[128];
 380:SYNTHMACHINE.cpp ****                     const char* type_str = MidiEvent::GetTypeAsString(msg);
 381:SYNTHMACHINE.cpp ****                     sprintf(outstr,
 382:SYNTHMACHINE.cpp ****                             "time:\t%f\ttype: %s\tChannel:  %d\tData MSB: "
 383:SYNTHMACHINE.cpp ****                             "%d\tData LSB: %d\n",
 384:SYNTHMACHINE.cpp ****                             now,
 385:SYNTHMACHINE.cpp ****                             type_str,
 386:SYNTHMACHINE.cpp ****                             msg.channel,
 387:SYNTHMACHINE.cpp ****                             msg.data[0],
 388:SYNTHMACHINE.cpp ****                             msg.data[1]);
 389:SYNTHMACHINE.cpp ****                     //hw.PrintLine(outstr);
 390:SYNTHMACHINE.cpp ****                 }
 391:SYNTHMACHINE.cpp ****             }*/
 392:SYNTHMACHINE.cpp ****         }
 393:SYNTHMACHINE.cpp ****         
 394:SYNTHMACHINE.cpp ****         if(I2C_Signal_Clock >= (1.0f / I2C_SAMPLE_RATE)){
 1441              		.loc 7 394 9 is_stmt 1 view .LVU391
 1442 0158 DFED797A 		vldr.32	s15, .L113+64
 1443 015c F4EEE78A 		vcmpe.f32	s17, s15
 1444 0160 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1445 0164 18DA     		bge	.L105
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 62


 1446              	.LVL93:
 1447              	.L61:
 395:SYNTHMACHINE.cpp ****             I2C_Signal_Clock = 0;
 396:SYNTHMACHINE.cpp ****             VolumeEnv.ProcessENV();
 397:SYNTHMACHINE.cpp **** 
 398:SYNTHMACHINE.cpp ****             DAC_Channels[2] = Env_AMP_TO_DAC_VOLTAGE(VolumeEnv.ADSR_Sample_Val);
 399:SYNTHMACHINE.cpp ****             //hw.PrintLine("%d %d", OSC_AMP_TO_DAC_VOLTAGE(sample),static_cast<uint16_t>((sample+1)
 400:SYNTHMACHINE.cpp ****             DAC_I2C_MULTI_WRITE(0x60,DAC_Multi_Channel_Params,DAC_Channels,DAC_output_buffer,1,_i2c
 401:SYNTHMACHINE.cpp ****         }
 402:SYNTHMACHINE.cpp **** 
 403:SYNTHMACHINE.cpp ****         if (blink_time > LED_INTER)
 1448              		.loc 7 403 9 view .LVU392
 1449 0166 B4EEC89A 		vcmpe.f32	s18, s16
 1450 016a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1451 016e 11D5     		bpl	.L75
 404:SYNTHMACHINE.cpp ****         {
 405:SYNTHMACHINE.cpp ****             blink_time = 0;
 1452              		.loc 7 405 13 view .LVU393
 1453              	.LVL94:
 406:SYNTHMACHINE.cpp ****             hw.SetLed(ledState);
 1454              		.loc 7 406 13 view .LVU394
 1455              		.loc 7 406 22 is_stmt 0 view .LVU395
 1456 0170 4146     		mov	r1, r8
 1457 0172 6548     		ldr	r0, .L113+8
 1458 0174 FFF7FEFF 		bl	_ZN5daisy9DaisySeed6SetLedEb
 1459              	.LVL95:
 407:SYNTHMACHINE.cpp ****             ledState = !ledState;
 1460              		.loc 7 407 13 is_stmt 1 view .LVU396
 408:SYNTHMACHINE.cpp ****             if (usbHost.GetPresent())
 1461              		.loc 7 408 35 is_stmt 0 view .LVU397
 1462 0178 6948     		ldr	r0, .L113+32
 1463 017a FFF7FEFF 		bl	_ZN5daisy13USBHostHandle10GetPresentEv
 1464              	.LVL96:
 405:SYNTHMACHINE.cpp ****             hw.SetLed(ledState);
 1465              		.loc 7 405 24 view .LVU398
 1466 017e F3EE097A 		vmov.f32	s15, #2.5e+1
 1467 0182 9FED659A 		vldr.32	s18, .L113+24
 1468 0186 0028     		cmp	r0, #0
 1469 0188 9FED628A 		vldr.32	s16, .L113+20
 407:SYNTHMACHINE.cpp ****             ledState = !ledState;
 1470              		.loc 7 407 22 view .LVU399
 1471 018c 88F00108 		eor	r8, r8, #1
 1472              	.LVL97:
 1473              		.loc 7 408 13 is_stmt 1 view .LVU400
 405:SYNTHMACHINE.cpp ****             hw.SetLed(ledState);
 1474              		.loc 7 405 24 is_stmt 0 view .LVU401
 1475 0190 07FE899A 		vseleq.f32	s18, s15, s18
 1476              	.LVL98:
 1477              	.L75:
 405:SYNTHMACHINE.cpp ****             hw.SetLed(ledState);
 1478              		.loc 7 405 24 view .LVU402
 1479 0194 2546     		mov	r5, r4
 1480 0196 BFE7     		b	.L48
 1481              	.LVL99:
 1482              	.L105:
 395:SYNTHMACHINE.cpp ****             VolumeEnv.ProcessENV();
 1483              		.loc 7 395 13 is_stmt 1 view .LVU403
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 63


 396:SYNTHMACHINE.cpp **** 
 1484              		.loc 7 396 13 view .LVU404
 1485              	.LBB630:
 1486              	.LBI630:
 127:SYNTHMACHINE.cpp ****             switch(Note_Stat){
 1487              		.loc 7 127 14 view .LVU405
 1488              	.LBB631:
 128:SYNTHMACHINE.cpp ****                 case OnNote:
 1489              		.loc 7 128 13 view .LVU406
 1490              	.LBB632:
 1491              	.LBB633:
  97:SYNTHMACHINE.cpp ****                     case Attack:
 1492              		.loc 7 97 17 is_stmt 0 view .LVU407
 1493 0198 049B     		ldr	r3, [sp, #16]
 1494              	.LBE633:
 1495              	.LBE632:
 128:SYNTHMACHINE.cpp ****                 case OnNote:
 1496              		.loc 7 128 13 view .LVU408
 1497 019a BBF1000F 		cmp	fp, #0
 1498 019e 00F0DD80 		beq	.L106
 132:SYNTHMACHINE.cpp ****                     ProcessEnvNoteOff();
 1499              		.loc 7 132 17 is_stmt 1 view .LVU409
 133:SYNTHMACHINE.cpp ****                     break; 
 1500              		.loc 7 133 21 view .LVU410
 1501              	.LVL100:
 1502              	.LBB637:
 1503              	.LBI632:
  95:SYNTHMACHINE.cpp ****                 
 1504              		.loc 7 95 14 view .LVU411
 1505              	.LBB634:
  97:SYNTHMACHINE.cpp ****                     case Attack:
 1506              		.loc 7 97 17 view .LVU412
 1507 01a2 032B     		cmp	r3, #3
 1508 01a4 00F01E81 		beq	.L72
 1509 01a8 002B     		cmp	r3, #0
 1510 01aa 40F00781 		bne	.L82
  98:SYNTHMACHINE.cpp ****                         if (ADSR_Sample_Val >= 1){
 1511              		.loc 7 98 21 view .LVU413
  99:SYNTHMACHINE.cpp ****                             ADSR_Sample_Val = 1;
 1512              		.loc 7 99 25 view .LVU414
 1513 01ae F7EE00AA 		vmov.f32	s21, #1.0e+0
 1514              	.LVL101:
  99:SYNTHMACHINE.cpp ****                             ADSR_Sample_Val = 1;
 1515              		.loc 7 99 25 is_stmt 0 view .LVU415
 1516 01b2 B4EEEAAA 		vcmpe.f32	s20, s21
 1517 01b6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1518 01ba C0F2FF80 		blt	.L82
 100:SYNTHMACHINE.cpp ****                         }
 1519              		.loc 7 100 45 view .LVU416
 1520 01be B0EE6AAA 		vmov.f32	s20, s21
 1521              	.LVL102:
 1522              	.L74:
 100:SYNTHMACHINE.cpp ****                         }
 1523              		.loc 7 100 45 view .LVU417
 1524              	.LBE634:
 1525              	.LBE637:
 1526              	.LBE631:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 64


 1527              	.LBE630:
 1528              	.LBB651:
 1529              	.LBB652:
 241:SYNTHMACHINE.cpp **** 
 1530              		.loc 7 241 38 view .LVU418
 1531 01c2 DFED627A 		vldr.32	s15, .L113+76
 243:SYNTHMACHINE.cpp **** }
 1532              		.loc 7 243 49 view .LVU419
 1533 01c6 0322     		movs	r2, #3
 241:SYNTHMACHINE.cpp **** 
 1534              		.loc 7 241 38 view .LVU420
 1535 01c8 6AEE277A 		vmul.f32	s15, s20, s15
 243:SYNTHMACHINE.cpp **** }
 1536              		.loc 7 243 49 view .LVU421
 1537 01cc 0492     		str	r2, [sp, #16]
 1538 01ce FCEEE77A 		vcvt.u32.f32	s15, s15
 1539 01d2 17EE903A 		vmov	r3, s15	@ int
 1540 01d6 9BB2     		uxth	r3, r3
 1541              	.LVL103:
 1542              	.L71:
 243:SYNTHMACHINE.cpp **** }
 1543              		.loc 7 243 49 view .LVU422
 1544              	.LBE652:
 1545              	.LBE651:
 398:SYNTHMACHINE.cpp ****             //hw.PrintLine("%d %d", OSC_AMP_TO_DAC_VOLTAGE(sample),static_cast<uint16_t>((sample+1)
 1546              		.loc 7 398 13 is_stmt 1 view .LVU423
 1547              	.LBB655:
 1548              	.LBI651:
 238:SYNTHMACHINE.cpp ****     float Env_RANGE = 1.0f; 
 1549              		.loc 7 238 10 view .LVU424
 1550              	.LBB653:
 239:SYNTHMACHINE.cpp ****     float DAC_Range = 4095;
 1551              		.loc 7 239 5 view .LVU425
 240:SYNTHMACHINE.cpp ****     float DAC_Channel_Val = ((value) * DAC_Range) / Env_RANGE;
 1552              		.loc 7 240 5 view .LVU426
 241:SYNTHMACHINE.cpp **** 
 1553              		.loc 7 241 5 view .LVU427
 243:SYNTHMACHINE.cpp **** }
 1554              		.loc 7 243 5 view .LVU428
 243:SYNTHMACHINE.cpp **** }
 1555              		.loc 7 243 5 is_stmt 0 view .LVU429
 1556              	.LBE653:
 1557              	.LBE655:
 398:SYNTHMACHINE.cpp ****             //hw.PrintLine("%d %d", OSC_AMP_TO_DAC_VOLTAGE(sample),static_cast<uint16_t>((sample+1)
 1558              		.loc 7 398 29 view .LVU430
 1559 01d8 ADF82C30 		strh	r3, [sp, #44]	@ movhi
 400:SYNTHMACHINE.cpp ****         }
 1560              		.loc 7 400 13 is_stmt 1 view .LVU431
 400:SYNTHMACHINE.cpp ****         }
 1561              		.loc 7 400 32 is_stmt 0 view .LVU432
 1562 01dc 0AAA     		add	r2, sp, #40
 1563 01de 089B     		ldr	r3, [sp, #32]
 1564 01e0 09A9     		add	r1, sp, #36
 1565 01e2 6020     		movs	r0, #96
 395:SYNTHMACHINE.cpp ****             VolumeEnv.ProcessENV();
 1566              		.loc 7 395 30 view .LVU433
 1567 01e4 DFED4B8A 		vldr.32	s17, .L113+20
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 65


 400:SYNTHMACHINE.cpp ****         }
 1568              		.loc 7 400 32 view .LVU434
 1569 01e8 0193     		str	r3, [sp, #4]
 1570 01ea 0123     		movs	r3, #1
 1571 01ec 0093     		str	r3, [sp]
 1572 01ee 474B     		ldr	r3, .L113+12
 1573 01f0 FFF7FEFF 		bl	_Z19DAC_I2C_MULTI_WRITEhPhPtS_hN5daisy9I2CHandleE
 1574              	.LVL104:
 1575 01f4 B7E7     		b	.L61
 1576              	.LVL105:
 1577              	.L104:
 1578              	.LBB656:
 1579              	.LBB574:
 1580              	.LBI574:
 199:../../libDaisy/src/hid/midi.h **** 
 1581              		.loc 9 199 10 is_stmt 1 view .LVU435
 1582              	.LBB575:
 199:../../libDaisy/src/hid/midi.h **** 
 1583              		.loc 9 199 49 is_stmt 0 view .LVU436
 1584 01f6 5348     		ldr	r0, .L113+68
 1585 01f8 FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport8RxActiveEv
 1586              	.LVL106:
 199:../../libDaisy/src/hid/midi.h **** 
 1587              		.loc 9 199 49 view .LVU437
 1588              	.LBE575:
 1589              	.LBE574:
 337:SYNTHMACHINE.cpp ****         {
 1590              		.loc 7 337 51 view .LVU438
 1591 01fc 0028     		cmp	r0, #0
 1592 01fe ABD0     		beq	.L49
 1593              	.LBB576:
 340:SYNTHMACHINE.cpp **** 
 1594              		.loc 7 340 13 is_stmt 1 view .LVU439
 1595              	.LVL107:
 1596              	.LBB577:
 1597              	.LBI577:
 181:../../libDaisy/src/hid/midi.h ****     {
 1598              		.loc 9 181 10 view .LVU440
 1599              	.LBB578:
 186:../../libDaisy/src/hid/midi.h ****         {
 1600              		.loc 9 186 32 is_stmt 0 view .LVU441
 1601 0200 5048     		ldr	r0, .L113+68
 1602 0202 FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport8RxActiveEv
 1603              	.LVL108:
 186:../../libDaisy/src/hid/midi.h ****         {
 1604              		.loc 9 186 9 view .LVU442
 1605 0206 0028     		cmp	r0, #0
 1606 0208 00F0F380 		beq	.L107
 1607              	.L50:
 1608              	.LBE578:
 1609              	.LBE577:
 1610              	.LBB582:
 1611              	.LBB583:
 1612              	.LBB584:
 173:../../libDaisy/src/util/FIFO.h ****         if(numElements < 0)
 1613              		.loc 8 173 31 view .LVU443
 1614 020c D7F8AC90 		ldr	r9, [r7, #172]
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 66


 1615 0210 0594     		str	r4, [sp, #20]
 1616              	.LVL109:
 1617              	.L60:
 173:../../libDaisy/src/util/FIFO.h ****         if(numElements < 0)
 1618              		.loc 8 173 31 view .LVU444
 1619              	.LBE584:
 1620              	.LBE583:
 1621              	.LBE582:
 343:SYNTHMACHINE.cpp ****             {
 1622              		.loc 7 343 13 is_stmt 1 view .LVU445
 343:SYNTHMACHINE.cpp ****             {
 1623              		.loc 7 343 33 view .LVU446
 1624              	.LBB593:
 1625              	.LBI582:
 197:../../libDaisy/src/hid/midi.h **** 
 1626              		.loc 9 197 10 view .LVU447
 1627              	.LBB589:
 1628              	.LBI583:
 171:../../libDaisy/src/util/FIFO.h ****     {
 1629              		.loc 8 171 12 view .LVU448
 1630              	.LBB585:
 173:../../libDaisy/src/util/FIFO.h ****         if(numElements < 0)
 1631              		.loc 8 173 43 is_stmt 0 view .LVU449
 1632 0212 D7F8B050 		ldr	r5, [r7, #176]
 1633              	.LVL110:
 174:../../libDaisy/src/util/FIFO.h ****             numElements += bufferSize_;
 1634              		.loc 8 174 9 view .LVU450
 1635 0216 B9EB0503 		subs	r3, r9, r5
 1636              	.LVL111:
 174:../../libDaisy/src/util/FIFO.h ****             numElements += bufferSize_;
 1637              		.loc 8 174 9 view .LVU451
 1638 021a 5ED4     		bmi	.L108
 1639              	.L51:
 1640              	.LVL112:
 174:../../libDaisy/src/util/FIFO.h ****             numElements += bufferSize_;
 1641              		.loc 8 174 9 view .LVU452
 1642              	.LBE585:
 1643              	.LBE589:
 1644              	.LBE593:
 343:SYNTHMACHINE.cpp ****             {
 1645              		.loc 7 343 33 view .LVU453
 1646 021c 002B     		cmp	r3, #0
 1647 021e 61D0     		beq	.L101
 1648              	.L110:
 1649              	.LBB594:
 345:SYNTHMACHINE.cpp **** 
 1650              		.loc 7 345 17 is_stmt 1 view .LVU454
 1651              	.LVL113:
 1652              	.LBB595:
 1653              	.LBI595:
 204:../../libDaisy/src/hid/midi.h **** 
 1654              		.loc 9 204 15 view .LVU455
 1655              	.LBB596:
 1656              	.LBI596:
 101:../../libDaisy/src/util/FIFO.h ****     {
 1657              		.loc 8 101 7 view .LVU456
 1658              	.LBB597:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 67


 103:../../libDaisy/src/util/FIFO.h ****             return T();
 1659              		.loc 8 103 9 is_stmt 0 view .LVU457
 1660 0220 4D45     		cmp	r5, r9
 1661 0222 61D0     		beq	.L109
 1662              	.LBB598:
 107:../../libDaisy/src/util/FIFO.h ****             bufferOut_++;
 1663              		.loc 8 107 40 view .LVU458
 1664 0224 D7F8A430 		ldr	r3, [r7, #164]
 1665 0228 05EBC50A 		add	r10, r5, r5, lsl #3
 107:../../libDaisy/src/util/FIFO.h ****             bufferOut_++;
 1666              		.loc 8 107 24 view .LVU459
 1667 022c 9022     		movs	r2, #144
 1668 022e 3EA8     		add	r0, sp, #248
 107:../../libDaisy/src/util/FIFO.h ****             bufferOut_++;
 1669              		.loc 8 107 40 view .LVU460
 1670 0230 03EB0A14 		add	r4, r3, r10, lsl #4
 108:../../libDaisy/src/util/FIFO.h ****             if(bufferOut_ >= bufferSize_)
 1671              		.loc 8 108 13 view .LVU461
 1672 0234 0135     		adds	r5, r5, #1
 107:../../libDaisy/src/util/FIFO.h ****             bufferOut_++;
 1673              		.loc 8 107 40 view .LVU462
 1674 0236 0393     		str	r3, [sp, #12]
 1675 0238 4FEA0A1A 		lsl	r10, r10, #4
 107:../../libDaisy/src/util/FIFO.h ****             bufferOut_++;
 1676              		.loc 8 107 24 view .LVU463
 1677 023c 2146     		mov	r1, r4
 1678 023e FFF7FEFF 		bl	memcpy
 1679              	.LVL114:
 109:../../libDaisy/src/util/FIFO.h ****                 bufferOut_ -= bufferSize_;
 1680              		.loc 8 109 30 view .LVU464
 1681 0242 D7F8A820 		ldr	r2, [r7, #168]
 107:../../libDaisy/src/util/FIFO.h ****             bufferOut_++;
 1682              		.loc 8 107 24 view .LVU465
 1683 0246 039B     		ldr	r3, [sp, #12]
 109:../../libDaisy/src/util/FIFO.h ****                 bufferOut_ -= bufferSize_;
 1684              		.loc 8 109 13 view .LVU466
 1685 0248 9542     		cmp	r5, r2
 107:../../libDaisy/src/util/FIFO.h ****             bufferOut_++;
 1686              		.loc 8 107 24 view .LVU467
 1687 024a 247A     		ldrb	r4, [r4, #8]	@ zero_extendqisi2
 1688 024c 13F80AA0 		ldrb	r10, [r3, r10]	@ zero_extendqisi2
 1689              	.LVL115:
 108:../../libDaisy/src/util/FIFO.h ****             if(bufferOut_ >= bufferSize_)
 1690              		.loc 8 108 13 view .LVU468
 1691 0250 C7F8B050 		str	r5, [r7, #176]
 109:../../libDaisy/src/util/FIFO.h ****                 bufferOut_ -= bufferSize_;
 1692              		.loc 8 109 13 view .LVU469
 1693 0254 02D3     		bcc	.L54
 110:../../libDaisy/src/util/FIFO.h ****             return result;
 1694              		.loc 8 110 28 view .LVU470
 1695 0256 AD1A     		subs	r5, r5, r2
 1696 0258 C7F8B050 		str	r5, [r7, #176]
 1697              	.L54:
 111:../../libDaisy/src/util/FIFO.h ****         }
 1698              		.loc 8 111 20 view .LVU471
 1699 025c 9022     		movs	r2, #144
 1700 025e 3EA9     		add	r1, sp, #248
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 68


 1701 0260 1AA8     		add	r0, sp, #104
 1702 0262 FFF7FEFF 		bl	memcpy
 1703              	.LVL116:
 111:../../libDaisy/src/util/FIFO.h ****         }
 1704              		.loc 8 111 20 view .LVU472
 1705              	.LBE598:
 1706              	.LBE597:
 1707              	.LBE596:
 1708              	.LBE595:
 350:SYNTHMACHINE.cpp ****                 {
 1709              		.loc 7 350 17 is_stmt 1 view .LVU473
 1710 0266 BAF1000F 		cmp	r10, #0
 1711 026a 43D0     		beq	.L53
 1712 026c BAF1010F 		cmp	r10, #1
 1713 0270 0ED1     		bne	.L55
 352:SYNTHMACHINE.cpp ****                         // Do something on Note On events
 1714              		.loc 7 352 21 view .LVU474
 354:SYNTHMACHINE.cpp ****                             //uint8_t VelID = msg.AsNoteOn().velocity;
 1715              		.loc 7 354 25 view .LVU475
 356:SYNTHMACHINE.cpp ****                             VolumeEnv.SetState(CustomAdsr::OnNote);
 1716              		.loc 7 356 29 view .LVU476
 1717              	.LVL117:
 1718              	.LBB602:
 1719              	.LBI602:
 1720              		.file 16 "../../libDaisy/src/hid/MidiEvent.h"
   1:../../libDaisy/src/hid/MidiEvent.h **** // TODO: make this adjustable
   2:../../libDaisy/src/hid/MidiEvent.h **** #define SYSEX_BUFFER_LEN 128
   3:../../libDaisy/src/hid/MidiEvent.h **** 
   4:../../libDaisy/src/hid/MidiEvent.h **** namespace daisy
   5:../../libDaisy/src/hid/MidiEvent.h **** {
   6:../../libDaisy/src/hid/MidiEvent.h **** /** @addtogroup midi MIDI
   7:../../libDaisy/src/hid/MidiEvent.h ****  *  @ingroup human_interface
   8:../../libDaisy/src/hid/MidiEvent.h ****  *  @ingroup libdaisy
   9:../../libDaisy/src/hid/MidiEvent.h ****  *  @brief MIDI handlers, transports, and message types
  10:../../libDaisy/src/hid/MidiEvent.h ****  *  @{
  11:../../libDaisy/src/hid/MidiEvent.h ****  */
  12:../../libDaisy/src/hid/MidiEvent.h **** 
  13:../../libDaisy/src/hid/MidiEvent.h **** /** @defgroup midi_events MIDI_EVENTS
  14:../../libDaisy/src/hid/MidiEvent.h ****  *  @{
  15:../../libDaisy/src/hid/MidiEvent.h **** */
  16:../../libDaisy/src/hid/MidiEvent.h **** 
  17:../../libDaisy/src/hid/MidiEvent.h **** /** Parsed from the Status Byte, these are the common Midi Messages that can be handled. \n
  18:../../libDaisy/src/hid/MidiEvent.h **** At this time only 3-byte messages are correctly parsed into MidiEvents.
  19:../../libDaisy/src/hid/MidiEvent.h **** */
  20:../../libDaisy/src/hid/MidiEvent.h **** enum MidiMessageType
  21:../../libDaisy/src/hid/MidiEvent.h **** {
  22:../../libDaisy/src/hid/MidiEvent.h ****     NoteOff,               /**< & */
  23:../../libDaisy/src/hid/MidiEvent.h ****     NoteOn,                /**< & */
  24:../../libDaisy/src/hid/MidiEvent.h ****     PolyphonicKeyPressure, /**< & */
  25:../../libDaisy/src/hid/MidiEvent.h ****     ControlChange,         /**< & */
  26:../../libDaisy/src/hid/MidiEvent.h ****     ProgramChange,         /**< & */
  27:../../libDaisy/src/hid/MidiEvent.h ****     ChannelPressure,       /**< & */
  28:../../libDaisy/src/hid/MidiEvent.h ****     PitchBend,             /**< & */
  29:../../libDaisy/src/hid/MidiEvent.h ****     SystemCommon,          /**< & */
  30:../../libDaisy/src/hid/MidiEvent.h ****     SystemRealTime,        /**< & */
  31:../../libDaisy/src/hid/MidiEvent.h ****     ChannelMode,           /**< & */
  32:../../libDaisy/src/hid/MidiEvent.h ****     MessageLast,           /**< & */
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 69


  33:../../libDaisy/src/hid/MidiEvent.h **** };
  34:../../libDaisy/src/hid/MidiEvent.h **** 
  35:../../libDaisy/src/hid/MidiEvent.h **** enum SystemCommonType
  36:../../libDaisy/src/hid/MidiEvent.h **** {
  37:../../libDaisy/src/hid/MidiEvent.h ****     SystemExclusive,     /**< & */
  38:../../libDaisy/src/hid/MidiEvent.h ****     MTCQuarterFrame,     /**< & */
  39:../../libDaisy/src/hid/MidiEvent.h ****     SongPositionPointer, /**< & */
  40:../../libDaisy/src/hid/MidiEvent.h ****     SongSelect,          /**< & */
  41:../../libDaisy/src/hid/MidiEvent.h ****     SCUndefined0,        /**< & */
  42:../../libDaisy/src/hid/MidiEvent.h ****     SCUndefined1,        /**< & */
  43:../../libDaisy/src/hid/MidiEvent.h ****     TuneRequest,         /**< & */
  44:../../libDaisy/src/hid/MidiEvent.h ****     SysExEnd,            /**< & */
  45:../../libDaisy/src/hid/MidiEvent.h ****     SystemCommonLast,    /**< & */
  46:../../libDaisy/src/hid/MidiEvent.h **** };
  47:../../libDaisy/src/hid/MidiEvent.h **** 
  48:../../libDaisy/src/hid/MidiEvent.h **** enum SystemRealTimeType
  49:../../libDaisy/src/hid/MidiEvent.h **** {
  50:../../libDaisy/src/hid/MidiEvent.h ****     TimingClock,        /**< & */
  51:../../libDaisy/src/hid/MidiEvent.h ****     SRTUndefined0,      /**< & */
  52:../../libDaisy/src/hid/MidiEvent.h ****     Start,              /**< & */
  53:../../libDaisy/src/hid/MidiEvent.h ****     Continue,           /**< & */
  54:../../libDaisy/src/hid/MidiEvent.h ****     Stop,               /**< & */
  55:../../libDaisy/src/hid/MidiEvent.h ****     SRTUndefined1,      /**< & */
  56:../../libDaisy/src/hid/MidiEvent.h ****     ActiveSensing,      /**< & */
  57:../../libDaisy/src/hid/MidiEvent.h ****     Reset,              /**< & */
  58:../../libDaisy/src/hid/MidiEvent.h ****     SystemRealTimeLast, /**< & */
  59:../../libDaisy/src/hid/MidiEvent.h **** };
  60:../../libDaisy/src/hid/MidiEvent.h **** 
  61:../../libDaisy/src/hid/MidiEvent.h **** enum ChannelModeType
  62:../../libDaisy/src/hid/MidiEvent.h **** {
  63:../../libDaisy/src/hid/MidiEvent.h ****     AllSoundOff,         /**< & */
  64:../../libDaisy/src/hid/MidiEvent.h ****     ResetAllControllers, /**< & */
  65:../../libDaisy/src/hid/MidiEvent.h ****     LocalControl,        /**< & */
  66:../../libDaisy/src/hid/MidiEvent.h ****     AllNotesOff,         /**< & */
  67:../../libDaisy/src/hid/MidiEvent.h ****     OmniModeOff,         /**< & */
  68:../../libDaisy/src/hid/MidiEvent.h ****     OmniModeOn,          /**< & */
  69:../../libDaisy/src/hid/MidiEvent.h ****     MonoModeOn,          /**< & */
  70:../../libDaisy/src/hid/MidiEvent.h ****     PolyModeOn,          /**< & */
  71:../../libDaisy/src/hid/MidiEvent.h ****     ChannelModeLast,     /**< & */
  72:../../libDaisy/src/hid/MidiEvent.h **** };
  73:../../libDaisy/src/hid/MidiEvent.h **** 
  74:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing note, and velocity data for a given channel.
  75:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
  76:../../libDaisy/src/hid/MidiEvent.h **** */
  77:../../libDaisy/src/hid/MidiEvent.h **** struct NoteOffEvent
  78:../../libDaisy/src/hid/MidiEvent.h **** {
  79:../../libDaisy/src/hid/MidiEvent.h ****     int     channel;  /**< & */
  80:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t note;     /**< & */
  81:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t velocity; /**< & */
  82:../../libDaisy/src/hid/MidiEvent.h **** };
  83:../../libDaisy/src/hid/MidiEvent.h **** 
  84:../../libDaisy/src/hid/MidiEvent.h **** 
  85:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing note, and velocity data for a given channel.
  86:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
  87:../../libDaisy/src/hid/MidiEvent.h **** */
  88:../../libDaisy/src/hid/MidiEvent.h **** struct NoteOnEvent
  89:../../libDaisy/src/hid/MidiEvent.h **** {
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 70


  90:../../libDaisy/src/hid/MidiEvent.h ****     int     channel;  /**< & */
  91:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t note;     /**< & */
  92:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t velocity; /**< & */
  93:../../libDaisy/src/hid/MidiEvent.h **** };
  94:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing note, and pressure data for a given channel.
  95:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
  96:../../libDaisy/src/hid/MidiEvent.h **** */
  97:../../libDaisy/src/hid/MidiEvent.h **** struct PolyphonicKeyPressureEvent
  98:../../libDaisy/src/hid/MidiEvent.h **** {
  99:../../libDaisy/src/hid/MidiEvent.h ****     int     channel;
 100:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t note;
 101:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t pressure;
 102:../../libDaisy/src/hid/MidiEvent.h **** };
 103:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing control number, and value for a given channel.
 104:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 105:../../libDaisy/src/hid/MidiEvent.h **** */
 106:../../libDaisy/src/hid/MidiEvent.h **** struct ControlChangeEvent
 107:../../libDaisy/src/hid/MidiEvent.h **** {
 108:../../libDaisy/src/hid/MidiEvent.h ****     int     channel;        /**< & */
 109:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t control_number; /**< & */
 110:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t value;          /**< & */
 111:../../libDaisy/src/hid/MidiEvent.h **** };
 112:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing new program number, for a given channel.
 113:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 114:../../libDaisy/src/hid/MidiEvent.h **** */
 115:../../libDaisy/src/hid/MidiEvent.h **** struct ProgramChangeEvent
 116:../../libDaisy/src/hid/MidiEvent.h **** {
 117:../../libDaisy/src/hid/MidiEvent.h ****     int     channel; /**< & */
 118:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t program; /**< & */
 119:../../libDaisy/src/hid/MidiEvent.h **** };
 120:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing pressure (aftertouch), for a given channel.
 121:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 122:../../libDaisy/src/hid/MidiEvent.h **** */
 123:../../libDaisy/src/hid/MidiEvent.h **** struct ChannelPressureEvent
 124:../../libDaisy/src/hid/MidiEvent.h **** {
 125:../../libDaisy/src/hid/MidiEvent.h ****     int     channel;  /**< & */
 126:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t pressure; /**< & */
 127:../../libDaisy/src/hid/MidiEvent.h **** };
 128:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing pitch bend value for a given channel.
 129:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 130:../../libDaisy/src/hid/MidiEvent.h **** */
 131:../../libDaisy/src/hid/MidiEvent.h **** struct PitchBendEvent
 132:../../libDaisy/src/hid/MidiEvent.h **** {
 133:../../libDaisy/src/hid/MidiEvent.h ****     int     channel; /**< & */
 134:../../libDaisy/src/hid/MidiEvent.h ****     int16_t value;   /**< & */
 135:../../libDaisy/src/hid/MidiEvent.h **** };
 136:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing channel mode event for a given channel.
 137:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 138:../../libDaisy/src/hid/MidiEvent.h **** */
 139:../../libDaisy/src/hid/MidiEvent.h **** struct ChannelModeEvent
 140:../../libDaisy/src/hid/MidiEvent.h **** {
 141:../../libDaisy/src/hid/MidiEvent.h ****     int             channel;    /**< & */
 142:../../libDaisy/src/hid/MidiEvent.h ****     ChannelModeType event_type; /**< & */
 143:../../libDaisy/src/hid/MidiEvent.h ****     int16_t         value;      /**< & */
 144:../../libDaisy/src/hid/MidiEvent.h **** };
 145:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing sysex data.
 146:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 71


 147:../../libDaisy/src/hid/MidiEvent.h **** */
 148:../../libDaisy/src/hid/MidiEvent.h **** struct SystemExclusiveEvent
 149:../../libDaisy/src/hid/MidiEvent.h **** {
 150:../../libDaisy/src/hid/MidiEvent.h ****     int     length;
 151:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t data[SYSEX_BUFFER_LEN]; /**< & */
 152:../../libDaisy/src/hid/MidiEvent.h **** };
 153:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing QuarterFrame data.
 154:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 155:../../libDaisy/src/hid/MidiEvent.h **** */
 156:../../libDaisy/src/hid/MidiEvent.h **** struct MTCQuarterFrameEvent
 157:../../libDaisy/src/hid/MidiEvent.h **** {
 158:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t message_type; /**< & */
 159:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t value;        /**< & */
 160:../../libDaisy/src/hid/MidiEvent.h **** };
 161:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing song position data.
 162:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 163:../../libDaisy/src/hid/MidiEvent.h **** */
 164:../../libDaisy/src/hid/MidiEvent.h **** struct SongPositionPointerEvent
 165:../../libDaisy/src/hid/MidiEvent.h **** {
 166:../../libDaisy/src/hid/MidiEvent.h ****     uint16_t position; /**< & */
 167:../../libDaisy/src/hid/MidiEvent.h **** };
 168:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing song select data.
 169:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 170:../../libDaisy/src/hid/MidiEvent.h **** */
 171:../../libDaisy/src/hid/MidiEvent.h **** struct SongSelectEvent
 172:../../libDaisy/src/hid/MidiEvent.h **** {
 173:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t song; /**< & */
 174:../../libDaisy/src/hid/MidiEvent.h **** };
 175:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing sound off data.
 176:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 177:../../libDaisy/src/hid/MidiEvent.h **** */
 178:../../libDaisy/src/hid/MidiEvent.h **** struct AllSoundOffEvent
 179:../../libDaisy/src/hid/MidiEvent.h **** {
 180:../../libDaisy/src/hid/MidiEvent.h ****     int channel; /**< & */
 181:../../libDaisy/src/hid/MidiEvent.h **** };
 182:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing ResetAllControllersEvent data.
 183:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 184:../../libDaisy/src/hid/MidiEvent.h **** */
 185:../../libDaisy/src/hid/MidiEvent.h **** struct ResetAllControllersEvent
 186:../../libDaisy/src/hid/MidiEvent.h **** {
 187:../../libDaisy/src/hid/MidiEvent.h ****     int     channel; /**< & */
 188:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t value;   /**< & */
 189:../../libDaisy/src/hid/MidiEvent.h **** };
 190:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing LocalControlEvent data.
 191:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 192:../../libDaisy/src/hid/MidiEvent.h **** */
 193:../../libDaisy/src/hid/MidiEvent.h **** struct LocalControlEvent
 194:../../libDaisy/src/hid/MidiEvent.h **** {
 195:../../libDaisy/src/hid/MidiEvent.h ****     int  channel;           /**< & */
 196:../../libDaisy/src/hid/MidiEvent.h ****     bool local_control_off; /**< & */
 197:../../libDaisy/src/hid/MidiEvent.h ****     bool local_control_on;  /**< & */
 198:../../libDaisy/src/hid/MidiEvent.h **** };
 199:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing AllNotesOffEvent data.
 200:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 201:../../libDaisy/src/hid/MidiEvent.h **** */
 202:../../libDaisy/src/hid/MidiEvent.h **** struct AllNotesOffEvent
 203:../../libDaisy/src/hid/MidiEvent.h **** {
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 72


 204:../../libDaisy/src/hid/MidiEvent.h ****     int channel; /**< & */
 205:../../libDaisy/src/hid/MidiEvent.h **** };
 206:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing OmniModeOffEvent data.
 207:../../libDaisy/src/hid/MidiEvent.h ****  * Can be made from MidiEvent
 208:../../libDaisy/src/hid/MidiEvent.h **** */
 209:../../libDaisy/src/hid/MidiEvent.h **** struct OmniModeOffEvent
 210:../../libDaisy/src/hid/MidiEvent.h **** {
 211:../../libDaisy/src/hid/MidiEvent.h ****     int channel; /**< & */
 212:../../libDaisy/src/hid/MidiEvent.h **** };
 213:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing OmniModeOnEvent data.
 214:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 215:../../libDaisy/src/hid/MidiEvent.h **** */
 216:../../libDaisy/src/hid/MidiEvent.h **** struct OmniModeOnEvent
 217:../../libDaisy/src/hid/MidiEvent.h **** {
 218:../../libDaisy/src/hid/MidiEvent.h ****     int channel; /**< & */
 219:../../libDaisy/src/hid/MidiEvent.h **** };
 220:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing MonoModeOnEvent data.
 221:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 222:../../libDaisy/src/hid/MidiEvent.h **** */
 223:../../libDaisy/src/hid/MidiEvent.h **** struct MonoModeOnEvent
 224:../../libDaisy/src/hid/MidiEvent.h **** {
 225:../../libDaisy/src/hid/MidiEvent.h ****     int     channel;      /**< & */
 226:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t num_channels; /**< & */
 227:../../libDaisy/src/hid/MidiEvent.h **** };
 228:../../libDaisy/src/hid/MidiEvent.h **** /** Struct containing PolyModeOnEvent data.
 229:../../libDaisy/src/hid/MidiEvent.h **** Can be made from MidiEvent
 230:../../libDaisy/src/hid/MidiEvent.h **** */
 231:../../libDaisy/src/hid/MidiEvent.h **** struct PolyModeOnEvent
 232:../../libDaisy/src/hid/MidiEvent.h **** {
 233:../../libDaisy/src/hid/MidiEvent.h ****     int channel; /**< & */
 234:../../libDaisy/src/hid/MidiEvent.h **** };
 235:../../libDaisy/src/hid/MidiEvent.h **** 
 236:../../libDaisy/src/hid/MidiEvent.h **** 
 237:../../libDaisy/src/hid/MidiEvent.h **** /** Simple MidiEvent with message type, channel, and data[2] members.
 238:../../libDaisy/src/hid/MidiEvent.h **** */
 239:../../libDaisy/src/hid/MidiEvent.h **** struct MidiEvent
 240:../../libDaisy/src/hid/MidiEvent.h **** {
 241:../../libDaisy/src/hid/MidiEvent.h ****     // Newer ish.
 242:../../libDaisy/src/hid/MidiEvent.h ****     MidiMessageType    type;                         /**< & */
 243:../../libDaisy/src/hid/MidiEvent.h ****     int                channel;                      /**< & */
 244:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t            data[2];                      /**< & */
 245:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t            sysex_data[SYSEX_BUFFER_LEN]; /**< & */
 246:../../libDaisy/src/hid/MidiEvent.h ****     uint8_t            sysex_message_len;
 247:../../libDaisy/src/hid/MidiEvent.h ****     SystemCommonType   sc_type;
 248:../../libDaisy/src/hid/MidiEvent.h ****     SystemRealTimeType srt_type;
 249:../../libDaisy/src/hid/MidiEvent.h ****     ChannelModeType    cm_type;
 250:../../libDaisy/src/hid/MidiEvent.h **** 
 251:../../libDaisy/src/hid/MidiEvent.h ****     /** Returns the data within the MidiEvent as a NoteOffEvent struct */
 252:../../libDaisy/src/hid/MidiEvent.h ****     NoteOffEvent AsNoteOff()
 253:../../libDaisy/src/hid/MidiEvent.h ****     {
 254:../../libDaisy/src/hid/MidiEvent.h ****         NoteOffEvent m;
 255:../../libDaisy/src/hid/MidiEvent.h ****         m.channel  = channel;
 256:../../libDaisy/src/hid/MidiEvent.h ****         m.note     = data[0];
 257:../../libDaisy/src/hid/MidiEvent.h ****         m.velocity = data[1];
 258:../../libDaisy/src/hid/MidiEvent.h ****         return m;
 259:../../libDaisy/src/hid/MidiEvent.h ****     }
 260:../../libDaisy/src/hid/MidiEvent.h **** 
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 73


 261:../../libDaisy/src/hid/MidiEvent.h ****     /** Returns the data within the MidiEvent as a NoteOnEvent struct */
 262:../../libDaisy/src/hid/MidiEvent.h ****     NoteOnEvent AsNoteOn()
 1721              		.loc 16 262 17 view .LVU477
 1722              	.LBB603:
 263:../../libDaisy/src/hid/MidiEvent.h ****     {
 264:../../libDaisy/src/hid/MidiEvent.h ****         NoteOnEvent m;
 1723              		.loc 16 264 9 view .LVU478
 265:../../libDaisy/src/hid/MidiEvent.h ****         m.channel  = channel;
 1724              		.loc 16 265 9 view .LVU479
 266:../../libDaisy/src/hid/MidiEvent.h ****         m.note     = data[0];
 1725              		.loc 16 266 9 view .LVU480
 267:../../libDaisy/src/hid/MidiEvent.h ****         m.velocity = data[1];
 1726              		.loc 16 267 9 view .LVU481
 268:../../libDaisy/src/hid/MidiEvent.h ****         return m;
 1727              		.loc 16 268 9 view .LVU482
 1728              		.loc 16 268 9 is_stmt 0 view .LVU483
 1729              	.LBE603:
 1730              	.LBE602:
 1731              	.LBB604:
 1732              	.LBI604:
 222:SYNTHMACHINE.cpp ****     uint16_t MIDI_Range = MIDI_MAX - MIDI_MIN; 
 1733              		.loc 7 222 10 is_stmt 1 view .LVU484
 1734              	.LBB605:
 223:SYNTHMACHINE.cpp ****     uint16_t DAC_Range = 4095;
 1735              		.loc 7 223 5 view .LVU485
 224:SYNTHMACHINE.cpp ****     uint16_t DAC_Channel_Val = ((static_cast<uint16_t>(note) - MIDI_MIN) * DAC_Range) / MIDI_Range;
 1736              		.loc 7 224 5 view .LVU486
 225:SYNTHMACHINE.cpp **** 
 1737              		.loc 7 225 5 view .LVU487
 227:SYNTHMACHINE.cpp **** }
 1738              		.loc 7 227 5 view .LVU488
 225:SYNTHMACHINE.cpp **** 
 1739              		.loc 7 225 62 is_stmt 0 view .LVU489
 1740 0272 A4F11C02 		sub	r2, r4, #28
 225:SYNTHMACHINE.cpp **** 
 1741              		.loc 7 225 87 view .LVU490
 1742 0276 3449     		ldr	r1, .L113+72
 1743              	.LBE605:
 1744              	.LBE604:
 1745              	.LBB607:
 1746              	.LBB608:
 139:SYNTHMACHINE.cpp ****         }
 1747              		.loc 7 139 23 view .LVU491
 1748 0278 4FF0000B 		mov	fp, #0
 1749              	.LBE608:
 1750              	.LBE607:
 1751              	.LBB610:
 1752              	.LBB606:
 225:SYNTHMACHINE.cpp **** 
 1753              		.loc 7 225 74 view .LVU492
 1754 027c C2EB0232 		rsb	r2, r2, r2, lsl #12
 225:SYNTHMACHINE.cpp **** 
 1755              		.loc 7 225 87 view .LVU493
 1756 0280 81FB0231 		smull	r3, r1, r1, r2
 1757 0284 1144     		add	r1, r1, r2
 1758 0286 D217     		asrs	r2, r2, #31
 1759 0288 C2EB6112 		rsb	r2, r2, r1, asr #5
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 74


 225:SYNTHMACHINE.cpp **** 
 1760              		.loc 7 225 14 view .LVU494
 1761 028c ADF82820 		strh	r2, [sp, #40]	@ movhi
 1762              	.LBE606:
 1763              	.LBE610:
 357:SYNTHMACHINE.cpp ****                         }
 1764              		.loc 7 357 29 is_stmt 1 view .LVU495
 1765              	.LVL118:
 1766              	.LBB611:
 1767              	.LBI607:
 138:SYNTHMACHINE.cpp ****             Note_Stat = Note_State_Ext;
 1768              		.loc 7 138 14 view .LVU496
 1769              	.LBB609:
 139:SYNTHMACHINE.cpp ****         }
 1770              		.loc 7 139 13 view .LVU497
 1771              	.L55:
 139:SYNTHMACHINE.cpp ****         }
 1772              		.loc 7 139 13 is_stmt 0 view .LVU498
 1773              	.LBE609:
 1774              	.LBE611:
 369:SYNTHMACHINE.cpp ****             }
 1775              		.loc 7 369 17 is_stmt 1 view .LVU499
 1776              	.LBB612:
 1777              	.LBI612:
  49:../../libDaisy/src/util/FIFO.h ****     {
 1778              		.loc 8 49 10 view .LVU500
 1779              	.LBB613:
 1780              	.LBB614:
 1781              	.LBI614:
 168:../../libDaisy/src/util/FIFO.h **** 
 1782              		.loc 8 168 10 view .LVU501
 1783              	.LBB615:
 1784              	.LBB616:
 1785              	.LBI616:
 171:../../libDaisy/src/util/FIFO.h ****     {
 1786              		.loc 8 171 12 view .LVU502
 1787              	.LBB617:
 175:../../libDaisy/src/util/FIFO.h ****         return size_t(numElements);
 1788              		.loc 8 175 28 is_stmt 0 view .LVU503
 1789 0290 7068     		ldr	r0, [r6, #4]
 173:../../libDaisy/src/util/FIFO.h ****         if(numElements < 0)
 1790              		.loc 8 173 41 view .LVU504
 1791 0292 D6E90212 		ldrd	r1, r2, [r6, #8]
 1792              	.LVL119:
 174:../../libDaisy/src/util/FIFO.h ****             numElements += bufferSize_;
 1793              		.loc 8 174 9 view .LVU505
 1794 0296 8A1A     		subs	r2, r1, r2
 1795              	.LVL120:
 175:../../libDaisy/src/util/FIFO.h ****         return size_t(numElements);
 1796              		.loc 8 175 25 view .LVU506
 1797 0298 48BF     		it	mi
 1798 029a 1218     		addmi	r2, r2, r0
 1799              	.LVL121:
 175:../../libDaisy/src/util/FIFO.h ****         return size_t(numElements);
 1800              		.loc 8 175 25 view .LVU507
 1801              	.LBE617:
 1802              	.LBE616:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 75


 168:../../libDaisy/src/util/FIFO.h **** 
 1803              		.loc 8 168 66 view .LVU508
 1804 029c 0138     		subs	r0, r0, #1
 1805              	.LBE615:
 1806              	.LBE614:
  51:../../libDaisy/src/util/FIFO.h ****         {
 1807              		.loc 8 51 9 view .LVU509
 1808 029e 9042     		cmp	r0, r2
 1809 02a0 B7D0     		beq	.L60
  53:../../libDaisy/src/util/FIFO.h ****             if(bufferIn_ >= bufferSize_)
 1810              		.loc 8 53 13 view .LVU510
 1811 02a2 3368     		ldr	r3, [r6]
 1812 02a4 01EBC100 		add	r0, r1, r1, lsl #3
 1813 02a8 0131     		adds	r1, r1, #1
 1814 02aa 9022     		movs	r2, #144
 1815 02ac 03EB0010 		add	r0, r3, r0, lsl #4
 1816 02b0 8DF868A0 		strb	r10, [sp, #104]
 1817 02b4 B160     		str	r1, [r6, #8]
 1818 02b6 1AA9     		add	r1, sp, #104
 1819              	.LVL122:
  53:../../libDaisy/src/util/FIFO.h ****             if(bufferIn_ >= bufferSize_)
 1820              		.loc 8 53 13 view .LVU511
 1821 02b8 8DF87040 		strb	r4, [sp, #112]
 1822 02bc FFF7FEFF 		bl	memcpy
 1823              	.LVL123:
  53:../../libDaisy/src/util/FIFO.h ****             if(bufferIn_ >= bufferSize_)
 1824              		.loc 8 53 13 view .LVU512
 1825              	.LBE613:
 1826              	.LBE612:
 1827              	.LBE594:
 1828              	.LBB623:
 1829              	.LBB590:
 1830              	.LBB586:
 173:../../libDaisy/src/util/FIFO.h ****         if(numElements < 0)
 1831              		.loc 8 173 31 view .LVU513
 1832 02c0 D7F8AC90 		ldr	r9, [r7, #172]
 1833              	.LVL124:
 173:../../libDaisy/src/util/FIFO.h ****         if(numElements < 0)
 1834              		.loc 8 173 31 view .LVU514
 1835              	.LBE586:
 1836              	.LBE590:
 1837              	.LBE623:
 343:SYNTHMACHINE.cpp ****             {
 1838              		.loc 7 343 13 is_stmt 1 view .LVU515
 343:SYNTHMACHINE.cpp ****             {
 1839              		.loc 7 343 33 view .LVU516
 1840              	.LBB624:
 197:../../libDaisy/src/hid/midi.h **** 
 1841              		.loc 9 197 10 view .LVU517
 1842              	.LBB591:
 171:../../libDaisy/src/util/FIFO.h ****     {
 1843              		.loc 8 171 12 view .LVU518
 1844              	.LBB587:
 173:../../libDaisy/src/util/FIFO.h ****         if(numElements < 0)
 1845              		.loc 8 173 43 is_stmt 0 view .LVU519
 1846 02c4 D7F8B050 		ldr	r5, [r7, #176]
 1847              	.LVL125:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 76


 173:../../libDaisy/src/util/FIFO.h ****         if(numElements < 0)
 1848              		.loc 8 173 43 view .LVU520
 1849              	.LBE587:
 1850              	.LBE591:
 1851              	.LBE624:
 1852              	.LBB625:
 1853              	.LBB619:
 1854              	.LBB618:
  54:../../libDaisy/src/util/FIFO.h ****                 bufferIn_ -= bufferSize_;
 1855              		.loc 8 54 29 view .LVU521
 1856 02c8 D6E90123 		ldrd	r2, r3, [r6, #4]
  54:../../libDaisy/src/util/FIFO.h ****                 bufferIn_ -= bufferSize_;
 1857              		.loc 8 54 13 view .LVU522
 1858 02cc 9342     		cmp	r3, r2
  55:../../libDaisy/src/util/FIFO.h ****             return true;
 1859              		.loc 8 55 27 view .LVU523
 1860 02ce 24BF     		itt	cs
 1861 02d0 9B1A     		subcs	r3, r3, r2
 1862 02d2 B360     		strcs	r3, [r6, #8]
 1863              	.LBE618:
 1864              	.LBE619:
 1865              	.LBE625:
 1866              	.LBB626:
 1867              	.LBB592:
 1868              	.LBB588:
 174:../../libDaisy/src/util/FIFO.h ****             numElements += bufferSize_;
 1869              		.loc 8 174 9 view .LVU524
 1870 02d4 B9EB0503 		subs	r3, r9, r5
 1871              	.LVL126:
 174:../../libDaisy/src/util/FIFO.h ****             numElements += bufferSize_;
 1872              		.loc 8 174 9 view .LVU525
 1873 02d8 A0D5     		bpl	.L51
 1874              	.L108:
 175:../../libDaisy/src/util/FIFO.h ****         return size_t(numElements);
 1875              		.loc 8 175 25 view .LVU526
 1876 02da D7F8A820 		ldr	r2, [r7, #168]
 1877 02de 1344     		add	r3, r3, r2
 1878              	.LVL127:
 175:../../libDaisy/src/util/FIFO.h ****         return size_t(numElements);
 1879              		.loc 8 175 25 view .LVU527
 1880              	.LBE588:
 1881              	.LBE592:
 1882              	.LBE626:
 343:SYNTHMACHINE.cpp ****             {
 1883              		.loc 7 343 33 view .LVU528
 1884 02e0 002B     		cmp	r3, #0
 1885 02e2 9DD1     		bne	.L110
 1886              	.L101:
 1887 02e4 059C     		ldr	r4, [sp, #20]
 1888 02e6 37E7     		b	.L49
 1889              	.LVL128:
 1890              	.L109:
 1891              	.LBB627:
 1892              	.LBB620:
 1893              	.LBB601:
 1894              	.LBB599:
 1895              	.LBI599:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 77


 101:../../libDaisy/src/util/FIFO.h ****     {
 1896              		.loc 8 101 7 is_stmt 1 view .LVU529
 1897              	.LBB600:
 104:../../libDaisy/src/util/FIFO.h ****         else
 1898              		.loc 8 104 22 is_stmt 0 view .LVU530
 1899 02e8 0024     		movs	r4, #0
 1900 02ea 9022     		movs	r2, #144
 1901 02ec 0021     		movs	r1, #0
 1902 02ee 1AA8     		add	r0, sp, #104
 1903 02f0 FFF7FEFF 		bl	memset
 1904              	.LVL129:
 104:../../libDaisy/src/util/FIFO.h ****         else
 1905              		.loc 8 104 22 view .LVU531
 1906              	.LBE600:
 1907              	.LBE599:
 1908              	.LBE601:
 1909              	.LBE620:
 350:SYNTHMACHINE.cpp ****                 {
 1910              		.loc 7 350 17 is_stmt 1 view .LVU532
 1911              	.L53:
 361:SYNTHMACHINE.cpp ****                     {
 1912              		.loc 7 361 21 view .LVU533
 362:SYNTHMACHINE.cpp ****                         VolumeEnv.SetState(CustomAdsr::OffNote);
 1913              		.loc 7 362 21 view .LVU534
 363:SYNTHMACHINE.cpp ****                     }
 1914              		.loc 7 363 25 view .LVU535
 1915              	.LBB621:
 1916              	.LBI621:
 138:SYNTHMACHINE.cpp ****             Note_Stat = Note_State_Ext;
 1917              		.loc 7 138 14 view .LVU536
 1918              	.LBB622:
 139:SYNTHMACHINE.cpp ****         }
 1919              		.loc 7 139 13 view .LVU537
 140:SYNTHMACHINE.cpp **** 
 1920              		.loc 7 140 9 is_stmt 0 view .LVU538
 1921 02f4 4FF0000A 		mov	r10, #0
 139:SYNTHMACHINE.cpp ****         }
 1922              		.loc 7 139 23 view .LVU539
 1923 02f8 4FF0010B 		mov	fp, #1
 140:SYNTHMACHINE.cpp **** 
 1924              		.loc 7 140 9 view .LVU540
 1925 02fc C8E7     		b	.L55
 1926              	.L114:
 1927 02fe 00BF     		.align	3
 1928              	.L113:
 1929 0300 00000000 		.word	0
 1930 0304 00408F40 		.word	1083129856
 1931 0308 00000000 		.word	.LANCHOR1
 1932 030c 00000000 		.word	.LANCHOR4
 1933 0310 00000000 		.word	midi
 1934 0314 00000000 		.word	0
 1935 0318 00004842 		.word	1112014848
 1936 031c 00000000 		.word	_Z12USBH_ConnectPv
 1937 0320 00000000 		.word	.LANCHOR0
 1938 0324 00000000 		.word	_Z15USBH_DisconnectPv
 1939 0328 00000000 		.word	_Z16USBH_ClassActivePv
 1940 032c 00000000 		.word	_Z10USBH_ErrorPv
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 78


 1941 0330 00000000 		.word	USBH_midi
 1942 0334 00000000 		.word	.LANCHOR2
 1943 0338 00000000 		.word	.LANCHOR3
 1944 033c 00000000 		.word	event_log
 1945 0340 3EC3AE39 		.word	967754558
 1946 0344 04000000 		.word	midi+4
 1947 0348 5D414CAE 		.word	-1370734243
 1948 034c 00F07F45 		.word	1166012416
 1949 0350 0E74DA3A 		.word	987395086
 1950 0354 00000000 		.word	0
 1951 0358 00009643 		.word	1133903872
 1952              	.LVL130:
 1953              	.L106:
 140:SYNTHMACHINE.cpp **** 
 1954              		.loc 7 140 9 view .LVU541
 1955              	.LBE622:
 1956              	.LBE621:
 1957              	.LBE627:
 1958              	.LBE576:
 1959              	.LBE656:
 1960              	.LBB657:
 1961              	.LBB648:
 129:SYNTHMACHINE.cpp ****                     ProcessEnvNoteOn();
 1962              		.loc 7 129 17 is_stmt 1 view .LVU542
 130:SYNTHMACHINE.cpp ****                     break;
 1963              		.loc 7 130 21 view .LVU543
 1964              	.LBB638:
 1965              	.LBI638:
  56:SYNTHMACHINE.cpp ****             
 1966              		.loc 7 56 14 view .LVU544
 1967              	.LBB639:
  58:SYNTHMACHINE.cpp ****                 case Attack:
 1968              		.loc 7 58 13 view .LVU545
 1969 035c 013B     		subs	r3, r3, #1
 1970 035e 022B     		cmp	r3, #2
 1971 0360 58D8     		bhi	.L64
 1972 0362 DFE803F0 		tbb	[pc, r3]
 1973              	.L66:
 1974 0366 14       		.byte	(.L68-.L66)/2
 1975 0367 02       		.byte	(.L78-.L66)/2
 1976 0368 0E       		.byte	(.L65-.L66)/2
 1977 0369 00       		.p2align 1
 1978              	.L78:
 1979              	.LBE639:
 1980              	.LBE638:
 128:SYNTHMACHINE.cpp ****                 case OnNote:
 1981              		.loc 7 128 13 is_stmt 0 view .LVU546
 1982 036a B6EE00AA 		vmov.f32	s20, #5.0e-1
 1983              	.LVL131:
 1984              	.L100:
 128:SYNTHMACHINE.cpp ****                 case OnNote:
 1985              		.loc 7 128 13 view .LVU547
 1986              	.LBE648:
 1987              	.LBE657:
 1988              	.LBB658:
 1989              	.LBB654:
 241:SYNTHMACHINE.cpp **** 
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 79


 1990              		.loc 7 241 38 view .LVU548
 1991 036e 5FED097A 		vldr.32	s15, .L113+76
 1992 0372 6AEE277A 		vmul.f32	s15, s20, s15
 243:SYNTHMACHINE.cpp **** }
 1993              		.loc 7 243 49 view .LVU549
 1994 0376 FCEEE77A 		vcvt.u32.f32	s15, s15
 1995 037a 17EE903A 		vmov	r3, s15	@ int
 1996 037e 9BB2     		uxth	r3, r3
 1997 0380 2AE7     		b	.L71
 1998              	.LVL132:
 1999              	.L65:
 243:SYNTHMACHINE.cpp **** }
 2000              		.loc 7 243 49 view .LVU550
 2001              	.LBE654:
 2002              	.LBE658:
 2003              	.LBB659:
 2004              	.LBB649:
 2005              	.LBB643:
 2006              	.LBB640:
  82:SYNTHMACHINE.cpp ****                     ADSR_Sample_Val = 0;
 2007              		.loc 7 82 31 view .LVU551
 2008 0382 0023     		movs	r3, #0
 2009 0384 0493     		str	r3, [sp, #16]
 2010              	.LVL133:
 2011              	.L81:
  90:SYNTHMACHINE.cpp ****             }
 2012              		.loc 7 90 33 view .LVU552
 2013 0386 1FED0DAA 		vldr.32	s20, .L113+84
 2014              	.LVL134:
  90:SYNTHMACHINE.cpp ****             }
 2015              		.loc 7 90 33 view .LVU553
 2016 038a 0023     		movs	r3, #0
 2017 038c 24E7     		b	.L71
 2018              	.LVL135:
 2019              	.L68:
  68:SYNTHMACHINE.cpp ****                     if (ADSR_Sample_Val <= SustainPoint){
 2020              		.loc 7 68 17 is_stmt 1 view .LVU554
  69:SYNTHMACHINE.cpp ****                         ADSR_Sample_Val = SustainPoint;
 2021              		.loc 7 69 21 view .LVU555
 2022 038e F6EE007A 		vmov.f32	s15, #5.0e-1
 2023 0392 B4EEE7AA 		vcmpe.f32	s20, s15
 2024 0396 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2025 039a 36D9     		bls	.L80
  73:SYNTHMACHINE.cpp ****                     }
 2026              		.loc 7 73 25 view .LVU556
  73:SYNTHMACHINE.cpp ****                     }
 2027              		.loc 7 73 41 is_stmt 0 view .LVU557
 2028 039c 5FED147A 		vldr.32	s15, .L113+80
 2029 03a0 3AEE67AA 		vsub.f32	s20, s20, s15
 2030              	.LVL136:
 2031              	.L70:
  86:SYNTHMACHINE.cpp ****                 ADSR_Sample_Val = 1;
 2032              		.loc 7 86 13 is_stmt 1 view .LVU558
 2033 03a4 F7EE007A 		vmov.f32	s15, #1.0e+0
 2034 03a8 B4EEE7AA 		vcmpe.f32	s20, s15
 2035 03ac F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2036 03b0 12DB     		blt	.L111
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 80


 2037              	.LVL137:
 2038              	.L69:
  89:SYNTHMACHINE.cpp ****                 ADSR_Sample_Val = 0;
 2039              		.loc 7 89 13 view .LVU559
  87:SYNTHMACHINE.cpp ****             }
 2040              		.loc 7 87 33 is_stmt 0 view .LVU560
 2041 03b2 B7EE00AA 		vmov.f32	s20, #1.0e+0
 2042              	.LBE640:
 2043              	.LBE643:
 2044              	.LBB644:
 2045              	.LBB635:
 100:SYNTHMACHINE.cpp ****                         }
 2046              		.loc 7 100 45 view .LVU561
 2047 03b6 40F6FF73 		movw	r3, #4095
 2048 03ba 0DE7     		b	.L71
 2049              	.LVL138:
 2050              	.L82:
  97:SYNTHMACHINE.cpp ****                     case Attack:
 2051              		.loc 7 97 17 view .LVU562
 2052 03bc F0EE4AAA 		vmov.f32	s21, s20
 2053              	.L73:
 2054              	.LVL139:
 121:SYNTHMACHINE.cpp ****                     ADSR_Sample_Val = 0;
 2055              		.loc 7 121 17 is_stmt 1 view .LVU563
 2056 03c0 B5EEC0AA 		vcmpe.f32	s20, #0
 2057 03c4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2058 03c8 3FF6FBAE 		bhi	.L74
 121:SYNTHMACHINE.cpp ****                     ADSR_Sample_Val = 0;
 2059              		.loc 7 121 17 is_stmt 0 view .LVU564
 2060 03cc 0322     		movs	r2, #3
 2061 03ce 0023     		movs	r3, #0
 122:SYNTHMACHINE.cpp ****                 }
 2062              		.loc 7 122 37 view .LVU565
 2063 03d0 1FED20AA 		vldr.32	s20, .L113+84
 2064              	.LVL140:
 122:SYNTHMACHINE.cpp ****                 }
 2065              		.loc 7 122 37 view .LVU566
 2066 03d4 0492     		str	r2, [sp, #16]
 2067 03d6 FFE6     		b	.L71
 2068              	.LVL141:
 2069              	.L111:
 122:SYNTHMACHINE.cpp ****                 }
 2070              		.loc 7 122 37 view .LVU567
 2071              	.LBE635:
 2072              	.LBE644:
 2073              	.LBB645:
 2074              	.LBB641:
  89:SYNTHMACHINE.cpp ****                 ADSR_Sample_Val = 0;
 2075              		.loc 7 89 13 is_stmt 1 view .LVU568
 2076 03d8 B5EEC0AA 		vcmpe.f32	s20, #0
 2077 03dc F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2078 03e0 D1D9     		bls	.L81
 2079 03e2 C4E7     		b	.L100
 2080              	.LVL142:
 2081              	.L72:
  89:SYNTHMACHINE.cpp ****                 ADSR_Sample_Val = 0;
 2082              		.loc 7 89 13 is_stmt 0 view .LVU569
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 81


 2083              	.LBE641:
 2084              	.LBE645:
 2085              	.LBB646:
 2086              	.LBB636:
 116:SYNTHMACHINE.cpp ****                         ADSR_Sample_Val -= ADSR_Sample_Val_old / (sample_rate * ReleaseTime);
 2087              		.loc 7 116 21 is_stmt 1 view .LVU570
 117:SYNTHMACHINE.cpp ****                     break;
 2088              		.loc 7 117 25 view .LVU571
 117:SYNTHMACHINE.cpp ****                     break;
 2089              		.loc 7 117 64 is_stmt 0 view .LVU572
 2090 03e4 1FED247A 		vldr.32	s14, .L113+88
 2091 03e8 CAEE877A 		vdiv.f32	s15, s21, s14
 117:SYNTHMACHINE.cpp ****                     break;
 2092              		.loc 7 117 41 view .LVU573
 2093 03ec 3AEE67AA 		vsub.f32	s20, s20, s15
 2094              	.LVL143:
 118:SYNTHMACHINE.cpp ****                 }
 2095              		.loc 7 118 21 is_stmt 1 view .LVU574
 2096 03f0 E6E7     		b	.L73
 2097              	.LVL144:
 2098              	.L107:
 118:SYNTHMACHINE.cpp ****                 }
 2099              		.loc 7 118 21 is_stmt 0 view .LVU575
 2100              	.LBE636:
 2101              	.LBE646:
 2102              	.LBE649:
 2103              	.LBE659:
 2104              	.LBB660:
 2105              	.LBB629:
 2106              	.LBB628:
 2107              	.LBB581:
 188:../../libDaisy/src/hid/midi.h ****             transport_.FlushRx();
 2108              		.loc 9 188 26 view .LVU576
 2109 03f2 1148     		ldr	r0, .L115
 2110 03f4 FFF7FEFF 		bl	_ZN5daisy10MidiParser5ResetEv
 2111              	.LVL145:
 189:../../libDaisy/src/hid/midi.h ****             StartReceive();
 2112              		.loc 9 189 31 view .LVU577
 2113 03f8 1048     		ldr	r0, .L115+4
 2114 03fa FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport7FlushRxEv
 2115              	.LVL146:
 2116              	.LBB579:
 2117              	.LBI579:
 175:../../libDaisy/src/hid/midi.h ****     {
 2118              		.loc 9 175 10 is_stmt 1 view .LVU578
 2119              	.LBB580:
 177:../../libDaisy/src/hid/midi.h ****     }
 2120              		.loc 9 177 27 is_stmt 0 view .LVU579
 2121 03fe 104A     		ldr	r2, .L115+8
 2122 0400 1049     		ldr	r1, .L115+12
 2123 0402 101D     		adds	r0, r2, #4
 2124 0404 FFF7FEFF 		bl	_ZN5daisy16MidiUsbTransport7StartRxEPFvPhjPvES2_
 2125              	.LVL147:
 178:../../libDaisy/src/hid/midi.h **** 
 2126              		.loc 9 178 5 view .LVU580
 2127 0408 00E7     		b	.L50
 2128              	.LVL148:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 82


 2129              	.L80:
 178:../../libDaisy/src/hid/midi.h **** 
 2130              		.loc 9 178 5 view .LVU581
 2131              	.LBE580:
 2132              	.LBE579:
 2133              	.LBE581:
 2134              	.LBE628:
 2135              	.LBE629:
 2136              	.LBE660:
 2137              	.LBB661:
 2138              	.LBB650:
 2139              	.LBB647:
 2140              	.LBB642:
  71:SYNTHMACHINE.cpp ****                     } else {
 2141              		.loc 7 71 35 view .LVU582
 2142 040a 0223     		movs	r3, #2
  70:SYNTHMACHINE.cpp ****                         Env_State = Sustain;
 2143              		.loc 7 70 41 view .LVU583
 2144 040c B0EE67AA 		vmov.f32	s20, s15
 2145              	.LVL149:
  71:SYNTHMACHINE.cpp ****                     } else {
 2146              		.loc 7 71 35 view .LVU584
 2147 0410 0493     		str	r3, [sp, #16]
 2148              	.LVL150:
  86:SYNTHMACHINE.cpp ****                 ADSR_Sample_Val = 1;
 2149              		.loc 7 86 13 is_stmt 1 view .LVU585
 2150 0412 ACE7     		b	.L100
 2151              	.LVL151:
 2152              	.L64:
  59:SYNTHMACHINE.cpp ****                     if (ADSR_Sample_Val >= 1){
 2153              		.loc 7 59 17 view .LVU586
  60:SYNTHMACHINE.cpp ****                         ADSR_Sample_Val = 1;
 2154              		.loc 7 60 21 view .LVU587
 2155 0414 F7EE007A 		vmov.f32	s15, #1.0e+0
 2156 0418 B4EEE7AA 		vcmpe.f32	s20, s15
 2157 041c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2158 0420 02DB     		blt	.L112
  62:SYNTHMACHINE.cpp ****                     } else {
 2159              		.loc 7 62 35 is_stmt 0 view .LVU588
 2160 0422 0123     		movs	r3, #1
 2161 0424 0493     		str	r3, [sp, #16]
 2162              	.LVL152:
  62:SYNTHMACHINE.cpp ****                     } else {
 2163              		.loc 7 62 35 view .LVU589
 2164 0426 C4E7     		b	.L69
 2165              	.LVL153:
 2166              	.L112:
  64:SYNTHMACHINE.cpp ****                     }
 2167              		.loc 7 64 25 is_stmt 1 view .LVU590
  64:SYNTHMACHINE.cpp ****                     }
 2168              		.loc 7 64 41 is_stmt 0 view .LVU591
 2169 0428 DFED077A 		vldr.32	s15, .L115+16
 2170 042c 0023     		movs	r3, #0
 2171 042e 3AEE27AA 		vadd.f32	s20, s20, s15
 2172              	.LVL154:
  64:SYNTHMACHINE.cpp ****                     }
 2173              		.loc 7 64 41 view .LVU592
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 83


 2174 0432 0493     		str	r3, [sp, #16]
 2175              	.LVL155:
  64:SYNTHMACHINE.cpp ****                     }
 2176              		.loc 7 64 41 view .LVU593
 2177 0434 B6E7     		b	.L70
 2178              	.L116:
 2179 0436 00BF     		.align	2
 2180              	.L115:
 2181 0438 08000000 		.word	midi+8
 2182 043c 04000000 		.word	midi+4
 2183 0440 00000000 		.word	midi
 2184 0444 00000000 		.word	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE13ParseCallbackEPhjPv
 2185 0448 0E745A3B 		.word	995783694
 2186              	.LBE642:
 2187              	.LBE647:
 2188              	.LBE650:
 2189              	.LBE661:
 2190              	.LBE572:
 2191              		.cfi_endproc
 2192              	.LFE4922:
 2194              		.section	.text.startup._GLOBAL__sub_I_hw,"ax",%progbits
 2195              		.align	1
 2196              		.p2align 2,,3
 2197              		.syntax unified
 2198              		.thumb
 2199              		.thumb_func
 2200              		.fpu fpv5-d16
 2202              	_GLOBAL__sub_I_hw:
 2203              	.LFB5526:
 409:SYNTHMACHINE.cpp ****                 LED_INTER = 50;
 410:SYNTHMACHINE.cpp ****             else
 411:SYNTHMACHINE.cpp ****                 LED_INTER = 25;
 412:SYNTHMACHINE.cpp ****         }
 413:SYNTHMACHINE.cpp **** 
 414:SYNTHMACHINE.cpp ****     }
 415:SYNTHMACHINE.cpp **** }
 2204              		.loc 7 415 1 is_stmt 1 view -0
 2205              		.cfi_startproc
 2206              		@ args = 0, pretend = 0, frame = 0
 2207              		@ frame_needed = 0, uses_anonymous_args = 0
 2208              	.LBB753:
 2209              	.LBI753:
 2210              		.loc 7 415 1 view .LVU595
 2211              	.LVL156:
 2212              	.LBB754:
 2213              	.LBB755:
 2214              	.LBI755:
  21:../../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 2215              		.loc 1 21 5 view .LVU596
 2216              	.LBB756:
 2217              	.LBB757:
 2218              	.LBI757:
 2219              		.file 17 "../../libDaisy/src/per/qspi.h"
   1:../../libDaisy/src/per/qspi.h **** #ifndef DSY_QSPI
   2:../../libDaisy/src/per/qspi.h **** #define DSY_QSPI /**< Macro */
   3:../../libDaisy/src/per/qspi.h **** 
   4:../../libDaisy/src/per/qspi.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 84


   5:../../libDaisy/src/per/qspi.h **** 
   6:../../libDaisy/src/per/qspi.h **** #include <cstdint>
   7:../../libDaisy/src/per/qspi.h **** #include "daisy_core.h"
   8:../../libDaisy/src/per/qspi.h **** #include "util/hal_map.h"
   9:../../libDaisy/src/per/qspi.h **** 
  10:../../libDaisy/src/per/qspi.h **** #define DSY_QSPI_TEXT       \
  11:../../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  12:../../libDaisy/src/per/qspi.h ****         ".qspiflash_text"))) /**< used for reading memory in memory_mapped mode. */
  13:../../libDaisy/src/per/qspi.h **** #define DSY_QSPI_DATA       \
  14:../../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  15:../../libDaisy/src/per/qspi.h ****         ".qspiflash_data"))) /**< used for reading memory in memory_mapped mode. */
  16:../../libDaisy/src/per/qspi.h **** #define DSY_QSPI_BSS        \
  17:../../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  18:../../libDaisy/src/per/qspi.h ****         ".qspiflash_bss"))) /**< used for reading memory in memory_mapped mode. */
  19:../../libDaisy/src/per/qspi.h **** 
  20:../../libDaisy/src/per/qspi.h **** namespace daisy
  21:../../libDaisy/src/per/qspi.h **** {
  22:../../libDaisy/src/per/qspi.h **** /** @addtogroup serial
  23:../../libDaisy/src/per/qspi.h **** @{
  24:../../libDaisy/src/per/qspi.h **** */
  25:../../libDaisy/src/per/qspi.h **** 
  26:../../libDaisy/src/per/qspi.h **** /**
  27:../../libDaisy/src/per/qspi.h ****  Driver for QSPI peripheral to interface with external flash memory. \n
  28:../../libDaisy/src/per/qspi.h ****     Currently supported QSPI Devices: \n
  29:../../libDaisy/src/per/qspi.h ****     * IS25LP080D
  30:../../libDaisy/src/per/qspi.h **** */
  31:../../libDaisy/src/per/qspi.h **** class QSPIHandle
  32:../../libDaisy/src/per/qspi.h **** {
  33:../../libDaisy/src/per/qspi.h ****   public:
  34:../../libDaisy/src/per/qspi.h ****     enum Result
  35:../../libDaisy/src/per/qspi.h ****     {
  36:../../libDaisy/src/per/qspi.h ****         OK = 0,
  37:../../libDaisy/src/per/qspi.h ****         ERR
  38:../../libDaisy/src/per/qspi.h ****     };
  39:../../libDaisy/src/per/qspi.h **** 
  40:../../libDaisy/src/per/qspi.h ****     /** Indicates the current status of the module.
  41:../../libDaisy/src/per/qspi.h ****          *  Warnings are indicated by a leading W.
  42:../../libDaisy/src/per/qspi.h ****          *  Errors are indicated by a leading E and cause an immediate exit.
  43:../../libDaisy/src/per/qspi.h ****          *
  44:../../libDaisy/src/per/qspi.h ****          *  \param GOOD - No errors have been reported.
  45:../../libDaisy/src/per/qspi.h ****          *  \param E_HAL_ERROR - HAL code did not return HAL_OK.
  46:../../libDaisy/src/per/qspi.h ****          *  \param E_SWITCHING_MODES - An error was encountered while switching QSPI peripheral mod
  47:../../libDaisy/src/per/qspi.h ****          *  \param E_INVALID_MODE - QSPI should not be written to while the program is executing fr
  48:../../libDaisy/src/per/qspi.h ****          */
  49:../../libDaisy/src/per/qspi.h ****     enum Status
  50:../../libDaisy/src/per/qspi.h ****     {
  51:../../libDaisy/src/per/qspi.h ****         GOOD = 0,
  52:../../libDaisy/src/per/qspi.h ****         E_HAL_ERROR,
  53:../../libDaisy/src/per/qspi.h ****         E_SWITCHING_MODES,
  54:../../libDaisy/src/per/qspi.h ****         E_INVALID_MODE,
  55:../../libDaisy/src/per/qspi.h ****     };
  56:../../libDaisy/src/per/qspi.h **** 
  57:../../libDaisy/src/per/qspi.h ****     /** Configuration structure for interfacing with QSPI Driver */
  58:../../libDaisy/src/per/qspi.h ****     struct Config
  59:../../libDaisy/src/per/qspi.h ****     {
  60:../../libDaisy/src/per/qspi.h ****         /** Flash Devices supported. (Both of these are more-or-less the same, just different sizes
  61:../../libDaisy/src/per/qspi.h ****         enum Device
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 85


  62:../../libDaisy/src/per/qspi.h ****         {
  63:../../libDaisy/src/per/qspi.h ****             IS25LP080D,  /**< & */
  64:../../libDaisy/src/per/qspi.h ****             IS25LP064A,  /**< & */
  65:../../libDaisy/src/per/qspi.h ****             DEVICE_LAST, /**< & */
  66:../../libDaisy/src/per/qspi.h ****         };
  67:../../libDaisy/src/per/qspi.h **** 
  68:../../libDaisy/src/per/qspi.h ****         /**
  69:../../libDaisy/src/per/qspi.h ****         Modes of operation.
  70:../../libDaisy/src/per/qspi.h ****         Memory Mapped mode: QSPI configured so that the QSPI can be
  71:../../libDaisy/src/per/qspi.h ****         read from starting address 0x90000000. Writing is not
  72:../../libDaisy/src/per/qspi.h ****         possible in this mode. \n
  73:../../libDaisy/src/per/qspi.h ****         Indirect Polling mode: Device driver enabled.
  74:../../libDaisy/src/per/qspi.h ****         */
  75:../../libDaisy/src/per/qspi.h ****         enum Mode
  76:../../libDaisy/src/per/qspi.h ****         {
  77:../../libDaisy/src/per/qspi.h ****             MEMORY_MAPPED,    /**< & */
  78:../../libDaisy/src/per/qspi.h ****             INDIRECT_POLLING, /**< & */
  79:../../libDaisy/src/per/qspi.h ****             MODE_LAST,
  80:../../libDaisy/src/per/qspi.h ****         };
  81:../../libDaisy/src/per/qspi.h **** 
  82:../../libDaisy/src/per/qspi.h ****         //SCK,  CE# (active low)
  83:../../libDaisy/src/per/qspi.h ****         struct
  84:../../libDaisy/src/per/qspi.h ****         {
  85:../../libDaisy/src/per/qspi.h ****             Pin io0; /**< & */
  86:../../libDaisy/src/per/qspi.h ****             Pin io1; /**< & */
  87:../../libDaisy/src/per/qspi.h ****             Pin io2; /**< & */
  88:../../libDaisy/src/per/qspi.h ****             Pin io3; /**< & */
  89:../../libDaisy/src/per/qspi.h ****             Pin clk; /**< & */
  90:../../libDaisy/src/per/qspi.h ****             Pin ncs; /**< & */
  91:../../libDaisy/src/per/qspi.h ****         } pin_config;
  92:../../libDaisy/src/per/qspi.h **** 
  93:../../libDaisy/src/per/qspi.h ****         Device device;
  94:../../libDaisy/src/per/qspi.h ****         Mode   mode;
  95:../../libDaisy/src/per/qspi.h ****     };
  96:../../libDaisy/src/per/qspi.h **** 
  97:../../libDaisy/src/per/qspi.h ****     /**
  98:../../libDaisy/src/per/qspi.h ****         Initializes QSPI peripheral, and Resets, and prepares memory for access.
  99:../../libDaisy/src/per/qspi.h ****         \param config should be populated with the mode, device and pin_config before calling this 
 100:../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 101:../../libDaisy/src/per/qspi.h ****         */
 102:../../libDaisy/src/per/qspi.h ****     Result Init(const Config& config);
 103:../../libDaisy/src/per/qspi.h **** 
 104:../../libDaisy/src/per/qspi.h ****     /** Returns the current config. */
 105:../../libDaisy/src/per/qspi.h ****     const Config& GetConfig() const;
 106:../../libDaisy/src/per/qspi.h **** 
 107:../../libDaisy/src/per/qspi.h ****     // Couldn't this just be called before anything else in init? That
 108:../../libDaisy/src/per/qspi.h ****     // would make manually calling it unnecessary.
 109:../../libDaisy/src/per/qspi.h ****     /**
 110:../../libDaisy/src/per/qspi.h ****         Deinitializes the peripheral
 111:../../libDaisy/src/per/qspi.h ****         This should be called before reinitializing QSPI in a different mode.
 112:../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 113:../../libDaisy/src/per/qspi.h ****         */
 114:../../libDaisy/src/per/qspi.h ****     Result DeInit();
 115:../../libDaisy/src/per/qspi.h **** 
 116:../../libDaisy/src/per/qspi.h ****     /**
 117:../../libDaisy/src/per/qspi.h ****         Writes a single page to to the specified address on the QSPI chip.
 118:../../libDaisy/src/per/qspi.h ****         For IS25LP*, page size is 256 bytes.
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 86


 119:../../libDaisy/src/per/qspi.h ****         \param address Address to write to
 120:../../libDaisy/src/per/qspi.h ****         \param size Buffer size
 121:../../libDaisy/src/per/qspi.h ****         \param buffer Buffer to write
 122:../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 123:../../libDaisy/src/per/qspi.h ****         */
 124:../../libDaisy/src/per/qspi.h ****     Result WritePage(uint32_t address, uint32_t size, uint8_t* buffer);
 125:../../libDaisy/src/per/qspi.h **** 
 126:../../libDaisy/src/per/qspi.h ****     /**
 127:../../libDaisy/src/per/qspi.h ****         Writes data in buffer to to the QSPI. Starting at address to address+size
 128:../../libDaisy/src/per/qspi.h ****         \param address Address to write to
 129:../../libDaisy/src/per/qspi.h ****         \param size Buffer size
 130:../../libDaisy/src/per/qspi.h ****         \param buffer Buffer to write
 131:../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 132:../../libDaisy/src/per/qspi.h ****         */
 133:../../libDaisy/src/per/qspi.h ****     Result Write(uint32_t address, uint32_t size, uint8_t* buffer);
 134:../../libDaisy/src/per/qspi.h **** 
 135:../../libDaisy/src/per/qspi.h ****     /**
 136:../../libDaisy/src/per/qspi.h ****         Erases the area specified on the chip.
 137:../../libDaisy/src/per/qspi.h ****         Erasures will happen by 4K, 32K or 64K increments.
 138:../../libDaisy/src/per/qspi.h ****         Smallest erase possible is 4kB at a time. (on IS25LP*)
 139:../../libDaisy/src/per/qspi.h ****         \param start_addr Address to begin erasing from
 140:../../libDaisy/src/per/qspi.h ****         \param end_addr  Address to stop erasing at
 141:../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 142:../../libDaisy/src/per/qspi.h ****         */
 143:../../libDaisy/src/per/qspi.h ****     Result Erase(uint32_t start_addr, uint32_t end_addr);
 144:../../libDaisy/src/per/qspi.h **** 
 145:../../libDaisy/src/per/qspi.h ****     /**
 146:../../libDaisy/src/per/qspi.h ****          Erases a single sector of the chip.
 147:../../libDaisy/src/per/qspi.h ****         TODO: Document the size of this function.
 148:../../libDaisy/src/per/qspi.h ****         \param address Address of sector to erase
 149:../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 150:../../libDaisy/src/per/qspi.h ****         */
 151:../../libDaisy/src/per/qspi.h ****     Result EraseSector(uint32_t address);
 152:../../libDaisy/src/per/qspi.h **** 
 153:../../libDaisy/src/per/qspi.h ****     /** Returns the current class status. Useful for debugging.
 154:../../libDaisy/src/per/qspi.h ****      *  \returns Status
 155:../../libDaisy/src/per/qspi.h ****      */
 156:../../libDaisy/src/per/qspi.h ****     Status GetStatus();
 157:../../libDaisy/src/per/qspi.h **** 
 158:../../libDaisy/src/per/qspi.h ****     /** Returns a pointer to the actual memory used
 159:../../libDaisy/src/per/qspi.h ****      *  The memory at this address is read-only
 160:../../libDaisy/src/per/qspi.h ****      *  to write to it use the Write function.
 161:../../libDaisy/src/per/qspi.h ****      *
 162:../../libDaisy/src/per/qspi.h ****      *  \param offset returns the pointer starting this
 163:../../libDaisy/src/per/qspi.h ****      *                many bytes into the memory
 164:../../libDaisy/src/per/qspi.h ****     */
 165:../../libDaisy/src/per/qspi.h ****     void* GetData(uint32_t offset = 0);
 166:../../libDaisy/src/per/qspi.h **** 
 167:../../libDaisy/src/per/qspi.h ****     QSPIHandle() : pimpl_(nullptr) {}
 2220              		.loc 17 167 5 view .LVU597
 2221              		.loc 17 167 5 is_stmt 0 view .LVU598
 2222              	.LBE757:
 2223              	.LBB760:
 2224              	.LBI760:
  58:../../libDaisy/src/per/qspi.h ****     {
 2225              		.loc 17 58 12 is_stmt 1 view .LVU599
 2226              	.LBB761:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 87


 2227              	.LBI761:
  84:../../libDaisy/src/per/qspi.h ****             Pin io0; /**< & */
 2228              		.loc 17 84 9 view .LVU600
 2229              	.LBB762:
 2230              	.LBI762:
 2231              		.loc 15 204 15 view .LVU601
 2232              		.loc 15 204 15 is_stmt 0 view .LVU602
 2233              	.LBE762:
 2234              	.LBB763:
 2235              	.LBI763:
 2236              		.loc 15 204 15 is_stmt 1 view .LVU603
 2237              		.loc 15 204 15 is_stmt 0 view .LVU604
 2238              	.LBE763:
 2239              	.LBB764:
 2240              	.LBI764:
 2241              		.loc 15 204 15 is_stmt 1 view .LVU605
 2242              		.loc 15 204 15 is_stmt 0 view .LVU606
 2243              	.LBE764:
 2244              	.LBB765:
 2245              	.LBI765:
 2246              		.loc 15 204 15 is_stmt 1 view .LVU607
 2247              		.loc 15 204 15 is_stmt 0 view .LVU608
 2248              	.LBE765:
 2249              	.LBB766:
 2250              	.LBI766:
 2251              		.loc 15 204 15 is_stmt 1 view .LVU609
 2252              		.loc 15 204 15 is_stmt 0 view .LVU610
 2253              	.LBE766:
 2254              	.LBB767:
 2255              	.LBI767:
 2256              		.loc 15 204 15 is_stmt 1 view .LVU611
 2257              		.loc 15 204 15 is_stmt 0 view .LVU612
 2258              	.LBE767:
 2259              	.LBE761:
 2260              	.LBE760:
 2261              	.LBB768:
 2262              	.LBI768:
  87:../../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 2263              		.loc 6 87 5 is_stmt 1 view .LVU613
  87:../../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 2264              		.loc 6 87 5 is_stmt 0 view .LVU614
 2265              	.LBE768:
 2266              	.LBB771:
 2267              	.LBI771:
 109:../../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
 2268              		.loc 5 109 5 is_stmt 1 view .LVU615
 109:../../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
 2269              		.loc 5 109 5 is_stmt 0 view .LVU616
 2270              	.LBE771:
 2271              	.LBB772:
 2272              	.LBI772:
 2273              		.file 18 "../../libDaisy/src/per/dac.h"
   1:../../libDaisy/src/per/dac.h **** #pragma once
   2:../../libDaisy/src/per/dac.h **** #ifndef DSY_DAC_H
   3:../../libDaisy/src/per/dac.h **** #define DSY_DAC_H
   4:../../libDaisy/src/per/dac.h **** #include "stm32h7xx_hal.h"
   5:../../libDaisy/src/per/dac.h **** #include "daisy_core.h"
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 88


   6:../../libDaisy/src/per/dac.h **** 
   7:../../libDaisy/src/per/dac.h **** namespace daisy
   8:../../libDaisy/src/per/dac.h **** {
   9:../../libDaisy/src/per/dac.h **** /** @brief DAC handle for Built-in DAC Peripheral 
  10:../../libDaisy/src/per/dac.h ****  *  @ingroup per_analog
  11:../../libDaisy/src/per/dac.h ****  ** 
  12:../../libDaisy/src/per/dac.h ****  ** For now only Normal Mode is supported,
  13:../../libDaisy/src/per/dac.h ****  ** Sample and hold mode provides reduced power consumption, but requires a bit more setup.
  14:../../libDaisy/src/per/dac.h ****  **
  15:../../libDaisy/src/per/dac.h ****  ** For now connecting the DAC through other internal peripherals is also not supported.
  16:../../libDaisy/src/per/dac.h ****  **
  17:../../libDaisy/src/per/dac.h ****  ** Since the DAC channels have dedicated pins we don't need to pass in a pin config like with
  18:../../libDaisy/src/per/dac.h ****  ** other modules. However, it is still important to not try to use the DAC pins for anything else.
  19:../../libDaisy/src/per/dac.h ****  ** DAC Channel 1 is on PA4, and DAC Channel 2 is on PA5
  20:../../libDaisy/src/per/dac.h ****  ***/
  21:../../libDaisy/src/per/dac.h **** class DacHandle
  22:../../libDaisy/src/per/dac.h **** {
  23:../../libDaisy/src/per/dac.h ****   public:
  24:../../libDaisy/src/per/dac.h ****     /** Return Values for the DacHandle class */
  25:../../libDaisy/src/per/dac.h ****     enum class Result
  26:../../libDaisy/src/per/dac.h ****     {
  27:../../libDaisy/src/per/dac.h ****         OK,
  28:../../libDaisy/src/per/dac.h ****         ERR,
  29:../../libDaisy/src/per/dac.h ****     };
  30:../../libDaisy/src/per/dac.h **** 
  31:../../libDaisy/src/per/dac.h ****     /** Selects which channel(s) will be configured for use. */
  32:../../libDaisy/src/per/dac.h ****     enum class Channel
  33:../../libDaisy/src/per/dac.h ****     {
  34:../../libDaisy/src/per/dac.h ****         ONE,
  35:../../libDaisy/src/per/dac.h ****         TWO,
  36:../../libDaisy/src/per/dac.h ****         BOTH,
  37:../../libDaisy/src/per/dac.h ****     };
  38:../../libDaisy/src/per/dac.h **** 
  39:../../libDaisy/src/per/dac.h ****     /** Sets the Mode for the DAC channels.
  40:../../libDaisy/src/per/dac.h ****      **
  41:../../libDaisy/src/per/dac.h ****      ** Polling mode uses the blocking mode to transmit a single value at a time.
  42:../../libDaisy/src/per/dac.h ****      **
  43:../../libDaisy/src/per/dac.h ****      ** DMA mode uses a buffer, and periodically transmits it triggering a 
  44:../../libDaisy/src/per/dac.h ****      ** callback to fill the buffer when it is ready for more samples.
  45:../../libDaisy/src/per/dac.h ****      ***/
  46:../../libDaisy/src/per/dac.h ****     enum class Mode
  47:../../libDaisy/src/per/dac.h ****     {
  48:../../libDaisy/src/per/dac.h ****         POLLING,
  49:../../libDaisy/src/per/dac.h ****         DMA,
  50:../../libDaisy/src/per/dac.h ****     };
  51:../../libDaisy/src/per/dac.h **** 
  52:../../libDaisy/src/per/dac.h ****     /** Sets the number of bits per sample transmitted out of the DAC.
  53:../../libDaisy/src/per/dac.h ****      ** The output range will be: 0V - VDDA
  54:../../libDaisy/src/per/dac.h ****      ** The resolution will be roughly: bitdepth / (VDDA - 0V) 
  55:../../libDaisy/src/per/dac.h ****      ***/
  56:../../libDaisy/src/per/dac.h ****     enum class BitDepth
  57:../../libDaisy/src/per/dac.h ****     {
  58:../../libDaisy/src/per/dac.h ****         BITS_8,
  59:../../libDaisy/src/per/dac.h ****         BITS_12
  60:../../libDaisy/src/per/dac.h ****     };
  61:../../libDaisy/src/per/dac.h **** 
  62:../../libDaisy/src/per/dac.h ****     /** Sets whether the DAC output is buffered for higher drive ability. */
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 89


  63:../../libDaisy/src/per/dac.h ****     enum class BufferState
  64:../../libDaisy/src/per/dac.h ****     {
  65:../../libDaisy/src/per/dac.h ****         ENABLED,
  66:../../libDaisy/src/per/dac.h ****         DISABLED,
  67:../../libDaisy/src/per/dac.h ****     };
  68:../../libDaisy/src/per/dac.h **** 
  69:../../libDaisy/src/per/dac.h ****     /** Configuration structure for initializing the DAC structure. */
  70:../../libDaisy/src/per/dac.h ****     struct Config
  71:../../libDaisy/src/per/dac.h ****     {
  72:../../libDaisy/src/per/dac.h ****         /** Target Samplerate in Hz used to configure the internal 
  73:../../libDaisy/src/per/dac.h ****          ** timebase for DMA mode. Does nothing in POLLING mode.
  74:../../libDaisy/src/per/dac.h ****          ** If the value is 0 at Init time this will default to 48000Hz 
  75:../../libDaisy/src/per/dac.h ****          ** otherwise the driver will attempt meet the target.*/
  76:../../libDaisy/src/per/dac.h ****         uint32_t target_samplerate;
  77:../../libDaisy/src/per/dac.h **** 
  78:../../libDaisy/src/per/dac.h ****         Channel     chn;
  79:../../libDaisy/src/per/dac.h ****         Mode        mode;
  80:../../libDaisy/src/per/dac.h ****         BitDepth    bitdepth;
  81:../../libDaisy/src/per/dac.h ****         BufferState buff_state;
  82:../../libDaisy/src/per/dac.h ****     };
  83:../../libDaisy/src/per/dac.h **** 
  84:../../libDaisy/src/per/dac.h ****     DacHandle() : pimpl_(nullptr) {}
 2274              		.loc 18 84 5 is_stmt 1 view .LVU617
 2275              		.loc 18 84 5 is_stmt 0 view .LVU618
 2276              	.LBE772:
 2277              	.LBB775:
 2278              	.LBI775:
  40:../../libDaisy/src/hid/usb.h **** 
 2279              		.loc 4 40 5 is_stmt 1 view .LVU619
  40:../../libDaisy/src/hid/usb.h **** 
 2280              		.loc 4 40 5 is_stmt 0 view .LVU620
 2281              	.LBE775:
 2282              	.LBB776:
 2283              	.LBI776:
 2284              		.file 19 "../../libDaisy/src/per/gpio.h"
   1:../../libDaisy/src/per/gpio.h **** #pragma once
   2:../../libDaisy/src/per/gpio.h **** #ifndef DSY_GPIO_H
   3:../../libDaisy/src/per/gpio.h **** #define DSY_GPIO_H
   4:../../libDaisy/src/per/gpio.h **** #include "daisy_core.h"
   5:../../libDaisy/src/per/gpio.h **** 
   6:../../libDaisy/src/per/gpio.h **** #ifdef __cplusplus
   7:../../libDaisy/src/per/gpio.h **** 
   8:../../libDaisy/src/per/gpio.h **** namespace daisy
   9:../../libDaisy/src/per/gpio.h **** {
  10:../../libDaisy/src/per/gpio.h **** /** @brief General Purpose I/O control 
  11:../../libDaisy/src/per/gpio.h ****  *  @details peripheral control over a single GPIO
  12:../../libDaisy/src/per/gpio.h ****  *  @ingroup peripheral
  13:../../libDaisy/src/per/gpio.h ****  *   
  14:../../libDaisy/src/per/gpio.h ****  *  Button Input (with internal Pullup resistor)
  15:../../libDaisy/src/per/gpio.h ****  *  @include GPIO_Input.cpp 
  16:../../libDaisy/src/per/gpio.h ****  * 
  17:../../libDaisy/src/per/gpio.h ****  *  Output Example (perfect for blinking an LED)
  18:../../libDaisy/src/per/gpio.h ****  *  @include GPIO_Output.cpp
  19:../../libDaisy/src/per/gpio.h ****  * 
  20:../../libDaisy/src/per/gpio.h **** */
  21:../../libDaisy/src/per/gpio.h **** class GPIO
  22:../../libDaisy/src/per/gpio.h **** {
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 90


  23:../../libDaisy/src/per/gpio.h ****   public:
  24:../../libDaisy/src/per/gpio.h ****     /** @brief Mode of operation for the specified GPIO */
  25:../../libDaisy/src/per/gpio.h ****     enum class Mode
  26:../../libDaisy/src/per/gpio.h ****     {
  27:../../libDaisy/src/per/gpio.h ****         INPUT,      /**< Input for reading state of pin */
  28:../../libDaisy/src/per/gpio.h ****         OUTPUT,     /**< Output w/ push-pull configuration */
  29:../../libDaisy/src/per/gpio.h ****         OPEN_DRAIN, /**< Output w/ open-drain configuration */
  30:../../libDaisy/src/per/gpio.h ****         ANALOG,     /**< Analog for connection to ADC or DAC peripheral */
  31:../../libDaisy/src/per/gpio.h ****     };
  32:../../libDaisy/src/per/gpio.h **** 
  33:../../libDaisy/src/per/gpio.h ****     /** @brief Configures whether an internal Pull up or Pull down resistor is used. 
  34:../../libDaisy/src/per/gpio.h ****      *  
  35:../../libDaisy/src/per/gpio.h ****      * Internal Pull up/down resistors are typically 40k ohms, and will be between
  36:../../libDaisy/src/per/gpio.h ****      * 30k and 50k
  37:../../libDaisy/src/per/gpio.h ****      * 
  38:../../libDaisy/src/per/gpio.h ****      * When the Pin is configured in Analog mode, the pull up/down resistors are
  39:../../libDaisy/src/per/gpio.h ****      * disabled by hardware. 
  40:../../libDaisy/src/per/gpio.h ****      */
  41:../../libDaisy/src/per/gpio.h ****     enum class Pull
  42:../../libDaisy/src/per/gpio.h ****     {
  43:../../libDaisy/src/per/gpio.h ****         NOPULL,   /**< No pull up resistor */
  44:../../libDaisy/src/per/gpio.h ****         PULLUP,   /**< Internal pull up enabled */
  45:../../libDaisy/src/per/gpio.h ****         PULLDOWN, /**< Internal pull down enabled*/
  46:../../libDaisy/src/per/gpio.h ****     };
  47:../../libDaisy/src/per/gpio.h **** 
  48:../../libDaisy/src/per/gpio.h ****     /** @brief Output speed controls the drive strength, and slew rate of the pin */
  49:../../libDaisy/src/per/gpio.h ****     enum class Speed
  50:../../libDaisy/src/per/gpio.h ****     {
  51:../../libDaisy/src/per/gpio.h ****         LOW,
  52:../../libDaisy/src/per/gpio.h ****         MEDIUM,
  53:../../libDaisy/src/per/gpio.h ****         HIGH,
  54:../../libDaisy/src/per/gpio.h ****         VERY_HIGH,
  55:../../libDaisy/src/per/gpio.h ****     };
  56:../../libDaisy/src/per/gpio.h **** 
  57:../../libDaisy/src/per/gpio.h ****     /** @brief Configuration for a given GPIO */
  58:../../libDaisy/src/per/gpio.h ****     struct Config
  59:../../libDaisy/src/per/gpio.h ****     {
  60:../../libDaisy/src/per/gpio.h ****         Pin   pin;
  61:../../libDaisy/src/per/gpio.h ****         Mode  mode;
  62:../../libDaisy/src/per/gpio.h ****         Pull  pull;
  63:../../libDaisy/src/per/gpio.h ****         Speed speed;
  64:../../libDaisy/src/per/gpio.h **** 
  65:../../libDaisy/src/per/gpio.h ****         /** Constructor with no arguments will prepare an invalid GPIO set as
  66:../../libDaisy/src/per/gpio.h ****          *  an input, with no pullup. 
  67:../../libDaisy/src/per/gpio.h ****          */
  68:../../libDaisy/src/per/gpio.h ****         Config()
  69:../../libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
  70:../../libDaisy/src/per/gpio.h ****         {
  71:../../libDaisy/src/per/gpio.h ****         }
  72:../../libDaisy/src/per/gpio.h ****     };
  73:../../libDaisy/src/per/gpio.h **** 
  74:../../libDaisy/src/per/gpio.h ****     GPIO() {}
 2285              		.loc 19 74 5 is_stmt 1 view .LVU621
 2286              	.LBB777:
 2287              	.LBB778:
 2288              	.LBI778:
  68:../../libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 91


 2289              		.loc 19 68 9 view .LVU622
 2290              	.LBB779:
 2291              	.LBB780:
 2292              	.LBB781:
 2293              	.LBI781:
 2294              		.loc 15 204 15 view .LVU623
 2295              		.loc 15 204 15 is_stmt 0 view .LVU624
 2296              	.LBE781:
 2297              	.LBE780:
 2298              	.LBE779:
 2299              	.LBE778:
 2300              	.LBE777:
 2301              	.LBE776:
 2302              	.LBB790:
 2303              	.LBI790:
 2304              		.loc 19 74 5 is_stmt 1 view .LVU625
 2305              	.LBB791:
 2306              	.LBB792:
 2307              	.LBI792:
  68:../../libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 2308              		.loc 19 68 9 view .LVU626
 2309              	.LBB793:
 2310              	.LBB794:
 2311              	.LBB795:
 2312              	.LBI795:
 2313              		.loc 15 204 15 view .LVU627
 2314              		.loc 15 204 15 is_stmt 0 view .LVU628
 2315              	.LBE795:
 2316              	.LBE794:
 2317              	.LBE793:
 2318              	.LBE792:
 2319              	.LBE791:
 2320              	.LBE790:
 2321              	.LBB804:
 2322              	.LBI804:
  96:../../libDaisy/src/sys/system.h ****     ~System() {}
 2323              		.loc 3 96 5 is_stmt 1 view .LVU629
  96:../../libDaisy/src/sys/system.h ****     ~System() {}
 2324              		.loc 3 96 5 is_stmt 0 view .LVU630
 2325              	.LBE804:
 2326              	.LBB805:
 2327              	.LBI805:
  20:../../libDaisy/src/dev/codec_ak4556.h ****     ~Ak4556() {}
 2328              		.loc 2 20 5 is_stmt 1 view .LVU631
 2329              	.LBB806:
 2330              	.LBI806:
 2331              		.loc 19 74 5 view .LVU632
 2332              	.LBB807:
 2333              	.LBB808:
 2334              	.LBI808:
  68:../../libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 2335              		.loc 19 68 9 view .LVU633
 2336              	.LBB809:
 2337              	.LBB810:
 2338              	.LBB811:
 2339              	.LBI811:
 2340              		.loc 15 204 15 view .LVU634
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 92


 2341              		.loc 15 204 15 is_stmt 0 view .LVU635
 2342              	.LBE811:
 2343              	.LBE810:
 2344              	.LBE809:
 2345              	.LBE808:
 2346              	.LBE807:
 2347              	.LBE806:
 2348              	.LBE805:
 2349              	.LBB822:
 2350              	.LBI822:
 2351              		.file 20 "../../libDaisy/src/per/sai.h"
   1:../../libDaisy/src/per/sai.h **** #pragma once
   2:../../libDaisy/src/per/sai.h **** #ifndef DSY_SAI_H
   3:../../libDaisy/src/per/sai.h **** #define DSY_SAI_H
   4:../../libDaisy/src/per/sai.h **** 
   5:../../libDaisy/src/per/sai.h **** #include "util/hal_map.h"
   6:../../libDaisy/src/per/sai.h **** #include "daisy_core.h"
   7:../../libDaisy/src/per/sai.h **** 
   8:../../libDaisy/src/per/sai.h **** namespace daisy
   9:../../libDaisy/src/per/sai.h **** {
  10:../../libDaisy/src/per/sai.h **** /** 
  11:../../libDaisy/src/per/sai.h ****  * Support for I2S Audio Protocol with different bit-depth, samplerate options
  12:../../libDaisy/src/per/sai.h ****  * Allows for master or slave, as well as freedom of selecting direction, 
  13:../../libDaisy/src/per/sai.h ****  * and other behavior for each peripheral, and block.
  14:../../libDaisy/src/per/sai.h ****  * 
  15:../../libDaisy/src/per/sai.h ****  * DMA Transfer commands must use buffers located within non-cached memory or use cache maintenance
  16:../../libDaisy/src/per/sai.h ****  * To declare an unitialized global element in the DMA memory section:
  17:../../libDaisy/src/per/sai.h ****  *    int32_t DSY_DMA_BUFFER_SECTOR my_buffer[96];
  18:../../libDaisy/src/per/sai.h ****  *
  19:../../libDaisy/src/per/sai.h ****  * Callback functions will be called once per half of the buffer. In the above example, 
  20:../../libDaisy/src/per/sai.h ****  * the callback function would be called once for every 48 samples.
  21:../../libDaisy/src/per/sai.h ****  * 
  22:../../libDaisy/src/per/sai.h ****  * Use SAI Handle like this:
  23:../../libDaisy/src/per/sai.h ****  * 
  24:../../libDaisy/src/per/sai.h ****  *  SaiHandle::Config sai_config;
  25:../../libDaisy/src/per/sai.h ****  *  sai_config.periph          = SaiHandle::Config::Peripheral::SAI_1;
  26:../../libDaisy/src/per/sai.h ****  *  sai_config.sr              = SaiHandle::Config::SampleRate::SAI_48KHZ;
  27:../../libDaisy/src/per/sai.h ****  *  sai_config.bit_depth       = SaiHandle::Config::BitDepth::SAI_24BIT;
  28:../../libDaisy/src/per/sai.h ****  *  sai_config.a_sync          = SaiHandle::Config::Sync::MASTER;
  29:../../libDaisy/src/per/sai.h ****  *  sai_config.b_sync          = SaiHandle::Config::Sync::SLAVE;
  30:../../libDaisy/src/per/sai.h ****  *  sai_config.a_dir           = SaiHandle::Config::Direction::RECEIVE;
  31:../../libDaisy/src/per/sai.h ****  *  sai_config.b_dir           = SaiHandle::Config::Direction::TRANSMIT;
  32:../../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.fs   = {DSY_GPIOE, 4};
  33:../../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.mclk = {DSY_GPIOE, 2};
  34:../../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.sck  = {DSY_GPIOE, 5};
  35:../../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.sa   = {DSY_GPIOE, 6};
  36:../../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.sb   = {DSY_GPIOE, 3};
  37:../../libDaisy/src/per/sai.h ****  *  // Then Initialize
  38:../../libDaisy/src/per/sai.h ****  *  SaiHandle sai;
  39:../../libDaisy/src/per/sai.h ****  *  sai.Init(sai_config);
  40:../../libDaisy/src/per/sai.h ****  *  // Now you can use it:
  41:../../libDaisy/src/per/sai.h ****  *  sai.StartDma(. . .);
  42:../../libDaisy/src/per/sai.h ****  */
  43:../../libDaisy/src/per/sai.h **** class SaiHandle
  44:../../libDaisy/src/per/sai.h **** {
  45:../../libDaisy/src/per/sai.h ****   public:
  46:../../libDaisy/src/per/sai.h ****     /** Contains settings for initialising an SAI Interface */
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 93


  47:../../libDaisy/src/per/sai.h ****     struct Config
  48:../../libDaisy/src/per/sai.h ****     {
  49:../../libDaisy/src/per/sai.h ****         /** Specifies the internal peripheral to use (mapped to different hardware pins) */
  50:../../libDaisy/src/per/sai.h ****         enum class Peripheral
  51:../../libDaisy/src/per/sai.h ****         {
  52:../../libDaisy/src/per/sai.h ****             SAI_1,
  53:../../libDaisy/src/per/sai.h ****             SAI_2,
  54:../../libDaisy/src/per/sai.h ****         };
  55:../../libDaisy/src/per/sai.h **** 
  56:../../libDaisy/src/per/sai.h ****         /** Rate at which samples will be streaming to/from the device. */
  57:../../libDaisy/src/per/sai.h ****         enum class SampleRate
  58:../../libDaisy/src/per/sai.h ****         {
  59:../../libDaisy/src/per/sai.h ****             SAI_8KHZ,
  60:../../libDaisy/src/per/sai.h ****             SAI_16KHZ,
  61:../../libDaisy/src/per/sai.h ****             SAI_32KHZ,
  62:../../libDaisy/src/per/sai.h ****             SAI_48KHZ,
  63:../../libDaisy/src/per/sai.h ****             SAI_96KHZ,
  64:../../libDaisy/src/per/sai.h ****         };
  65:../../libDaisy/src/per/sai.h **** 
  66:../../libDaisy/src/per/sai.h ****         /** Bit Depth that the hardware expects to be transferred to/from the device. */
  67:../../libDaisy/src/per/sai.h ****         enum class BitDepth
  68:../../libDaisy/src/per/sai.h ****         {
  69:../../libDaisy/src/per/sai.h ****             SAI_16BIT,
  70:../../libDaisy/src/per/sai.h ****             SAI_24BIT,
  71:../../libDaisy/src/per/sai.h ****             SAI_32BIT,
  72:../../libDaisy/src/per/sai.h ****         };
  73:../../libDaisy/src/per/sai.h **** 
  74:../../libDaisy/src/per/sai.h ****         /** Specifies whether a particular block is the master or the slave 
  75:../../libDaisy/src/per/sai.h ****          ** If both are set to slave, no MCLK signal will be used, and it is
  76:../../libDaisy/src/per/sai.h ****          ** expected that the codec will have its own xtal.
  77:../../libDaisy/src/per/sai.h ****          */
  78:../../libDaisy/src/per/sai.h ****         enum class Sync
  79:../../libDaisy/src/per/sai.h ****         {
  80:../../libDaisy/src/per/sai.h ****             MASTER,
  81:../../libDaisy/src/per/sai.h ****             SLAVE,
  82:../../libDaisy/src/per/sai.h ****         };
  83:../../libDaisy/src/per/sai.h **** 
  84:../../libDaisy/src/per/sai.h ****         /** Specifies the direction for each peripheral block. */
  85:../../libDaisy/src/per/sai.h ****         enum class Direction
  86:../../libDaisy/src/per/sai.h ****         {
  87:../../libDaisy/src/per/sai.h ****             TRANSMIT,
  88:../../libDaisy/src/per/sai.h ****             RECEIVE,
  89:../../libDaisy/src/per/sai.h ****         };
  90:../../libDaisy/src/per/sai.h **** 
  91:../../libDaisy/src/per/sai.h ****         Peripheral periph;
  92:../../libDaisy/src/per/sai.h ****         struct
  93:../../libDaisy/src/per/sai.h ****         {
  94:../../libDaisy/src/per/sai.h ****             Pin mclk, fs, sck, sa, sb;
  95:../../libDaisy/src/per/sai.h ****         } pin_config;
  96:../../libDaisy/src/per/sai.h ****         SampleRate sr;
  97:../../libDaisy/src/per/sai.h ****         BitDepth   bit_depth;
  98:../../libDaisy/src/per/sai.h ****         Sync       a_sync, b_sync;
  99:../../libDaisy/src/per/sai.h ****         Direction  a_dir, b_dir;
 100:../../libDaisy/src/per/sai.h ****     };
 101:../../libDaisy/src/per/sai.h **** 
 102:../../libDaisy/src/per/sai.h ****     /** Return values for SAI functions */
 103:../../libDaisy/src/per/sai.h ****     enum class Result
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 94


 104:../../libDaisy/src/per/sai.h ****     {
 105:../../libDaisy/src/per/sai.h ****         OK,
 106:../../libDaisy/src/per/sai.h ****         ERR,
 107:../../libDaisy/src/per/sai.h ****     };
 108:../../libDaisy/src/per/sai.h **** 
 109:../../libDaisy/src/per/sai.h ****     SaiHandle() : pimpl_(nullptr) {}
 2352              		.loc 20 109 5 is_stmt 1 view .LVU636
 2353              	.LBE822:
 2354              	.LBE756:
 2355              	.LBE755:
 2356              	.LBE754:
 2357              	.LBE753:
 2358              		.loc 7 415 1 is_stmt 0 view .LVU637
 2359 0000 38B5     		push	{r3, r4, r5, lr}
 2360              		.cfi_def_cfa_offset 16
 2361              		.cfi_offset 3, -16
 2362              		.cfi_offset 4, -12
 2363              		.cfi_offset 5, -8
 2364              		.cfi_offset 14, -4
 2365              	.LBB899:
 2366              	.LBB897:
 2367              	.LBB838:
 2368              	.LBB835:
 2369              	.LBB825:
 2370              	.LBB758:
 2371              	.LBB759:
 2372              		.loc 17 167 34 view .LVU638
 2373 0002 2348     		ldr	r0, .L119
 2374 0004 0024     		movs	r4, #0
 2375              	.LBE759:
 2376              	.LBE758:
 2377              	.LBE825:
  21:../../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 2378              		.loc 1 21 17 view .LVU639
 2379 0006 4FF60B73 		movw	r3, #65291
 2380 000a 6FF0F411 		mvn	r1, #15991028
 2381              	.LBE835:
 2382              	.LBE838:
  17:SYNTHMACHINE.cpp **** MidiUsbHandler midi;
 2383              		.loc 7 17 16 view .LVU640
 2384 000e 214A     		ldr	r2, .L119+4
 2385              	.LBB839:
 2386              	.LBB840:
 2387              	.LBB841:
 2388              	.LBB842:
 2389              	.LBB843:
  15:../../libDaisy/src/util/FIFO.h ****     {
 2390              		.loc 8 15 75 view .LVU641
 2391 0010 8125     		movs	r5, #129
 2392              	.LBE843:
 2393              	.LBE842:
 2394              	.LBE841:
 2395              	.LBE840:
 2396              	.LBE839:
 2397              	.LBB856:
 2398              	.LBB836:
 2399              	.LBB826:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 95


 2400              	.LBB769:
 2401              	.LBB770:
  87:../../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 2402              		.loc 6 87 35 view .LVU642
 2403 0012 4461     		str	r4, [r0, #20]
 2404              	.LBE770:
 2405              	.LBE769:
 2406              	.LBE826:
 2407              	.LBB827:
 2408              	.LBB773:
 2409              	.LBB774:
 2410              		.loc 18 84 33 view .LVU643
 2411 0014 0462     		str	r4, [r0, #32]
 2412              	.LBE774:
 2413              	.LBE773:
 2414              	.LBE827:
  21:../../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 2415              		.loc 1 21 17 view .LVU644
 2416 0016 8365     		str	r3, [r0, #88]
 2417              	.LBB828:
 2418              	.LBB820:
 2419              	.LBB818:
 2420              	.LBB816:
 2421              	.LBB814:
 2422              	.LBB812:
  69:../../libDaisy/src/per/gpio.h ****         {
 2423              		.loc 19 69 73 view .LVU645
 2424 0018 4466     		str	r4, [r0, #100]
 2425              	.LBE812:
 2426              	.LBE814:
 2427              	.LBE816:
 2428              	.LBE818:
 2429              	.LBE820:
 2430              	.LBE828:
 2431              	.LBB829:
 2432              	.LBB823:
 2433              	.LBB824:
 2434              		.loc 20 109 33 view .LVU646
 2435 001a 0467     		str	r4, [r0, #112]
 2436              	.LVL157:
 2437              		.loc 20 109 33 view .LVU647
 2438              	.LBE824:
 2439              	.LBE823:
 2440              	.LBE829:
  21:../../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 2441              		.loc 1 21 17 view .LVU648
 2442 001c C0E90041 		strd	r4, r1, [r0]
 2443              	.LBB830:
 2444              	.LBB788:
 2445              	.LBB786:
 2446              	.LBB784:
 2447              	.LBB782:
  69:../../libDaisy/src/per/gpio.h ****         {
 2448              		.loc 19 69 73 view .LVU649
 2449 0020 C0E90A34 		strd	r3, r4, [r0, #40]
 2450              	.LBE782:
 2451              	.LBE784:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 96


 2452              	.LBE786:
 2453              	.LBE788:
 2454              	.LBE830:
 2455              	.LBB831:
 2456              	.LBB802:
 2457              	.LBB800:
 2458              	.LBB798:
 2459              	.LBB796:
 2460 0024 C0E90F34 		strd	r3, r4, [r0, #60]
 2461              	.LBE796:
 2462              	.LBE798:
 2463              	.LBE800:
 2464              	.LBE802:
 2465              	.LBE831:
  21:../../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 2466              		.loc 1 21 17 view .LVU650
 2467 0028 C0E90211 		strd	r1, r1, [r0, #8]
 2468              	.LBB832:
 2469              	.LBB789:
 2470              	.LBB787:
 2471              	.LBB785:
 2472              	.LBB783:
  69:../../libDaisy/src/per/gpio.h ****         {
 2473              		.loc 19 69 73 view .LVU651
 2474 002c C0E90C44 		strd	r4, r4, [r0, #48]
 2475              	.LBE783:
 2476              	.LBE785:
 2477              	.LBE787:
 2478              	.LBE789:
 2479              	.LBE832:
 2480              	.LBE836:
 2481              	.LBE856:
  17:SYNTHMACHINE.cpp **** MidiUsbHandler midi;
 2482              		.loc 7 17 16 view .LVU652
 2483 0030 1949     		ldr	r1, .L119+8
 2484              	.LBB857:
 2485              	.LBB837:
 2486              	.LBB833:
 2487              	.LBB803:
 2488              	.LBB801:
 2489              	.LBB799:
 2490              	.LBB797:
  69:../../libDaisy/src/per/gpio.h ****         {
 2491              		.loc 19 69 73 view .LVU653
 2492 0032 C0E91144 		strd	r4, r4, [r0, #68]
 2493              	.LBE797:
 2494              	.LBE799:
 2495              	.LBE801:
 2496              	.LBE803:
 2497              	.LBE833:
 2498              	.LBB834:
 2499              	.LBB821:
 2500              	.LBB819:
 2501              	.LBB817:
 2502              	.LBB815:
 2503              	.LBB813:
 2504 0036 C0E91744 		strd	r4, r4, [r0, #92]
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 97


 2505              	.LBE813:
 2506              	.LBE815:
 2507              	.LBE817:
 2508              	.LBE819:
 2509              	.LBE821:
 2510              	.LBE834:
 2511              	.LBE837:
 2512              	.LBE857:
  17:SYNTHMACHINE.cpp **** MidiUsbHandler midi;
 2513              		.loc 7 17 16 view .LVU654
 2514 003a FFF7FEFF 		bl	__aeabi_atexit
 2515              	.LVL158:
 2516              	.LBB858:
 2517              	.LBI858:
 155:../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 2518              		.loc 9 155 5 is_stmt 1 view .LVU655
 2519              	.LBB859:
 2520              	.LBB860:
 2521              	.LBI860:
 158:../../libDaisy/src/hid/midi.h ****     {
 2522              		.loc 9 158 12 view .LVU656
 2523              	.LBB861:
 2524              	.LBI861:
  44:../../libDaisy/src/hid/usb_midi.h ****     };
 2525              		.loc 11 44 9 view .LVU657
  44:../../libDaisy/src/hid/usb_midi.h ****     };
 2526              		.loc 11 44 9 is_stmt 0 view .LVU658
 2527              	.LBE861:
 2528              	.LBE860:
 2529              	.LBB862:
 2530              	.LBI862:
  56:../../libDaisy/src/hid/usb_midi.h ****     ~MidiUsbTransport() {}
 2531              		.loc 11 56 5 is_stmt 1 view .LVU659
  56:../../libDaisy/src/hid/usb_midi.h ****     ~MidiUsbTransport() {}
 2532              		.loc 11 56 5 is_stmt 0 view .LVU660
 2533              	.LBE862:
 2534              	.LBB865:
 2535              	.LBI865:
  18:../../libDaisy/src/hid/midi_parser.h ****     ~MidiParser() {}
 2536              		.loc 10 18 5 is_stmt 1 view .LVU661
  18:../../libDaisy/src/hid/midi_parser.h ****     ~MidiParser() {}
 2537              		.loc 10 18 5 is_stmt 0 view .LVU662
 2538              	.LBE865:
 2539              	.LBB866:
 2540              	.LBI866:
 299:../../libDaisy/src/util/FIFO.h **** {
 300:../../libDaisy/src/util/FIFO.h ****   public:
 301:../../libDaisy/src/util/FIFO.h ****     /** Creates an empty FIFO */
 302:../../libDaisy/src/util/FIFO.h ****     FIFO() : FIFOBase<T>(buffer_, capacity + 1) {}
 2541              		.loc 8 302 5 is_stmt 1 view .LVU663
 2542              	.LBB867:
 2543              	.LBB868:
 2544              	.LBI868:
  14:../../libDaisy/src/util/FIFO.h ****     : buffer_(buffer), bufferSize_(bufferSize), bufferIn_(0), bufferOut_(0)
 2545              		.loc 8 14 5 view .LVU664
 2546              	.LBE868:
 2547              	.LBE867:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 98


 2548              	.LBE866:
 155:../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 2549              		.loc 9 155 5 is_stmt 0 view .LVU665
 2550 003e 1748     		ldr	r0, .L119+12
 2551 0040 174B     		ldr	r3, .L119+16
 2552 0042 4FF44071 		mov	r1, #768
 2553              	.LBE859:
 2554              	.LBE858:
  18:SYNTHMACHINE.cpp **** USBHostHandle  usbHost;
 2555              		.loc 7 18 16 view .LVU666
 2556 0046 134A     		ldr	r2, .L119+4
 2557              	.LBB886:
 2558              	.LBB885:
 155:../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 2559              		.loc 9 155 5 view .LVU667
 2560 0048 C0F89C30 		str	r3, [r0, #156]
 2561 004c 40F20F73 		movw	r3, #1807
 2562 0050 0160     		str	r1, [r0]
 2563              	.LBB881:
 2564              	.LBB878:
 2565              	.LBB875:
 2566              	.LBB869:
 2567              	.LBB870:
  15:../../libDaisy/src/util/FIFO.h ****     {
 2568              		.loc 8 15 75 view .LVU668
 2569 0052 00F1B401 		add	r1, r0, #180
 2570              	.LBE870:
 2571              	.LBE869:
 2572              	.LBE875:
 2573              	.LBE878:
 2574              	.LBE881:
 155:../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 2575              		.loc 9 155 5 view .LVU669
 2576 0056 C0F8A030 		str	r3, [r0, #160]
 2577              	.LBB882:
 2578              	.LBB879:
 2579              	.LBB876:
 2580              	.LBB873:
 2581              	.LBB871:
  15:../../libDaisy/src/util/FIFO.h ****     {
 2582              		.loc 8 15 75 view .LVU670
 2583 005a 40F20113 		movw	r3, #257
 2584              	.LBE871:
 2585              	.LBE873:
 2586              	.LBE876:
 2587              	.LBE879:
 2588              	.LBE882:
 2589              	.LBB883:
 2590              	.LBB863:
 2591              	.LBB864:
  56:../../libDaisy/src/hid/usb_midi.h ****     ~MidiUsbTransport() {}
 2592              		.loc 11 56 40 view .LVU671
 2593 005e 4460     		str	r4, [r0, #4]
 2594              	.LBE864:
 2595              	.LBE863:
 2596              	.LBE883:
 2597              	.LBB884:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 99


 2598              	.LBB880:
 2599              	.LBB877:
 2600              	.LBB874:
 2601              	.LBB872:
  15:../../libDaisy/src/util/FIFO.h ****     {
 2602              		.loc 8 15 75 view .LVU672
 2603 0060 C0F8AC40 		str	r4, [r0, #172]
 2604 0064 C0F8B040 		str	r4, [r0, #176]
 2605              	.LVL159:
  15:../../libDaisy/src/util/FIFO.h ****     {
 2606              		.loc 8 15 75 view .LVU673
 2607 0068 C0E92913 		strd	r1, r3, [r0, #164]
 2608              	.LBE872:
 2609              	.LBE874:
 2610              	.LBE877:
 2611              	.LBE880:
 2612              	.LBE884:
 2613              	.LBE885:
 2614              	.LBE886:
  18:SYNTHMACHINE.cpp **** USBHostHandle  usbHost;
 2615              		.loc 7 18 16 view .LVU674
 2616 006c 0D49     		ldr	r1, .L119+20
 2617 006e FFF7FEFF 		bl	__aeabi_atexit
 2618              	.LVL160:
 2619              	.LBB887:
 2620              	.LBI887:
  79:../../libDaisy/src/hid/usb_host.h ****         {
  80:../../libDaisy/src/hid/usb_host.h ****         }
  81:../../libDaisy/src/hid/usb_host.h ****         ConnectCallback     connect_callback;
  82:../../libDaisy/src/hid/usb_host.h ****         DisconnectCallback  disconnect_callback;
  83:../../libDaisy/src/hid/usb_host.h ****         ClassActiveCallback class_active_callback;
  84:../../libDaisy/src/hid/usb_host.h ****         ErrorCallback       error_callback;
  85:../../libDaisy/src/hid/usb_host.h ****         void*               userdata;
  86:../../libDaisy/src/hid/usb_host.h ****     };
  87:../../libDaisy/src/hid/usb_host.h **** 
  88:../../libDaisy/src/hid/usb_host.h ****     /**
  89:../../libDaisy/src/hid/usb_host.h ****      * Register a USB class
  90:../../libDaisy/src/hid/usb_host.h ****      */
  91:../../libDaisy/src/hid/usb_host.h ****     Result RegisterClass(USBH_ClassTypeDef* pClass);
  92:../../libDaisy/src/hid/usb_host.h **** 
  93:../../libDaisy/src/hid/usb_host.h ****     /** Initializes the USB drivers and starts timeout.
  94:../../libDaisy/src/hid/usb_host.h ****      *
  95:../../libDaisy/src/hid/usb_host.h ****      *  \param config Configuration struct for initialization
  96:../../libDaisy/src/hid/usb_host.h ****      */
  97:../../libDaisy/src/hid/usb_host.h ****     Result Init(USBHostHandle::Config& config);
  98:../../libDaisy/src/hid/usb_host.h **** 
  99:../../libDaisy/src/hid/usb_host.h ****     /** Deinitializes USB host-related peripherals
 100:../../libDaisy/src/hid/usb_host.h ****      *
 101:../../libDaisy/src/hid/usb_host.h ****      */
 102:../../libDaisy/src/hid/usb_host.h ****     Result Deinit();
 103:../../libDaisy/src/hid/usb_host.h **** 
 104:../../libDaisy/src/hid/usb_host.h ****     /**
 105:../../libDaisy/src/hid/usb_host.h ****      * Returns true if the specified class is active
 106:../../libDaisy/src/hid/usb_host.h ****      */
 107:../../libDaisy/src/hid/usb_host.h ****     bool IsActiveClass(USBH_ClassTypeDef* usbClass);
 108:../../libDaisy/src/hid/usb_host.h **** 
 109:../../libDaisy/src/hid/usb_host.h ****     /** Manages usb host functionality
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 100


 110:../../libDaisy/src/hid/usb_host.h ****      *
 111:../../libDaisy/src/hid/usb_host.h ****      */
 112:../../libDaisy/src/hid/usb_host.h ****     Result Process();
 113:../../libDaisy/src/hid/usb_host.h **** 
 114:../../libDaisy/src/hid/usb_host.h ****     /** Forces USB host to re-enumerate device */
 115:../../libDaisy/src/hid/usb_host.h ****     Result ReEnumerate();
 116:../../libDaisy/src/hid/usb_host.h **** 
 117:../../libDaisy/src/hid/usb_host.h ****     /** Returns true if a Mass Storage Device is connected
 118:../../libDaisy/src/hid/usb_host.h ****      *  and ready for communicaton
 119:../../libDaisy/src/hid/usb_host.h ****      *
 120:../../libDaisy/src/hid/usb_host.h ****      */
 121:../../libDaisy/src/hid/usb_host.h ****     bool GetReady();
 122:../../libDaisy/src/hid/usb_host.h **** 
 123:../../libDaisy/src/hid/usb_host.h ****     /** Run after the first `Process` call to detect if
 124:../../libDaisy/src/hid/usb_host.h ****      *  a device is present
 125:../../libDaisy/src/hid/usb_host.h ****      *
 126:../../libDaisy/src/hid/usb_host.h ****      */
 127:../../libDaisy/src/hid/usb_host.h ****     bool GetPresent();
 128:../../libDaisy/src/hid/usb_host.h **** 
 129:../../libDaisy/src/hid/usb_host.h ****     /** Returns name of the connected devices if there is one
 130:../../libDaisy/src/hid/usb_host.h ****      */
 131:../../libDaisy/src/hid/usb_host.h ****     const char* GetProductName();
 132:../../libDaisy/src/hid/usb_host.h **** 
 133:../../libDaisy/src/hid/usb_host.h ****     /** @brief Returns if the HAL detects that the port is enabled */
 134:../../libDaisy/src/hid/usb_host.h ****     bool IsPortEnabled();
 135:../../libDaisy/src/hid/usb_host.h **** 
 136:../../libDaisy/src/hid/usb_host.h ****     /** @brief Returns if the ST Middleware detects a connected device */
 137:../../libDaisy/src/hid/usb_host.h ****     bool IsDeviceConnected();
 138:../../libDaisy/src/hid/usb_host.h **** 
 139:../../libDaisy/src/hid/usb_host.h ****     USBHostHandle() : pimpl_(nullptr) {}
 2621              		.loc 13 139 5 is_stmt 1 view .LVU675
 2622              	.LBE887:
 2623              	.LBB892:
 2624              	.LBB853:
 2625              	.LBB850:
 2626              	.LBB847:
 2627              	.LBB844:
  15:../../libDaisy/src/util/FIFO.h ****     {
 2628              		.loc 8 15 75 is_stmt 0 view .LVU676
 2629 0072 0D48     		ldr	r0, .L119+24
 2630              	.LBE844:
 2631              	.LBE847:
 2632              	.LBE850:
 2633              	.LBE853:
 2634              	.LBE892:
 2635              	.LBB893:
 2636              	.LBB888:
 2637              	.LBB889:
 2638              		.loc 13 139 37 view .LVU677
 2639 0074 0D4B     		ldr	r3, .L119+28
 2640              	.LBE889:
 2641              	.LBE888:
 2642              	.LBE893:
 2643              	.LBB894:
 2644              	.LBB854:
 2645              	.LBB851:
 2646              	.LBB848:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 101


 2647              	.LBB845:
  15:../../libDaisy/src/util/FIFO.h ****     {
 2648              		.loc 8 15 75 view .LVU678
 2649 0076 00F11001 		add	r1, r0, #16
 2650              	.LBE845:
 2651              	.LBE848:
 2652              	.LBE851:
 2653              	.LBE854:
 2654              	.LBE894:
 152:SYNTHMACHINE.cpp **** 
 2655              		.loc 7 152 22 view .LVU679
 2656 007a 064A     		ldr	r2, .L119+4
 2657              	.LBB895:
 2658              	.LBB891:
 2659              	.LBB890:
 2660              		.loc 13 139 37 view .LVU680
 2661 007c 1C60     		str	r4, [r3]
 2662              	.LVL161:
 2663              		.loc 13 139 37 view .LVU681
 2664              	.LBE890:
 2665              	.LBE891:
 2666              	.LBE895:
 2667              	.LBB896:
 2668              	.LBI839:
 2669              		.loc 8 302 5 is_stmt 1 view .LVU682
 2670              	.LBB855:
 2671              	.LBB852:
 2672              	.LBI841:
  14:../../libDaisy/src/util/FIFO.h ****     : buffer_(buffer), bufferSize_(bufferSize), bufferIn_(0), bufferOut_(0)
 2673              		.loc 8 14 5 view .LVU683
 2674              	.LBB849:
 2675              	.LBB846:
  15:../../libDaisy/src/util/FIFO.h ****     {
 2676              		.loc 8 15 75 is_stmt 0 view .LVU684
 2677 007e C0E90015 		strd	r1, r5, [r0]
 2678 0082 C0E90244 		strd	r4, r4, [r0, #8]
 2679              	.LVL162:
  15:../../libDaisy/src/util/FIFO.h ****     {
 2680              		.loc 8 15 75 view .LVU685
 2681              	.LBE846:
 2682              	.LBE849:
 2683              	.LBE852:
 2684              	.LBE855:
 2685              	.LBE896:
 152:SYNTHMACHINE.cpp **** 
 2686              		.loc 7 152 22 view .LVU686
 2687 0086 0A49     		ldr	r1, .L119+32
 2688              	.LBE897:
 2689              	.LBE899:
 2690              		.loc 7 415 1 view .LVU687
 2691 0088 BDE83840 		pop	{r3, r4, r5, lr}
 2692              		.cfi_restore 14
 2693              		.cfi_restore 5
 2694              		.cfi_restore 4
 2695              		.cfi_restore 3
 2696              		.cfi_def_cfa_offset 0
 2697              	.LBB900:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 102


 2698              	.LBB898:
 152:SYNTHMACHINE.cpp **** 
 2699              		.loc 7 152 22 view .LVU688
 2700 008c FFF7FEBF 		b	__aeabi_atexit
 2701              	.LVL163:
 2702              	.L120:
 2703              		.align	2
 2704              	.L119:
 2705 0090 00000000 		.word	.LANCHOR1
 2706 0094 00000000 		.word	__dso_handle
 2707 0098 00000000 		.word	_ZN5daisy9DaisySeedD1Ev
 2708 009c 00000000 		.word	midi
 2709 00a0 0080707F 		.word	2138079232
 2710 00a4 00000000 		.word	_ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED1Ev
 2711 00a8 00000000 		.word	event_log
 2712 00ac 00000000 		.word	.LANCHOR0
 2713 00b0 00000000 		.word	_ZN5daisy4FIFOINS_9MidiEventELj128EED1Ev
 2714              	.LBE898:
 2715              	.LBE900:
 2716              		.cfi_endproc
 2717              	.LFE5526:
 2719              		.section	.init_array,"aw",%init_array
 2720              		.align	2
 2721 0000 00000000 		.word	_GLOBAL__sub_I_hw(target1)
 2722              		.global	event_log
 2723              		.global	usbHost
 2724              		.global	midi
 2725              		.global	hw
 2726              		.section	.bss.event_log,"aw",%nobits
 2727              		.align	2
 2730              	event_log:
 2731 0000 00000000 		.space	18592
 2731      00000000 
 2731      00000000 
 2731      00000000 
 2731      00000000 
 2732              		.section	.bss.hw,"aw",%nobits
 2733              		.align	2
 2734              		.set	.LANCHOR1,. + 0
 2737              	hw:
 2738 0000 00000000 		.space	116
 2738      00000000 
 2738      00000000 
 2738      00000000 
 2738      00000000 
 2739              		.section	.bss.midi,"aw",%nobits
 2740              		.align	2
 2743              	midi:
 2744 0000 00000000 		.space	37188
 2744      00000000 
 2744      00000000 
 2744      00000000 
 2744      00000000 
 2745              		.section	.bss.usbHost,"aw",%nobits
 2746              		.align	2
 2747              		.set	.LANCHOR0,. + 0
 2750              	usbHost:
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 103


 2751 0000 00000000 		.space	4
 2752              		.section	.rodata._ZN5daisy4seedL3D11E,"a"
 2753              		.align	2
 2754              		.set	.LANCHOR2,. + 0
 2757              	_ZN5daisy4seedL3D11E:
 2758 0000 01       		.byte	1
 2759 0001 08       		.byte	8
 2760              		.section	.rodata._ZN5daisy4seedL3D12E,"a"
 2761              		.align	2
 2762              		.set	.LANCHOR3,. + 0
 2765              	_ZN5daisy4seedL3D12E:
 2766 0000 01       		.byte	1
 2767 0001 09       		.byte	9
 2768              		.section	.sram1_bss,"aw"
 2769              		.align	2
 2770              		.set	.LANCHOR4,. + 0
 2773              	_ZL17DAC_output_buffer:
 2774 0000 00000000 		.space	12
 2774      00000000 
 2774      00000000 
 2775              		.text
 2776              	.Letext0:
 2777              		.file 21 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\machine\\_default_types.h"
 2778              		.file 22 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\sys\\_stdint.h"
 2779              		.file 23 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\stdint.h"
 2780              		.file 24 "c:\\program files\\daisytoolchain\\lib\\gcc\\arm-none-eabi\\10.2.1\\include\\stddef.h"
 2781              		.file 25 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cmath"
 2782              		.file 26 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\std_abs.h"
 2783              		.file 27 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstdlib"
 2784              		.file 28 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstdint"
 2785              		.file 29 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\arm-none-eabi\\t
 2786              		.file 30 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\type_traits"
 2787              		.file 31 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\debug\\debug.h"
 2788              		.file 32 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\algorithmf
 2789              		.file 33 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\stl_pair.h
 2790              		.file 34 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\exception_
 2791              		.file 35 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\initializer_list
 2792              		.file 36 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstdarg"
 2793              		.file 37 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstdio"
 2794              		.file 38 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstring"
 2795              		.file 39 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstddef"
 2796              		.file 40 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cwchar"
 2797              		.file 41 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\clocale"
 2798              		.file 42 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\basic_stri
 2799              		.file 43 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\stl_tempbu
 2800              		.file 44 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\predefined
 2801              		.file 45 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\sys\\_types.h"
 2802              		.file 46 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\sys\\reent.h"
 2803              		.file 47 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\sys\\lock.h"
 2804              		.file 48 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\math.h"
 2805              		.file 49 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\stdlib.h"
 2806              		.file 50 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\math.h"
 2807              		.file 51 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\stdlib.h"
 2808              		.file 52 "../../libDaisy/src/dev/max11300.h"
 2809              		.file 53 "../../libDaisy/src/dev/sr_595.h"
 2810              		.file 54 "../../libDaisy/src/util/wav_format.h"
 2811              		.file 55 "../../libDaisy/src/dev/sdram.h"
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 104


 2812              		.file 56 "c:\\program files\\daisytoolchain\\lib\\gcc\\arm-none-eabi\\10.2.1\\include\\stdarg.h"
 2813              		.file 57 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\stdio.h"
 2814              		.file 58 "../../libDaisy/Middlewares/ST/STM32_USB_Host_Library/Core/Inc/usbh_def.h"
 2815              		.file 59 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\string.h"
 2816              		.file 60 "../../libDaisy/Middlewares/Third_Party/FatFs/src/integer.h"
 2817              		.file 61 "../../libDaisy/Middlewares/Third_Party/FatFs/src/ff.h"
 2818              		.file 62 "../../libDaisy/Middlewares/ST/STM32_USB_Host_Library/Class/MIDI/Inc/usbh_midi.h"
 2819              		.file 63 "../../DaisySP/Source/Control/adenv.h"
 2820              		.file 64 "../../DaisySP/Source/Utility/dsp.h"
 2821              		.file 65 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\wchar.h"
 2822              		.file 66 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\locale.h"
 2823              		.file 67 "<built-in>"
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 105


DEFINED SYMBOLS
                            *ABS*:00000000 SYNTHMACHINE.cpp
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:17     .text._ZN5daisy9DaisySeedD2Ev:00000000 $t
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:26     .text._ZN5daisy9DaisySeedD2Ev:00000000 _ZN5daisy9DaisySeedD2Ev
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:26     .text._ZN5daisy9DaisySeedD2Ev:00000000 _ZN5daisy9DaisySeedD1Ev
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:73     .text._Z12USBH_ConnectPv:00000000 $t
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:81     .text._Z12USBH_ConnectPv:00000000 _Z12USBH_ConnectPv
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:96     .text._ZN5daisy4FIFOINS_9MidiEventELj128EED2Ev:00000000 $t
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:104    .text._ZN5daisy4FIFOINS_9MidiEventELj128EED2Ev:00000000 _ZN5daisy4FIFOINS_9MidiEventELj128EED2Ev
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:104    .text._ZN5daisy4FIFOINS_9MidiEventELj128EED2Ev:00000000 _ZN5daisy4FIFOINS_9MidiEventELj128EED1Ev
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:126    .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev:00000000 $t
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:134    .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev:00000000 _ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:134    .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED2Ev:00000000 _ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED1Ev
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:172    .text._Z16USBH_ClassActivePv:00000000 $t
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:180    .text._Z16USBH_ClassActivePv:00000000 _Z16USBH_ClassActivePv
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:284    .text._Z16USBH_ClassActivePv:00000038 $d
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:2743   .bss.midi:00000000 midi
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:305    .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE13ParseCallbackEPhjPv:00000000 _ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE13ParseCallbackEPhjPv
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:297    .text._ZN5daisy11MidiHandlerINS_16MidiUsbTransportEE13ParseCallbackEPhjPv:00000000 $t
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:469    .text._Z15USBH_DisconnectPv:00000000 $t
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:477    .text._Z15USBH_DisconnectPv:00000000 _Z15USBH_DisconnectPv
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:488    .text._Z10USBH_ErrorPv:00000000 $t
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:496    .text._Z10USBH_ErrorPv:00000000 _Z10USBH_ErrorPv
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:507    .text._Z37DAC_I2C_GENERATE_MULTI_CHANNEL_PARAMShhhh:00000000 $t
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:515    .text._Z37DAC_I2C_GENERATE_MULTI_CHANNEL_PARAMShhhh:00000000 _Z37DAC_I2C_GENERATE_MULTI_CHANNEL_PARAMShhhh
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:540    .text._Z19DAC_I2C_MULTI_WRITEhPhPtS_hN5daisy9I2CHandleE:00000000 $t
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:548    .text._Z19DAC_I2C_MULTI_WRITEhPhPtS_hN5daisy9I2CHandleE:00000000 _Z19DAC_I2C_MULTI_WRITEhPhPtS_hN5daisy9I2CHandleE
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:651    .text._Z16DAC_I2C_SET_VREFhhhhhPhN5daisy9I2CHandleE:00000000 $t
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:659    .text._Z16DAC_I2C_SET_VREFhhhhhPhN5daisy9I2CHandleE:00000000 _Z16DAC_I2C_SET_VREFhhhhhPhN5daisy9I2CHandleE
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:717    .text._Z16DAC_I2C_SET_GAINhhhhhPhN5daisy9I2CHandleE:00000000 $t
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:725    .text._Z16DAC_I2C_SET_GAINhhhhhPhN5daisy9I2CHandleE:00000000 _Z16DAC_I2C_SET_GAINhhhhhPhN5daisy9I2CHandleE
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:783    .text._Z24MIDI_NOTE_TO_DAC_VOLTAGEh:00000000 $t
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:791    .text._Z24MIDI_NOTE_TO_DAC_VOLTAGEh:00000000 _Z24MIDI_NOTE_TO_DAC_VOLTAGEh
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:822    .text._Z24MIDI_NOTE_TO_DAC_VOLTAGEh:00000018 $d
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:827    .text._Z22OSC_AMP_TO_DAC_VOLTAGEf:00000000 $t
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:835    .text._Z22OSC_AMP_TO_DAC_VOLTAGEf:00000000 _Z22OSC_AMP_TO_DAC_VOLTAGEf
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:872    .text._Z22OSC_AMP_TO_DAC_VOLTAGEf:00000024 $d
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:877    .text._Z22Env_AMP_TO_DAC_VOLTAGEf:00000000 $t
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:885    .text._Z22Env_AMP_TO_DAC_VOLTAGEf:00000000 _Z22Env_AMP_TO_DAC_VOLTAGEf
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:911    .text._Z22Env_AMP_TO_DAC_VOLTAGEf:00000014 $d
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:916    .text.startup.main:00000000 $t
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:924    .text.startup.main:00000000 main
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:1929   .text.startup.main:00000300 $d
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:2730   .bss.event_log:00000000 event_log
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:1969   .text.startup.main:0000035c $t
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:1974   .text.startup.main:00000366 $d
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:2181   .text.startup.main:00000438 $d
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:2195   .text.startup._GLOBAL__sub_I_hw:00000000 $t
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:2202   .text.startup._GLOBAL__sub_I_hw:00000000 _GLOBAL__sub_I_hw
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:2705   .text.startup._GLOBAL__sub_I_hw:00000090 $d
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:2720   .init_array:00000000 $d
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:2750   .bss.usbHost:00000000 usbHost
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:2737   .bss.hw:00000000 hw
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:2727   .bss.event_log:00000000 $d
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:2733   .bss.hw:00000000 $d
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:2740   .bss.midi:00000000 $d
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:2746   .bss.usbHost:00000000 $d
ARM GAS  C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s 			page 106


C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:2753   .rodata._ZN5daisy4seedL3D11E:00000000 $d
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:2757   .rodata._ZN5daisy4seedL3D11E:00000000 _ZN5daisy4seedL3D11E
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:2761   .rodata._ZN5daisy4seedL3D12E:00000000 $d
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:2765   .rodata._ZN5daisy4seedL3D12E:00000000 _ZN5daisy4seedL3D12E
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:2769   .sram1_bss:00000000 $d
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:2773   .sram1_bss:00000000 _ZL17DAC_output_buffer
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:1977   .text.startup.main:00000369 $d
C:\Users\bruh\AppData\Local\Temp\ccXoGE49.s:1977   .text.startup.main:0000036a $t
                           .group:00000000 _ZN5daisy9DaisySeedD5Ev
                           .group:00000000 _ZN5daisy4FIFOINS_9MidiEventELj128EED5Ev
                           .group:00000000 _ZN5daisy11MidiHandlerINS_16MidiUsbTransportEED5Ev

UNDEFINED SYMBOLS
_ZN5daisy13USBHostHandle13IsActiveClassEP17USBH_ClassTypeDef
_ZN5daisy16MidiUsbTransport4InitENS0_6ConfigE
_ZN5daisy10MidiParser5ResetEv
_ZN5daisy16MidiUsbTransport7StartRxEPFvPhjPvES2_
USBH_midi
_ZN5daisy10MidiParser5ParseEhPNS_9MidiEventE
memcpy
_ZN5daisy9I2CHandle11TransmitDmaEtPhtPFvPvNS0_6ResultEES2_
_ZN5daisy9DaisySeed4InitEb
_ZN5daisy11TimerHandle4InitERKNS0_6ConfigE
_ZN5daisy11TimerHandle5StartEv
_ZN5daisy11TimerHandle7GetFreqEv
_ZN5daisy11TimerHandle7GetTickEv
_ZN5daisy13USBHostHandle4InitERNS0_6ConfigE
_ZN5daisy13USBHostHandle13RegisterClassEP17USBH_ClassTypeDef
_ZN5daisy9I2CHandle4InitERKNS0_6ConfigE
_ZN5daisy13USBHostHandle7ProcessEv
_ZN5daisy9DaisySeed6SetLedEb
_ZN5daisy13USBHostHandle10GetPresentEv
_ZN5daisy16MidiUsbTransport8RxActiveEv
memset
_ZN5daisy16MidiUsbTransport7FlushRxEv
__aeabi_atexit
__dso_handle
